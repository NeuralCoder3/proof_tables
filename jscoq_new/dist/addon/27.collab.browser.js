/*! For license information please see 27.collab.browser.js.LICENSE.txt */
(self.webpackChunkaddonCollab=self.webpackChunkaddonCollab||[]).push([[27],{9050:(t,e,n)=>{var r=n(4155),i=n(8853),o=n(5717),s=n(7187),a=n(8864),l=n(2830),c=n(778),h=n(6146)("webrtc-swarm"),u=h.extend("peers"),f=h.extend("heartbeat"),d=(...t)=>{return(n=h,(e=u).enabled?e:n)(...t);var e,n};function p(t,e){if(!(this instanceof p))return new p(t,e);if(!t)throw new Error("SignalHub instance required");e||(e={}),s.EventEmitter.call(this),this.setMaxListeners(0),this.hub=t,this.wrtc=e.wrtc,this.channelConfig=e.channelConfig,this.config=e.config,this.stream=e.stream,this.wrap=e.wrap||function(t){return t},this.unwrap=e.unwrap||function(t){return t},this.offerConstraints=e.offerConstraints||{},this.maxPeers=e.maxPeers||1/0,this.announceInterval=e.announceInterval||ANNOUNCE_INTERVAL,this.giveupTimeout=e.giveupTimeout||GIVEUP_TIMEOUT,this.suspensionDuration=e.suspensionDuration||SUSPENSION_DURATION,this.me=e.uuid||l(),h("my uuid:",this.me),this.remotes={},this.peers=[],this.closed=!1,this.suspended=new Set,function(t,e){const n=l().slice(-12);e.subscribe("all").pipe(a.obj((function(r,o,s){if(r=t.unwrap(r,"all"),t.closed||!r)return s();if(f("/all",r),r.from===t.me)return f("skipping self",r.from),s();if("connect"===r.type){if(t.peers.length>=t.maxPeers)return f("skipping because maxPeers is met",r.from),s();if(t.remotes[r.from])return f("skipping existing remote",r.from),s();if(r.prithee)t.unsuspendPeer(r.from);else if(t.suspended.has(r.from))return f("skipping suspended peer (connect)",r.from),s();if(n<r.rand)return f("rolling initiative to peer",r.from),y(t,e,{rand:n}),s();d("connecting to new peer (as initiator)",r.from);var a=new i({wrtc:t.wrtc,initiator:!0,channelConfig:t.channelConfig,config:t.config,stream:t.stream,offerConstraints:t.offerConstraints});g(t,a,r.from),t.remotes[r.from]=a}s()}))),e.subscribe(t.me).once("open",m.bind(null,t,e,n)).pipe(a.obj((function(e,n,r){if(e=t.unwrap(e,t.me),t.closed||!e)return r();if(h("/me",e),"disconnect"===e.type){var o=e.from;if(a=t.remotes[o]){delete t.remotes[o];var s=t.peers.indexOf(a);s>-1&&t.peers.splice(s,1),a.destroyed||a.destroy(),t.emit("disconnect",a,o)}return r()}var a;if(!(a=t.remotes[e.from])){if(!e.signal||"offer"!==e.signal.type)return h("skipping non-offer",e),r();if(t.suspended.has(e.from))return f("skipping suspended peer (offer)",e.from),r();d("connecting to new peer (not initiator)",e.from),a=t.remotes[e.from]=new i({wrtc:t.wrtc,channelConfig:t.channelConfig,config:t.config,stream:t.stream,offerConstraints:t.offerConstraints}),g(t,a,e.from)}if(e.signal){if(e.signal.candidate){var l=e.signal.candidate.candidate;if(""===l)return r();var c=l&&l.match(/\btyp (\w+)\b/);c&&a._iceObtained.add(c[1])}h("received signal",e.from,e.signal),a.signal(e.signal)}r()})))}(this,t)}function g(t,e,n){e._everConnected=!1,e._iceObtained=new Set,e.on("connect",(function(){d("connected to peer",n),e._everConnected=!0,t.peers.push(e),t.emit("peer",e,n),t.emit("connect",e,n)}));var i=c((function(r){d("disconnected from peer",n,r),t.remotes[n]===e&&delete t.remotes[n];var i=t.peers.indexOf(e);i>-1&&t.peers.splice(i,1),e._everConnected||[...e._iceObtained].some((t=>"host"!=t))||(d("peer did not send any srflx/relay candidates and is put on hiatus",n),t.suspendPeer(n)),t.emit("disconnect",e,n),t.closed||function(t,e,n){var r={type:"disconnect",from:t.me};r=t.wrap(r,n),e.broadcast(n,r)}(t,t.hub,n)})),o=[],s=!1;function a(){if(!t.closed&&!s&&o.length){s=!0;var e={from:t.me,signal:o.shift()};e=t.wrap(e,n),h("sending signal",e.signal),t.hub.broadcast(n,e,(function(){s=!1,a()}))}}e.on("signal",(function(t){o.push(t),a()})),e.on("iceStateChange",((t,e)=>{"failed"===t&&i("ice connection failed")})),e.on("error",i),e.once("close",i),setTimeout((()=>{t.remotes[n]!==e||e.connected||(h("still not connected, giving up",n),i("give-up timeout"),r.nextTick((()=>e.destroy("give-up timeout"))))}),t.giveupTimeout)}function y(t,e,n,r){var i={type:"connect",from:t.me,...n};i=t.wrap(i,"all"),e.broadcast("all",i,r)}function m(t,e,n){t.closed||t.peers.length>=t.maxPeers||y(t,e,{rand:n},(function(){var r=t.announceInterval,i=r[t.peers.length?"lone":"team"],o=Math.floor(Math.random()*r.uncertainty);setTimeout(m.bind(null,t,e,n),i+o)}))}t.exports=p,ANNOUNCE_INTERVAL={lone:3e3,team:13e3,uncertainty:2e3},GIVEUP_TIMEOUT=8e3,SUSPENSION_DURATION=6e5,o(p,s.EventEmitter),p.WEBRTC_SUPPORT=i.WEBRTC_SUPPORT,p.prototype.close=function(t){if(!this.closed){this.closed=!0,t&&this.once("close",t);var e=function(){var t=n.peers.length;if(t>0){var e=0;n.peers.forEach((function(i){i.once("close",(function(){++e===t&&n.emit("close")})),r.nextTick((function(){i.destroy()}))}))}else n.emit("close")},n=this;this.hub.opened?this.hub.close((function(){e()})):e()}},p.prototype.suspendPeer=function(t,e){this.suspended.add(t),e=e||this.suspensionDuration;var n=this;setTimeout((function(){n.suspended.delete(t)}),e)},p.prototype.unsuspendPeer=function(t){this.suspended.delete(t)},p.prototype.beg=function(){const t=l().slice(-12);this.suspended.clear(),y(this,this.hub,{rand:t,prithee:!0})}},6146:(t,e,n)=>{var r=n(4155);e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))})),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=n(6967)(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},6967:(t,e,n)=>{t.exports=function(t){function e(t){let n,i,o,s=null;function a(...t){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=e.formatters[i];if("function"==typeof o){const e=t[s];n=o.call(r,e),t.splice(s,1),s--}return n})),e.formatArgs.call(r,t),(r.log||e.log).apply(r,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=r,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function r(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function i(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(i),...e.skips.map(i).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(861),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}},861:t=>{var e=1e3,n=60*e,r=60*n,i=24*r;function o(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,s){s=s||{};var a,l,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===c&&isFinite(t))return s.long?(a=t,(l=Math.abs(a))>=i?o(a,l,i,"day"):l>=r?o(a,l,r,"hour"):l>=n?o(a,l,n,"minute"):l>=e?o(a,l,e,"second"):a+" ms"):function(t){var o=Math.abs(t);return o>=i?Math.round(t/i)+"d":o>=r?Math.round(t/r)+"h":o>=n?Math.round(t/n)+"m":o>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},2450:(t,e,n)=>{"use strict";var r=n(8212),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=u;var o=Object.create(n(6497));o.inherits=n(5717);var s=n(298),a=n(7025);o.inherits(u,s);for(var l=i(a.prototype),c=0;c<l.length;c++){var h=l[c];u.prototype[h]||(u.prototype[h]=a.prototype[h])}function u(t){if(!(this instanceof u))return new u(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),u.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},119:(t,e,n)=>{"use strict";t.exports=o;var r=n(120),i=Object.create(n(6497));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(5717),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},298:(t,e,n)=>{"use strict";var r=n(4155),i=n(8212);t.exports=v;var o,s=n(5826);v.ReadableState=b,n(7187).EventEmitter;var a=function(t,e){return t.listeners(e).length},l=n(5981),c=n(7042).Buffer,h=n.g.Uint8Array||function(){},u=Object.create(n(6497));u.inherits=n(5717);var f=n(452),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(9963),y=n(3040);u.inherits(v,l);var m=["error","close","destroy","pause","resume"];function b(t,e){t=t||{};var r=e instanceof(o=o||n(2450));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(7745).s),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||n(2450),!(this instanceof v))return new v(t);this._readableState=new b(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function A(t,e,n,r,i){var o,s=t._readableState;return null===e?(s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}}(t,s)):(i||(o=function(t,e){var n,r;return r=e,c.isBuffer(r)||r instanceof h||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):S(t,s)):w(t,s,e,!1))):r||(s.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),S(t,e)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=y.destroy,v.prototype._undestroy=y.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),A(this,t,e,!1,n)},v.prototype.unshift=function(t){return A(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return p||(p=n(7745).s),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var _=8388608;function I(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=_?t=_:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(C,t):C(t))}function C(t){d("emit readable"),t.emit("readable"),L(t)}function S(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(x,t,e))}function x(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function k(t){d("readable nexttick read 0"),t.read(0)}function B(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0==(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0==(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function T(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(R,e,t))}function R(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function M(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}v.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?T(this):E(this),null;if(0===(t=I(t,e))&&e.ended)return 0===e.length&&T(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=I(n,e))),null===(r=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&T(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var l=e&&!1===e.end||t===r.stdout||t===r.stderr?b:c;function c(){d("onend"),t.end()}o.endEmitted?i.nextTick(l):n.once("end",l),t.on("unpipe",(function e(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),t.removeListener("close",y),t.removeListener("finish",m),t.removeListener("drain",h),t.removeListener("error",g),t.removeListener("unpipe",e),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",p),u=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}));var h=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,L(t))}}(n);t.on("drain",h);var u=!1,f=!1;function p(e){d("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==M(o.pipes,t))&&!u&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function g(e){d("onerror",e),b(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",m),b()}function m(){d("onfinish"),t.removeListener("close",y),b()}function b(){d("unpipe"),n.unpipe(t)}return n.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events.error?s(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on(e,n)}(t,"error",g),t.once("close",y),t.once("finish",m),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},v.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=M(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},v.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(k,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(B,t,e))}(this,t)),this},v.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=O},120:(t,e,n)=>{"use strict";t.exports=s;var r=n(2450),i=Object.create(n(6497));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){l(t,e,n)})):l(this,null,null)}function l(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(5717),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},7025:(t,e,n)=>{"use strict";var r=n(4155),i=n(8212);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(undefined),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=m;var s,a=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?setImmediate:i.nextTick;m.WritableState=y;var l=Object.create(n(6497));l.inherits=n(5717);var c,h={deprecate:n(4927)},u=n(5981),f=n(7042).Buffer,d=n.g.Uint8Array||function(){},p=n(3040);function g(){}function y(t,e){s=s||n(2450),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var l=t.highWaterMark,c=t.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=l||0===l?l:r&&(c||0===c)?c:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(I,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(o(r),t._writableState.errorEmitted=!0,t.emit("error",r),I(t,e))}(t,n,r,e,o);else{var s=w(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||A(t,n),r?a(v,t,n,s,o):v(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function m(t){if(s=s||n(2450),!(c.call(m,this)||this instanceof s))return new m(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function b(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function v(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),I(t,e)}function A(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)i[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;i.allBuffers=l,b(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,u=n.callback;if(b(t,e,!1,e.objectMode?1:c.length,c,h,u),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function _(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),I(t,e)}))}function I(t,e){var n=w(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(_,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(m,u),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===m&&t&&t._writableState instanceof y}})):c=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(t,e,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=t,f.isBuffer(r)||r instanceof d);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=g),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),i.nextTick(r,s),o=!1),o}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,a,r,i,o);return l}(this,o,a,t,e,n)),s},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||A(this,t))},m.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,I(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=p.destroy,m.prototype._undestroy=p.undestroy,m.prototype._destroy=function(t,e){this.end(),e(t)}},9963:(t,e,n)=>{"use strict";var r=n(7042).Buffer,i=n(3085);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i=r.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=i,n=s,o.data.copy(e,n),s+=o.data.length,o=o.next;return i},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},3040:(t,e,n)=>{"use strict";var r=n(8212);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5981:(t,e,n)=>{t.exports=n(7187).EventEmitter},8932:(t,e,n)=>{(e=t.exports=n(298)).Stream=e,e.Readable=e,e.Writable=n(7025),e.Duplex=n(2450),e.Transform=n(120),e.PassThrough=n(119)},7042:(t,e,n)=>{var r=n(8764),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},7745:(t,e,n)=>{"use strict";var r=n(7042).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=h,this.end=u,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function h(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},8864:(t,e,n)=>{var r=n(4155),i=n(8932).Transform,o=n(9539).inherits,s=n(7529);function a(t){i.call(this,t),this._destroyed=!1}function l(t,e,n){n(null,t)}function c(t){return function(e,n,r){return"function"==typeof e&&(r=n,n=e,e={}),"function"!=typeof n&&(n=l),"function"!=typeof r&&(r=null),t(e,n,r)}}o(a,i),a.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;r.nextTick((function(){t&&e.emit("error",t),e.emit("close")}))}},t.exports=c((function(t,e,n){var r=new a(t);return r._transform=e,n&&(r._flush=n),r})),t.exports.ctor=c((function(t,e,n){function r(e){if(!(this instanceof r))return new r(e);this.options=s(t,e),a.call(this,this.options)}return o(r,a),r.prototype._transform=e,n&&(r.prototype._flush=n),r})),t.exports.obj=c((function(t,e,n){var r=new a(s({objectMode:!0,highWaterMark:16},t));return r._transform=e,n&&(r._flush=n),r}))},9347:(t,e)=>{"use strict";e.MediaStream=window.MediaStream,e.MediaStreamTrack=window.MediaStreamTrack,e.RTCDataChannel=window.RTCDataChannel,e.RTCDataChannelEvent=window.RTCDataChannelEvent,e.RTCDtlsTransport=window.RTCDtlsTransport,e.RTCIceCandidate=window.RTCIceCandidate,e.RTCIceTransport=window.RTCIceTransport,e.RTCPeerConnection=window.RTCPeerConnection,e.RTCPeerConnectionIceEvent=window.RTCPeerConnectionIceEvent,e.RTCRtpReceiver=window.RTCRtpReceiver,e.RTCRtpSender=window.RTCRtpSender,e.RTCRtpTransceiver=window.RTCRtpTransceiver,e.RTCSctpTransport=window.RTCSctpTransport,e.RTCSessionDescription=window.RTCSessionDescription,e.getUserMedia=window.getUserMedia,e.mediaDevices=navigator.mediaDevices},7879:(t,e,n)=>{const r=n(7092);class i{constructor(t){this.local=t,this.names=null,this.map=null,this.changes=0}update(t){this.names=t,this.changes=0}onmessage(t,e,n=null){this.changes!==this.local.changes&&(this.map=this.names?function(t,e){let n=0,r=0;const i=new Array(e.length);for(;n<t.length&&r<e.length;){const o=t[n].name,s=e[r];o<s?n++:o>s?r++:i[r++]=t[n]}return i}(this.local.messages,this.names):null,this.changes=this.local.changes);const r=this.map&&this.map[t];r&&r.onmessage(e,n)}}class o{constructor(t=null,e){this.messages=[],this.handlers=t,this.Extension=e,this.changes=1,this.exclusive=!0}get length(){return this.messages.length}[Symbol.iterator](){return this.messages[Symbol.iterator]()}get(t){for(const e of this.messages)if(e.name===t)return e;return null}add(t,e){let n;"function"!=typeof e?n=new this.Extension(this,t,e):(n=new this.Extension(this,t,{}),n.handlers=e(n)||{},n.encoding=r(n.handlers.encoding||"binary")),this.changes++,this.messages.push(n),this.messages.sort(s);for(let t=0;t<this.messages.length;t++)this.messages[t].id=t;if(this.exclusive&&(n.id>0&&this.messages[n.id-1].name===n.name||n.id<this.messages.length-1&&this.messages[n.id+1].name===n.name))throw this._remove(n),new Error("Cannot add multiple messages with the same name");return this.handlers&&this.handlers.onextensionupdate&&this.handlers.onextensionupdate(),n}remote(){return new i(this)}_remove(t){this.changes++,this.messages.splice(t.id,1),t.id=-1,this.handlers&&this.handlers.onextensionupdate&&this.handlers.onextensionupdate()}names(){const t=new Array(this.messages.length);for(let e=0;e<t.length;e++)t[e]=this.messages[e].name;return t}}function s(t,e){return t.name<e.name?-1:t.name>e.name?1:0}t.exports=class{constructor(t,e,n={}){this.id=0,this.name=e,this.encoding=r(n.encoding||"binary"),this.handlers=n,this.local=t}encode(t){return this.encoding.encode(t)}remoteSupports(){return!(!this.local||!this.local.map||this.local.map[this.id]!==this)}onmessage(t,e){if(!this.handlers.onmessage)return;let n;try{n=this.encoding.decode(t)}catch(t){return void(this.handlers.onerror&&this.handlers.onerror(t,e))}this.handlers.onmessage(n,e)}get destroyed(){return null===this.local}destroy(){null!==this.local&&(this.local._remove(this),this.local=null)}static createLocal(t=null){return new o(t,this)}}},2190:t=>{t.exports=function(t,n,r){if(t.filter)return t.filter(n,r);if(null==t)throw new TypeError;if("function"!=typeof n)throw new TypeError;for(var i=[],o=0;o<t.length;o++)if(e.call(t,o)){var s=t[o];n.call(r,s,o,t)&&i.push(s)}return i};var e=Object.prototype.hasOwnProperty},9282:(t,e,n)=>{"use strict";var r=n(4155);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o,s,a=n(2136).codes,l=a.ERR_AMBIGUOUS_ARGUMENT,c=a.ERR_INVALID_ARG_TYPE,h=a.ERR_INVALID_ARG_VALUE,u=a.ERR_INVALID_RETURN_VALUE,f=a.ERR_MISSING_ARGS,d=n(5961),p=n(9539).inspect,g=n(9539).types,y=g.isPromise,m=g.isRegExp,b=Object.assign?Object.assign:n(8091).assign,v=Object.is?Object.is:n(609);function A(){var t=n(9158);o=t.isDeepEqual,s=t.isDeepStrictEqual}new Map;var w=!1,_=t.exports=S,I={};function E(t){if(t.message instanceof Error)throw t.message;throw new d(t)}function C(t,e,n,r){if(!n){var i=!1;if(0===e)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var o=new d({actual:n,expected:!0,message:r,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function S(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];C.apply(void 0,[S,e.length].concat(e))}_.fail=function t(e,n,i,o,s){var a,l=arguments.length;if(0===l)a="Failed";else if(1===l)i=e,e=void 0;else{if(!1===w){w=!0;var c=r.emitWarning?r.emitWarning:console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===l&&(o="!=")}if(i instanceof Error)throw i;var h={actual:e,expected:n,operator:void 0===o?"fail":o,stackStartFn:s||t};void 0!==i&&(h.message=i);var u=new d(h);throw a&&(u.message=a,u.generatedMessage=!0),u},_.AssertionError=d,_.ok=S,_.equal=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");e!=n&&E({actual:e,expected:n,message:r,operator:"==",stackStartFn:t})},_.notEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");e==n&&E({actual:e,expected:n,message:r,operator:"!=",stackStartFn:t})},_.deepEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===o&&A(),o(e,n)||E({actual:e,expected:n,message:r,operator:"deepEqual",stackStartFn:t})},_.notDeepEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===o&&A(),o(e,n)&&E({actual:e,expected:n,message:r,operator:"notDeepEqual",stackStartFn:t})},_.deepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===o&&A(),s(e,n)||E({actual:e,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:t})},_.notDeepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===o&&A(),s(e,n)&&E({actual:e,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:t})},_.strictEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");v(e,n)||E({actual:e,expected:n,message:r,operator:"strictEqual",stackStartFn:t})},_.notStrictEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");v(e,n)&&E({actual:e,expected:n,message:r,operator:"notStrictEqual",stackStartFn:t})};var x=function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n.forEach((function(t){t in e&&(void 0!==r&&"string"==typeof r[t]&&m(e[t])&&e[t].test(r[t])?i[t]=r[t]:i[t]=e[t])}))};function k(t,e,n,r,i,o){if(!(n in t)||!s(t[n],e[n])){if(!r){var a=new x(t,i),l=new x(e,i,t),c=new d({actual:a,expected:l,operator:"deepStrictEqual",stackStartFn:o});throw c.actual=t,c.expected=e,c.operator=o.name,c}E({actual:t,expected:e,message:r,operator:o.name,stackStartFn:o})}}function B(t,e,n,r){if("function"!=typeof e){if(m(e))return e.test(t);if(2===arguments.length)throw new c("expected",["Function","RegExp"],e);if("object"!==i(t)||null===t){var s=new d({actual:t,expected:e,message:n,operator:"deepStrictEqual",stackStartFn:r});throw s.operator=r.name,s}var a=Object.keys(e);if(e instanceof Error)a.push("name","message");else if(0===a.length)throw new h("error",e,"may not be an empty object");return void 0===o&&A(),a.forEach((function(i){"string"==typeof t[i]&&m(e[i])&&e[i].test(t[i])||k(t,e,i,n,a,r)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function L(t){if("function"!=typeof t)throw new c("fn","Function",t);try{t()}catch(t){return t}return I}function O(t){return y(t)||null!==t&&"object"===i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function T(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!O(e=t()))throw new u("instance of Promise","promiseFn",e)}else{if(!O(t))throw new c("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return I})).catch((function(t){return t}))}))}function R(t,e,n,r){if("string"==typeof n){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],n);if("object"===i(e)&&null!==e){if(e.message===n)throw new l("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===n)throw new l("error/message",'The error "'.concat(e,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==i(n)&&"function"!=typeof n)throw new c("error",["Object","Error","Function","RegExp"],n);if(e===I){var o="";n&&n.name&&(o+=" (".concat(n.name,")")),o+=r?": ".concat(r):".";var s="rejects"===t.name?"rejection":"exception";E({actual:void 0,expected:n,operator:t.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:t})}if(n&&!B(e,n,r,t))throw e}function M(t,e,n,r){if(e!==I){if("string"==typeof n&&(r=n,n=void 0),!n||B(e,n)){var i=r?": ".concat(r):".",o="doesNotReject"===t.name?"rejection":"exception";E({actual:e,expected:n,operator:t.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function N(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];C.apply(void 0,[N,e.length].concat(e))}_.throws=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];R.apply(void 0,[t,L(e)].concat(r))},_.rejects=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return T(e).then((function(e){return R.apply(void 0,[t,e].concat(r))}))},_.doesNotThrow=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];M.apply(void 0,[t,L(e)].concat(r))},_.doesNotReject=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return T(e).then((function(e){return M.apply(void 0,[t,e].concat(r))}))},_.ifError=function t(e){if(null!=e){var n="ifError got unwanted exception: ";"object"===i(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?n+=e.constructor.name:n+=e.message:n+=p(e);var r=new d({actual:e,expected:null,operator:"ifError",message:n,stackStartFn:t}),o=e.stack;if("string"==typeof o){var s=o.split("\n");s.shift();for(var a=r.stack.split("\n"),l=0;l<s.length;l++){var c=a.indexOf(s[l]);if(-1!==c){a=a.slice(0,c);break}}r.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw r}},_.strict=b(N,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},5961:(t,e,n)=>{"use strict";var r=n(4155);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){var e="function"==typeof Map?new Map:void 0;return l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)},l(t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function h(t,e,n){return h=c()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&u(i,n.prototype),i},h.apply(null,arguments)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var p=n(9539).inspect,g=n(2136).codes.ERR_INVALID_ARG_TYPE;function y(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}var m="",b="",v="",A="",w={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function _(t){var e=Object.keys(t),n=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){n[e]=t[e]})),Object.defineProperty(n,"message",{value:t.message}),n}function I(t){return p(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var E=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==d(t)||null===t)throw new g("options","Object",t);var i=t.message,o=t.operator,l=t.stackStartFn,c=t.actual,h=t.expected,u=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)n=s(this,f(e).call(this,String(i)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(m="[34m",b="[32m",A="[39m",v="[31m"):(m="",b="",A="",v="")),"object"===d(c)&&null!==c&&"object"===d(h)&&null!==h&&"stack"in c&&c instanceof Error&&"stack"in h&&h instanceof Error&&(c=_(c),h=_(h)),"deepStrictEqual"===o||"strictEqual"===o)n=s(this,f(e).call(this,function(t,e,n){var i="",o="",s=0,a="",l=!1,c=I(t),h=c.split("\n"),u=I(e).split("\n"),f=0,p="";if("strictEqual"===n&&"object"===d(t)&&"object"===d(e)&&null!==t&&null!==e&&(n="strictEqualObject"),1===h.length&&1===u.length&&h[0]!==u[0]){var g=h[0].length+u[0].length;if(g<=10){if(!("object"===d(t)&&null!==t||"object"===d(e)&&null!==e||0===t&&0===e))return"".concat(w[n],"\n\n")+"".concat(h[0]," !== ").concat(u[0],"\n")}else if("strictEqualObject"!==n&&g<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;h[0][f]===u[0][f];)f++;f>2&&(p="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var n=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,n-t.length)}(" ",f),"^"),f=0)}}for(var _=h[h.length-1],E=u[u.length-1];_===E&&(f++<2?a="\n  ".concat(_).concat(a):i=_,h.pop(),u.pop(),0!==h.length&&0!==u.length);)_=h[h.length-1],E=u[u.length-1];var C=Math.max(h.length,u.length);if(0===C){var S=c.split("\n");if(S.length>30)for(S[26]="".concat(m,"...").concat(A);S.length>27;)S.pop();return"".concat(w.notIdentical,"\n\n").concat(S.join("\n"),"\n")}f>3&&(a="\n".concat(m,"...").concat(A).concat(a),l=!0),""!==i&&(a="\n  ".concat(i).concat(a),i="");var x=0,k=w[n]+"\n".concat(b,"+ actual").concat(A," ").concat(v,"- expected").concat(A),B=" ".concat(m,"...").concat(A," Lines skipped");for(f=0;f<C;f++){var L=f-s;if(h.length<f+1)L>1&&f>2&&(L>4?(o+="\n".concat(m,"...").concat(A),l=!0):L>3&&(o+="\n  ".concat(u[f-2]),x++),o+="\n  ".concat(u[f-1]),x++),s=f,i+="\n".concat(v,"-").concat(A," ").concat(u[f]),x++;else if(u.length<f+1)L>1&&f>2&&(L>4?(o+="\n".concat(m,"...").concat(A),l=!0):L>3&&(o+="\n  ".concat(h[f-2]),x++),o+="\n  ".concat(h[f-1]),x++),s=f,o+="\n".concat(b,"+").concat(A," ").concat(h[f]),x++;else{var O=u[f],T=h[f],R=T!==O&&(!y(T,",")||T.slice(0,-1)!==O);R&&y(O,",")&&O.slice(0,-1)===T&&(R=!1,T+=","),R?(L>1&&f>2&&(L>4?(o+="\n".concat(m,"...").concat(A),l=!0):L>3&&(o+="\n  ".concat(h[f-2]),x++),o+="\n  ".concat(h[f-1]),x++),s=f,o+="\n".concat(b,"+").concat(A," ").concat(T),i+="\n".concat(v,"-").concat(A," ").concat(O),x+=2):(o+=i,i="",1!==L&&0!==f||(o+="\n  ".concat(T),x++))}if(x>20&&f<C-2)return"".concat(k).concat(B,"\n").concat(o,"\n").concat(m,"...").concat(A).concat(i,"\n")+"".concat(m,"...").concat(A)}return"".concat(k).concat(l?B:"","\n").concat(o).concat(i).concat(a).concat(p)}(c,h,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var p=w[o],E=I(c).split("\n");if("notStrictEqual"===o&&"object"===d(c)&&null!==c&&(p=w.notStrictEqualObject),E.length>30)for(E[26]="".concat(m,"...").concat(A);E.length>27;)E.pop();n=1===E.length?s(this,f(e).call(this,"".concat(p," ").concat(E[0]))):s(this,f(e).call(this,"".concat(p,"\n\n").concat(E.join("\n"),"\n")))}else{var C=I(c),S="",x=w[o];"notDeepEqual"===o||"notEqual"===o?(C="".concat(w[o],"\n\n").concat(C)).length>1024&&(C="".concat(C.slice(0,1021),"...")):(S="".concat(I(h)),C.length>512&&(C="".concat(C.slice(0,509),"...")),S.length>512&&(S="".concat(S.slice(0,509),"...")),"deepEqual"===o||"equal"===o?C="".concat(x,"\n\n").concat(C,"\n\nshould equal\n\n"):S=" ".concat(o," ").concat(S)),n=s(this,f(e).call(this,"".concat(C).concat(S)))}return Error.stackTraceLimit=u,n.generatedMessage=!i,Object.defineProperty(a(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=c,n.expected=h,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(a(n),l),n.stack,n.name="AssertionError",s(n)}var n,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),n=e,l=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(t,e){return p(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}({},e,{customInspect:!1,depth:0}))}}],l&&o(n.prototype,l),e}(l(Error));t.exports=E},2136:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}var s,a,l={};function c(t,e,n){n||(n=Error);var s=function(n){function s(n,o,a){var l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),l=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,i(s).call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,o,a))),l.code=t,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,n),s}(n);l[t]=s}function h(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",(function(t,e,i){var o,a,l,c,u;if(void 0===s&&(s=n(9282)),s("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(a="not ",e.substr(0,a.length)===a)?(o="must not be",e=e.replace(/^not /,"")):o="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))l="The ".concat(t," ").concat(o," ").concat(h(e,"type"));else{var f=("number"!=typeof u&&(u=0),u+".".length>(c=t).length||-1===c.indexOf(".",u)?"argument":"property");l='The "'.concat(t,'" ').concat(f," ").concat(o," ").concat(h(e,"type"))}return l+". Received type ".concat(r(i))}),TypeError),c("ERR_INVALID_ARG_VALUE",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=n(9539));var i=a.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(i)}),TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",(function(t,e,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),c("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];void 0===s&&(s=n(9282)),s(e.length>0,"At least one arg needs to be specified");var i="The ",o=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),o){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,o-1).join(", "),i+=", and ".concat(e[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),t.exports.codes=l},9158:(t,e,n)=>{"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o=void 0!==/a/g.flags,s=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},a=function(t){var e=[];return t.forEach((function(t,n){return e.push([n,t])})),e},l=Object.is?Object.is:n(609),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},h=Number.isNaN?Number.isNaN:n(360);function u(t){return t.call.bind(t)}var f=u(Object.prototype.hasOwnProperty),d=u(Object.prototype.propertyIsEnumerable),p=u(Object.prototype.toString),g=n(9539).types,y=g.isAnyArrayBuffer,m=g.isArrayBufferView,b=g.isDate,v=g.isMap,A=g.isRegExp,w=g.isSet,_=g.isNativeError,I=g.isBoxedPrimitive,E=g.isNumberObject,C=g.isStringObject,S=g.isBooleanObject,x=g.isBigIntObject,k=g.isSymbolObject,B=g.isFloat32Array,L=g.isFloat64Array;function O(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);if(n<48||n>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function T(t){return Object.keys(t).filter(O).concat(c(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function R(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function M(t,e,n,r){if(t===e)return 0!==t||!n||l(t,e);if(n){if("object"!==i(t))return"number"==typeof t&&h(t)&&h(e);if("object"!==i(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==i(t))return(null===e||"object"!==i(e))&&t==e;if(null===e||"object"!==i(e))return!1}var s,a,c,u,f=p(t);if(f!==p(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var d=T(t),g=T(e);return d.length===g.length&&D(t,e,n,r,1,d)}if("[object Object]"===f&&(!v(t)&&v(e)||!w(t)&&w(e)))return!1;if(b(t)){if(!b(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(A(t)){if(!A(e)||(c=t,u=e,!(o?c.source===u.source&&c.flags===u.flags:RegExp.prototype.toString.call(c)===RegExp.prototype.toString.call(u))))return!1}else if(_(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(m(t)){if(n||!B(t)&&!L(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===R(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}(t,e))return!1;var O=T(t),M=T(e);return O.length===M.length&&D(t,e,n,r,0,O)}if(w(t))return!(!w(e)||t.size!==e.size)&&D(t,e,n,r,2);if(v(t))return!(!v(e)||t.size!==e.size)&&D(t,e,n,r,3);if(y(t)){if(a=e,(s=t).byteLength!==a.byteLength||0!==R(new Uint8Array(s),new Uint8Array(a)))return!1}else if(I(t)&&!function(t,e){return E(t)?E(e)&&l(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):C(t)?C(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):S(t)?S(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):x(t)?x(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):k(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return D(t,e,n,r,0)}function N(t,e){return e.filter((function(e){return d(t,e)}))}function D(t,e,n,r,i,o){if(5===arguments.length){o=Object.keys(t);var s=Object.keys(e);if(o.length!==s.length)return!1}for(var a=0;a<o.length;a++)if(!f(e,o[a]))return!1;if(n&&5===arguments.length){var l=c(t);if(0!==l.length){var h=0;for(a=0;a<l.length;a++){var u=l[a];if(d(t,u)){if(!d(e,u))return!1;o.push(u),h++}else if(d(e,u))return!1}var p=c(e);if(l.length!==p.length&&N(e,p).length!==h)return!1}else{var g=c(e);if(0!==g.length&&0!==N(e,g).length)return!1}}if(0===o.length&&(0===i||1===i&&0===t.length||0===t.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var y=r.val1.get(t);if(void 0!==y){var m=r.val2.get(e);if(void 0!==m)return y===m}r.position++}r.val1.set(t,r.position),r.val2.set(e,r.position);var b=H(t,e,n,o,r,i);return r.val1.delete(t),r.val2.delete(e),b}function U(t,e,n,r){for(var i=s(t),o=0;o<i.length;o++){var a=i[o];if(M(e,a,n,r))return t.delete(a),!0}return!1}function Q(t){switch(i(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(h(t))return!1}return!0}function j(t,e,n){var r=Q(n);return null!=r?r:e.has(r)&&!t.has(r)}function F(t,e,n,r,i){var o=Q(n);if(null!=o)return o;var s=e.get(o);return!(void 0===s&&!e.has(o)||!M(r,s,!1,i))&&!t.has(o)&&M(r,s,!1,i)}function P(t,e,n,r,i,o){for(var a=s(t),l=0;l<a.length;l++){var c=a[l];if(M(n,c,i,o)&&M(r,e.get(c),i,o))return t.delete(c),!0}return!1}function H(t,e,n,o,l,c){var h=0;if(2===c){if(!function(t,e,n,r){for(var o=null,a=s(t),l=0;l<a.length;l++){var c=a[l];if("object"===i(c)&&null!==c)null===o&&(o=new Set),o.add(c);else if(!e.has(c)){if(n)return!1;if(!j(t,e,c))return!1;null===o&&(o=new Set),o.add(c)}}if(null!==o){for(var h=s(e),u=0;u<h.length;u++){var f=h[u];if("object"===i(f)&&null!==f){if(!U(o,f,n,r))return!1}else if(!n&&!t.has(f)&&!U(o,f,n,r))return!1}return 0===o.size}return!0}(t,e,n,l))return!1}else if(3===c){if(!function(t,e,n,o){for(var s=null,l=a(t),c=0;c<l.length;c++){var h=r(l[c],2),u=h[0],f=h[1];if("object"===i(u)&&null!==u)null===s&&(s=new Set),s.add(u);else{var d=e.get(u);if(void 0===d&&!e.has(u)||!M(f,d,n,o)){if(n)return!1;if(!F(t,e,u,f,o))return!1;null===s&&(s=new Set),s.add(u)}}}if(null!==s){for(var p=a(e),g=0;g<p.length;g++){var y=r(p[g],2),m=(u=y[0],y[1]);if("object"===i(u)&&null!==u){if(!P(s,t,u,m,n,o))return!1}else if(!(n||t.has(u)&&M(t.get(u),m,!1,o)||P(s,t,u,m,!1,o)))return!1}return 0===s.size}return!0}(t,e,n,l))return!1}else if(1===c)for(;h<t.length;h++){if(!f(t,h)){if(f(e,h))return!1;for(var u=Object.keys(t);h<u.length;h++){var d=u[h];if(!f(e,d)||!M(t[d],e[d],n,l))return!1}return u.length===Object.keys(e).length}if(!f(e,h)||!M(t[h],e[h],n,l))return!1}for(h=0;h<o.length;h++){var p=o[h];if(!M(t[p],e[p],n,l))return!1}return!0}t.exports={isDeepEqual:function(t,e){return M(t,e,!1)},isDeepStrictEqual:function(t,e){return M(t,e,!0)}}},4739:t=>{t.exports=function(t){var e=!1,n=null,r=null,i=null;return function(s,a){e?(n||(n=[],r=[]),function(t,e){Array.isArray(e)?function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])}(t,e):t.push(e)}(n,s),a&&r.push(a)):(a&&(i=[a]),e=!0,t(Array.isArray(s)?s:[s],o))};function o(s){i&&function(t,e){for(var n=0;n<t.length;n++)t[n](e)}(i,s),e=!1,i=r;var a=n;if(n=null,r=null,!a||!a.length){if(!i||!i.length)return void(i=null);a||(a=[])}e=!0,t(a,o)}}},5259:(t,e,n)=>{const{encodeChange:r}=n(2578),{BackendDoc:i}=n(2172),{backendState:o}=n(7321);function s(t,e,n){if(t.hashesByActor[e]&&t.hashesByActor[e][n])return t.hashesByActor[e][n];if(!t.haveHashGraph&&(t.computeHashGraph(),t.hashesByActor[e]&&t.hashesByActor[e][n]))return t.hashesByActor[e][n];throw new RangeError(`Unknown change: actorId = ${e}, seq = ${n+1}`)}function a(t,e){if(!Array.isArray(e))throw new TypeError("Pass an array of hashes to Backend.getChanges()");return o(t).getChanges(e)}t.exports={init:function(){return{state:new i,heads:[]}},clone:function(t){return{state:o(t).clone(),heads:t.heads}},free:function(t){t.state=null,t.frozen=!0},applyChanges:function(t,e){const n=o(t),r=n.applyChanges(e);return t.frozen=!0,[{state:n,heads:n.heads},r]},applyLocalChange:function(t,e){const n=o(t);if(e.seq<=n.clock[e.actor])throw new RangeError("Change request has already been applied");if(e.seq>1){const t=s(n,e.actor,e.seq-2);if(!t)throw new RangeError(`Cannot find hash of localChange before seq=${e.seq}`);let r={[t]:!0};for(let t of e.deps)r[t]=!0;e.deps=Object.keys(r).sort()}const i=r(e),a=n.applyChanges([i],!0);t.frozen=!0;const l=s(n,e.actor,e.seq-1);return a.deps=a.deps.filter((t=>t!==l)),[{state:n,heads:n.heads},a,i]},save:function(t){return o(t).save()},load:function(t){const e=new i(t);return{state:e,heads:e.heads}},loadChanges:function(t,e){const n=o(t);return n.applyChanges(e),t.frozen=!0,{state:n,heads:n.heads}},getPatch:function(t){return o(t).getPatch()},getHeads:function(t){return t.heads},getAllChanges:function(t){return a(t,[])},getChanges:a,getChangesAdded:function(t,e){return o(e).getChangesAdded(o(t))},getChangeByHash:function(t,e){return o(t).getChangeByHash(e)},getMissingDeps:function(t,e=[]){return o(t).getMissingDeps(e)}}},2578:(t,e,n)=>{const r=n(3774),{copyObject:i,parseOpId:o,equalBytes:s}=n(2847),{utf8ToString:a,hexStringToBytes:l,bytesToHexString:c,Encoder:h,Decoder:u,RLEEncoder:f,RLEDecoder:d,DeltaEncoder:p,DeltaDecoder:g,BooleanEncoder:y,BooleanDecoder:m}=n(6924),{Hash:b}=n(9133),v=new Uint8Array([133,111,74,131]),A={GROUP_CARD:0,ACTOR_ID:1,INT_RLE:2,INT_DELTA:3,BOOLEAN:4,STRING_RLE:5,VALUE_LEN:6,VALUE_RAW:7},w={NULL:0,FALSE:1,TRUE:2,LEB128_UINT:3,LEB128_INT:4,IEEE754:5,UTF8:6,BYTES:7,COUNTER:8,TIMESTAMP:9,MIN_UNKNOWN:10,MAX_UNKNOWN:15},_=["makeMap","set","makeList","del","makeText","inc","makeTable","link"],I=[{columnName:"objActor",columnId:0|A.ACTOR_ID},{columnName:"objCtr",columnId:0|A.INT_RLE},{columnName:"keyActor",columnId:16|A.ACTOR_ID},{columnName:"keyCtr",columnId:16|A.INT_DELTA},{columnName:"keyStr",columnId:16|A.STRING_RLE},{columnName:"idActor",columnId:32|A.ACTOR_ID},{columnName:"idCtr",columnId:32|A.INT_DELTA},{columnName:"insert",columnId:48|A.BOOLEAN},{columnName:"action",columnId:64|A.INT_RLE},{columnName:"valLen",columnId:80|A.VALUE_LEN},{columnName:"valRaw",columnId:80|A.VALUE_RAW},{columnName:"chldActor",columnId:96|A.ACTOR_ID},{columnName:"chldCtr",columnId:96|A.INT_DELTA}],E=I.concat([{columnName:"predNum",columnId:112|A.GROUP_CARD},{columnName:"predActor",columnId:112|A.ACTOR_ID},{columnName:"predCtr",columnId:112|A.INT_DELTA}]),C=I.concat([{columnName:"succNum",columnId:128|A.GROUP_CARD},{columnName:"succActor",columnId:128|A.ACTOR_ID},{columnName:"succCtr",columnId:128|A.INT_DELTA}]),S=[{columnName:"actor",columnId:0|A.ACTOR_ID},{columnName:"seq",columnId:0|A.INT_DELTA},{columnName:"maxOp",columnId:16|A.INT_DELTA},{columnName:"time",columnId:32|A.INT_DELTA},{columnName:"message",columnId:48|A.STRING_RLE},{columnName:"depsNum",columnId:64|A.GROUP_CARD},{columnName:"depsIndex",columnId:64|A.INT_DELTA},{columnName:"extraLen",columnId:80|A.VALUE_LEN},{columnName:"extraRaw",columnId:80|A.VALUE_RAW}];function x(t,e){if(!t||!t.actorId)return t;const n=t.counter,r=e.indexOf(t.actorId);if(r<0)throw new RangeError("missing actorId");return{counter:n,actorNum:r,actorId:t.actorId}}function k(t,e){return t.counter<e.counter?-1:t.counter>e.counter?1:t.actorId<e.actorId?-1:t.actorId>e.actorId?1:0}function B(t,e){if("_root"===t.obj)e.objActor.appendValue(null),e.objCtr.appendValue(null);else{if(!(t.obj.actorNum>=0&&t.obj.counter>0))throw new RangeError(`Unexpected objectId reference: ${JSON.stringify(t.obj)}`);e.objActor.appendValue(t.obj.actorNum),e.objCtr.appendValue(t.obj.counter)}}function L(t,e){if(t.key)e.keyActor.appendValue(null),e.keyCtr.appendValue(null),e.keyStr.appendValue(t.key);else if("_head"===t.elemId&&t.insert)e.keyActor.appendValue(null),e.keyCtr.appendValue(0),e.keyStr.appendValue(null);else{if(!(t.elemId&&t.elemId.actorNum>=0&&t.elemId.counter>0))throw new RangeError(`Unexpected operation key: ${JSON.stringify(t)}`);e.keyActor.appendValue(t.elemId.actorNum),e.keyCtr.appendValue(t.elemId.counter),e.keyStr.appendValue(null)}}function O(t,e){const n=_.indexOf(t.action);if(n>=0)e.action.appendValue(n);else{if("number"!=typeof t.action)throw new RangeError(`Unexpected operation action: ${t.action}`);e.action.appendValue(t.action)}}function T(t,e){if("set"!==t.action&&"inc"!==t.action||null===t.value)e.valLen.appendValue(w.NULL);else if(!1===t.value)e.valLen.appendValue(w.FALSE);else if(!0===t.value)e.valLen.appendValue(w.TRUE);else if("string"==typeof t.value){const n=e.valRaw.appendRawString(t.value);e.valLen.appendValue(n<<4|w.UTF8)}else if(ArrayBuffer.isView(t.value)){const n=e.valRaw.appendRawBytes(new Uint8Array(t.value.buffer));e.valLen.appendValue(n<<4|w.BYTES)}else if("number"==typeof t.value){let n,[r,i]=function(t){switch(t.datatype){case"counter":return[w.COUNTER,t.value];case"timestamp":return[w.TIMESTAMP,t.value];case"uint":return[w.LEB128_UINT,t.value];case"int":return[w.LEB128_INT,t.value];case"float64":{const e=new ArrayBuffer(8);return new DataView(e).setFloat64(0,t.value,!0),[w.IEEE754,new Uint8Array(e)]}default:if(Number.isInteger(t.value)&&t.value<=Number.MAX_SAFE_INTEGER&&t.value>=Number.MIN_SAFE_INTEGER)return[w.LEB128_INT,t.value];{const e=new ArrayBuffer(8);return new DataView(e).setFloat64(0,t.value,!0),[w.IEEE754,new Uint8Array(e)]}}}(t);n=r===w.LEB128_UINT?e.valRaw.appendUint53(i):r===w.IEEE754?e.valRaw.appendRawBytes(i):e.valRaw.appendInt53(i),e.valLen.appendValue(n<<4|r)}else{if(!("number"==typeof t.datatype&&t.datatype>=w.MIN_UNKNOWN&&t.datatype<=w.MAX_UNKNOWN&&t.value instanceof Uint8Array))throw t.datatype?new RangeError(`Unknown datatype ${t.datatype} for value ${t.value}`):new RangeError(`Unsupported value in operation: ${t.value}`);{const n=e.valRaw.appendRawBytes(t.value);e.valLen.appendValue(n<<4|t.datatype)}}}function R(t,e){if(t===w.NULL)return{value:null};if(t===w.FALSE)return{value:!1};if(t===w.TRUE)return{value:!0};if(t%16===w.UTF8)return{value:a(e)};if(t%16===w.LEB128_UINT)return{value:new u(e).readUint53(),datatype:"uint"};if(t%16===w.LEB128_INT)return{value:new u(e).readInt53(),datatype:"int"};if(t%16===w.IEEE754){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);if(8===e.byteLength)return{value:t.getFloat64(0,!0),datatype:"float64"};throw new RangeError(`Invalid length for floating point number: ${e.byteLength}`)}return t%16===w.COUNTER?{value:new u(e).readInt53(),datatype:"counter"}:t%16===w.TIMESTAMP?{value:new u(e).readInt53(),datatype:"timestamp"}:{value:e,datatype:t%16}}function M(t,e,n,r){const{columnId:i,columnName:o,decoder:s}=t[e];if(i%8===A.VALUE_LEN&&e+1<t.length&&t[e+1].columnId===i+1){const n=s.readValue(),i=t[e+1].decoder.readRawBytes(n>>4),{value:a,datatype:l}=R(n,i);return r[o]=a,l&&(r[o+"_datatype"]=l),2}if(i%8===A.ACTOR_ID){const t=s.readValue();if(null===t)r[o]=null;else{if(!n[t])throw new RangeError(`No actor index ${t}`);r[o]=n[t]}}else r[o]=s.readValue();return 1}function N(t,e){return void 0===e?"string"==typeof t||"boolean"==typeof t||null===t:"number"==typeof t}function D(t,e,n){let r=e,i=[];for(const e of t)if("set"===e.action&&e.values&&e.insert){if(0!==e.pred.length)throw new RangeError("multi-insert pred must be empty");let t=e.elemId;const o=e.datatype;for(const s of e.values){if(!N(s,o))throw new RangeError(`Decode failed: bad value/datatype association (${s},${o})`);i.push({action:"set",obj:e.obj,elemId:t,datatype:o,value:s,pred:[],insert:!0}),t=`${r}@${n}`,r+=1}}else if("del"===e.action&&e.multiOp>1){if(1!==e.pred.length)throw new RangeError("multiOp deletion must have exactly one pred");const t=o(e.elemId),n=o(e.pred[0]);for(let o=0;o<e.multiOp;o++){const s=`${t.counter+o}@${t.actorId}`,a=[`${n.counter+o}@${n.actorId}`];i.push({action:"del",obj:e.obj,elemId:s,pred:a}),r+=1}}else i.push(e),r+=1;return i}function U(t,e){const n=[];for(let r of t){const t=null===r.objCtr?"_root":`${r.objCtr}@${r.objActor}`,i=r.keyStr?void 0:0===r.keyCtr?"_head":`${r.keyCtr}@${r.keyActor}`,o=_[r.action]||r.action,s=i?{obj:t,elemId:i,action:o}:{obj:t,key:r.keyStr,action:o};if(s.insert=!!r.insert,"set"!==_[r.action]&&"inc"!==_[r.action]||(s.value=r.valLen,r.valLen_datatype&&(s.datatype=r.valLen_datatype)),!!r.chldCtr!=!!r.chldActor)throw new RangeError(`Mismatched child columns: ${r.chldCtr} and ${r.chldActor}`);null!==r.chldCtr&&(s.child=`${r.chldCtr}@${r.chldActor}`),e?(s.id=`${r.idCtr}@${r.idActor}`,s.succ=r.succNum.map((t=>`${t.succCtr}@${t.succActor}`)),Q(r.succNum.map((t=>({counter:t.succCtr,actorId:t.succActor}))))):(s.pred=r.predNum.map((t=>`${t.predCtr}@${t.predActor}`)),Q(r.predNum.map((t=>({counter:t.predCtr,actorId:t.predActor}))))),n.push(s)}return n}function Q(t){let e=null;for(let n of t){if(e&&-1!==k(e,n))throw new RangeError("operation IDs are not in ascending order");e=n}}function j(t,e){return(7&t)===A.INT_DELTA?new g(e):(7&t)===A.BOOLEAN?new m(e):(7&t)===A.STRING_RLE?new d("utf8",e):(7&t)===A.VALUE_RAW?new u(e):new d("uint",e)}function F(t,e){const n=new Uint8Array(0);let r=[],i=0,o=0;for(;i<t.length||o<e.length;)if(i===t.length||o<e.length&&e[o].columnId<t[i].columnId){const{columnId:t,columnName:i}=e[o];r.push({columnId:t,columnName:i,decoder:j(t,n)}),o++}else if(o===e.length||t[i].columnId<e[o].columnId){const{columnId:e,buffer:n}=t[i];r.push({columnId:e,decoder:j(e,n)}),i++}else{const{columnId:n,buffer:s}=t[i],{columnName:a}=e[o];r.push({columnId:n,columnName:a,decoder:j(n,s)}),i++,o++}return r}function P(t,e,n){t=F(t,n);let r=[];for(;t.some((t=>!t.decoder.done));){let n={},i=0;for(;i<t.length;){const r=t[i].columnId;let o=r>>4,s=1;for(;i+s<t.length&&t[i+s].columnId>>4===o;)s++;if(r%8===A.GROUP_CARD){const r=[],o=t[i].decoder.readValue();for(let n=0;n<o;n++){let n={};for(let r=1;r<s;r++)M(t,i+r,e,n);r.push(n)}n[t[i].columnName]=r,i+=s}else i+=M(t,i,e,n)}r.push(n)}return r}function H(t){const e=-9>>>0;let n=-1,r=[],i=t.readUint53();for(let o=0;o<i;o++){const i=t.readUint53(),o=t.readUint53();if((i&e)<=(n&e))throw new RangeError("Columns must be in ascending order");n=i,r.push({columnId:i,bufferLen:o})}return r}function K(t,e){const n=e.filter((t=>t.encoder.buffer.byteLength>0));t.appendUint53(n.length);for(let e of n)t.appendUint53(e.columnId),t.appendUint53(e.encoder.buffer.byteLength)}function z(t){const e=t.readUint53(),n=[];for(let r=0;r<e;r++)n.push(c(t.readRawBytes(32)));let r={actor:t.readHexString(),seq:t.readUint53(),startOp:t.readUint53(),time:t.readInt53(),message:t.readPrefixedString(),deps:n};const i=[r.actor],o=t.readUint53();for(let e=0;e<o;e++)i.push(t.readHexString());return r.actorIds=i,r}function V(t,e){const n=v.byteLength+4+1+5,r=new h;r.appendRawBytes(new Uint8Array(n)),e(r);const i=r.buffer,o=new h;o.appendByte(t),o.appendUint53(i.byteLength-n);const s=o.buffer,a=new b;a.update(s),a.update(i.subarray(n));const l=a.digest(),c=l.subarray(0,4);return i.set(v,n-s.byteLength-4-v.byteLength),i.set(c,n-s.byteLength-4),i.set(s,n-s.byteLength),{hash:l,bytes:i.subarray(n-s.byteLength-4-v.byteLength)}}function Y(t,e){if(!s(t.readRawBytes(v.byteLength),v))throw new RangeError("Data does not begin with magic bytes 85 6f 4a 83");const n=t.readRawBytes(4),r=t.offset,i=t.readByte(),o=t.readUint53(),a={chunkType:i,chunkLength:o,chunkData:t.readRawBytes(o)};if(e){const e=new b;e.update(t.buf.subarray(r,t.offset));const i=e.digest();if(!s(i.subarray(0,4),n))throw new RangeError("checksum does not match data");a.hash=c(i)}return a}function W(t){const{changes:e,actorIds:n}=function(t,e){const n={},r=[];for(let e of t)e=i(e),n[e.actor]=!0,e.ops=D(e.ops,e.startOp,e.actor),e.ops=e.ops.map((t=>{"_root"!==(t=i(t)).obj&&(t.obj=o(t.obj)),t.elemId&&"_head"!==t.elemId&&(t.elemId=o(t.elemId)),t.child&&(t.child=o(t.child)),t.pred&&(t.pred=t.pred.map(o)),t.obj.actorId&&(n[t.obj.actorId]=!0),t.elemId&&t.elemId.actorId&&(n[t.elemId.actorId]=!0),t.child&&t.child.actorId&&(n[t.child.actorId]=!0);for(let e of t.pred)n[e.actorId]=!0;return t})),r.push(e);let s=Object.keys(n).sort();s=[t[0].actor].concat(s.filter((e=>e!==t[0].actor)));for(let t of r){t.actorNum=s.indexOf(t.actor);for(let e=0;e<t.ops.length;e++){let n=t.ops[e];n.id={counter:t.startOp+e,actorNum:t.actorNum,actorId:t.actor},n.obj=x(n.obj,s),n.elemId=x(n.elemId,s),n.child=x(n.child,s),n.pred=n.pred.map((t=>x(t,s)))}}return{changes:r,actorIds:s}}([t]),s=e[0],{hash:a,bytes:d}=V(1,(t=>{if(!Array.isArray(s.deps))throw new TypeError("deps is not an array");t.appendUint53(s.deps.length);for(let e of s.deps.slice().sort())t.appendRawBytes(l(e));t.appendHexString(s.actor),t.appendUint53(s.seq),t.appendUint53(s.startOp),t.appendInt53(s.time),t.appendPrefixedString(s.message||""),t.appendUint53(n.length-1);for(let e of n.slice(1))t.appendHexString(e);const e=function(t,e){const n={objActor:new f("uint"),objCtr:new f("uint"),keyActor:new f("uint"),keyCtr:new p,keyStr:new f("utf8"),insert:new y,action:new f("uint"),valLen:new f("uint"),valRaw:new h,chldActor:new f("uint"),chldCtr:new p};n.predNum=new f("uint"),n.predCtr=new p,n.predActor=new f("uint");for(let e of t){B(e,n),L(e,n),n.insert.appendValue(!!e.insert),O(e,n),T(e,n),e.child&&e.child.counter?(n.chldActor.appendValue(e.child.actorNum),n.chldCtr.appendValue(e.child.counter)):(n.chldActor.appendValue(null),n.chldCtr.appendValue(null)),n.predNum.appendValue(e.pred.length),e.pred.sort(k);for(let t=0;t<e.pred.length;t++)n.predActor.appendValue(e.pred[t].actorNum),n.predCtr.appendValue(e.pred[t].counter)}let r=[];for(let{columnName:t,columnId:e}of E)n[t]&&r.push({columnId:e,columnName:t,encoder:n[t]});return r.sort(((t,e)=>t.columnId-e.columnId))}(s.ops);K(t,e);for(let n of e)t.appendRawBytes(n.encoder.buffer);s.extraBytes&&t.appendRawBytes(s.extraBytes)})),g=c(a);if(t.hash&&t.hash!==g)throw new RangeError(`Change hash does not match encoding: ${t.hash} != ${g}`);return d.byteLength>=256?function(t){const e=Y(new u(t),!1);if(1!==e.chunkType)throw new RangeError(`Unexpected chunk type: ${e.chunkType}`);const n=r.deflateRaw(e.chunkData),i=new h;return i.appendRawBytes(t.subarray(0,8)),i.appendByte(2),i.appendUint53(n.byteLength),i.appendRawBytes(n),i.buffer}(d):d}function q(t){2===t[8]&&(t=$(t));const e=new u(t),n=Y(e,!0),r=new u(n.chunkData);if(!e.done)throw new RangeError("Encoded change has trailing data");if(1!==n.chunkType)throw new RangeError(`Unexpected chunk type: ${n.chunkType}`);const i=z(r),o=H(r);for(let t=0;t<o.length;t++){if(0!=(8&o[t].columnId))throw new RangeError("change must not contain deflated columns");o[t].buffer=r.readRawBytes(o[t].bufferLen)}if(!r.done){const t=r.buf.byteLength-r.offset;i.extraBytes=r.readRawBytes(t)}return i.columns=o,i.hash=n.hash,i}function G(t){const e=q(t);return e.ops=U(P(e.columns,e.actorIds,E),!1),delete e.actorIds,delete e.columns,e}function $(t){const e=Y(new u(t),!1);if(2!==e.chunkType)throw new RangeError(`Unexpected chunk type: ${e.chunkType}`);const n=r.inflateRaw(e.chunkData),i=new h;return i.appendRawBytes(t.subarray(0,8)),i.appendByte(1),i.appendUint53(n.byteLength),i.appendRawBytes(n),i.buffer}function J(t){let e=new u(t),n=[],r=0;for(;!e.done;)Y(e,!1),n.push(t.subarray(r,e.offset)),r=e.offset;return n}function X(t,e){if(t===e)return 0;if("_root"===t)return-1;if("_root"===e)return 1;const n=o(t),r=o(e);return n.counter<r.counter?-1:n.counter>r.counter?1:n.actorId<r.actorId?-1:n.actorId>r.actorId?1:0}function Z(t){const e=new u(t),n=Y(e,!0),r=new u(n.chunkData);if(!e.done)throw new RangeError("Encoded document has trailing data");if(0!==n.chunkType)throw new RangeError(`Unexpected chunk type: ${n.chunkType}`);const i=[],o=r.readUint53();for(let t=0;t<o;t++)i.push(r.readHexString());const s=[],a=[],l=r.readUint53();for(let t=0;t<l;t++)s.push(c(r.readRawBytes(32)));const h=H(r),f=H(r);for(let t=0;t<h.length;t++)h[t].buffer=r.readRawBytes(h[t].bufferLen),nt(h[t]);for(let t=0;t<f.length;t++)f[t].buffer=r.readRawBytes(f[t].bufferLen),nt(f[t]);if(!r.done)for(let t=0;t<l;t++)a.push(r.readUint53());return{changesColumns:h,opsColumns:f,actorIds:i,heads:s,headsIndexes:a,extraBytes:r.readRawBytes(r.buf.byteLength-r.offset)}}function tt(t){const{changesColumns:e,opsColumns:n,actorIds:r,heads:i}=Z(t),s=P(e,r,S);return function(t,e){let n={};for(let e of t){if(e.ops=[],n[e.actor]||(n[e.actor]=[]),e.seq!==n[e.actor].length+1)throw new RangeError(`Expected seq = ${n[e.actor].length+1}, got ${e.seq}`);if(e.seq>1&&n[e.actor][e.seq-2].maxOp>e.maxOp)throw new RangeError("maxOp must increase monotonically per actor");n[e.actor].push(e)}let r={};for(let t of e){if("del"===t.action)throw new RangeError("document should not contain del operations");t.pred=r[t.id]?r[t.id].pred:[],r[t.id]=t;for(let e of t.succ){if(!r[e])if(t.elemId){const n=t.insert?t.id:t.elemId;r[e]={id:e,action:"del",obj:t.obj,elemId:n,pred:[]}}else r[e]={id:e,action:"del",obj:t.obj,key:t.key,pred:[]};r[e].pred.push(t.id)}delete t.succ}for(let t of Object.values(r))"del"===t.action&&e.push(t);for(let t of e){const{counter:e,actorId:r}=o(t.id),i=n[r];let s=0,a=i.length;for(;s<a;){const t=Math.floor((s+a)/2);i[t].maxOp<e?s=t+1:a=t}if(s>=i.length)throw new RangeError(`Operation ID ${t.id} outside of allowed range`);i[s].ops.push(t)}for(let e of t){e.ops.sort(((t,e)=>X(t.id,e.id))),e.startOp=e.maxOp-e.ops.length+1,delete e.maxOp;for(let t=0;t<e.ops.length;t++){const n=e.ops[t],r=`${e.startOp+t}@${e.actor}`;if(n.id!==r)throw new RangeError(`Expected opId ${r}, got ${n.id}`);delete n.id}}}(s,U(P(n,r,C),!0)),function(t,e){let n={};for(let e=0;e<t.length;e++){let r=t[e];r.deps=[];for(let i of r.depsNum.map((t=>t.depsIndex))){if(!t[i]||!t[i].hash)throw new RangeError(`No hash for index ${i} while processing index ${e}`);const o=t[i].hash;r.deps.push(o),n[o]&&delete n[o]}if(r.deps.sort(),delete r.depsNum,r.extraLen_datatype!==w.BYTES)throw new RangeError(`Bad datatype for extra bytes: ${w.BYTES}`);r.extraBytes=r.extraLen,delete r.extraLen_datatype,t[e]=G(W(r)),n[t[e].hash]=!0}const r=Object.keys(n).sort();let i=r.length===e.length,o=0;for(;i&&o<r.length;)i=r[o]===e[o],o++;if(!i)throw new RangeError(`Mismatched heads hashes: expected ${e.join(", ")}, got ${r.join(", ")}`)}(s,i),s}function et(t){t.encoder.buffer.byteLength>=256&&(t.encoder={buffer:r.deflateRaw(t.encoder.buffer)},t.columnId|=8)}function nt(t){0!=(8&t.columnId)&&(t.buffer=r.inflateRaw(t.buffer),t.columnId^=8)}t.exports={COLUMN_TYPE:A,VALUE_TYPE:w,ACTIONS:_,OBJECT_TYPE:{makeMap:"map",makeList:"list",makeText:"text",makeTable:"table"},DOC_OPS_COLUMNS:C,CHANGE_COLUMNS:E,DOCUMENT_COLUMNS:S,encoderByColumnId:function(t){return(7&t)===A.INT_DELTA?new p:(7&t)===A.BOOLEAN?new y:(7&t)===A.STRING_RLE?new f("utf8"):(7&t)===A.VALUE_RAW?new h:new f("uint")},decoderByColumnId:j,makeDecoders:F,decodeValue:R,splitContainers:J,encodeChange:W,decodeChangeColumns:q,decodeChange:G,decodeChangeMeta:function(t,e){2===t[8]&&(t=$(t));const n=Y(new u(t),e);if(1!==n.chunkType)throw new RangeError("Buffer chunk type is not a change");const r=z(new u(n.chunkData));return r.change=t,e&&(r.hash=n.hash),r},decodeChanges:function(t){let e=[];for(let n of t)for(let t of J(n))0===t[8]?e=e.concat(tt(t)):1!==t[8]&&2!==t[8]||e.push(G(t));return e},encodeDocumentHeader:function(t){const{changesColumns:e,opsColumns:n,actorIds:r,heads:i,headsIndexes:o,extraBytes:s}=t;for(let t of e)et(t);for(let t of n)et(t);return V(0,(t=>{t.appendUint53(r.length);for(let e of r)t.appendHexString(e);t.appendUint53(i.length);for(let e of i.sort())t.appendRawBytes(l(e));K(t,e),K(t,n);for(let n of e)t.appendRawBytes(n.encoder.buffer);for(let e of n)t.appendRawBytes(e.encoder.buffer);for(let e of o)t.appendUint53(e);s&&t.appendRawBytes(s)})).bytes},decodeDocumentHeader:Z,decodeDocument:tt}},6924:t=>{const e=new TextEncoder,n=new TextDecoder("utf-8");function r(t){return e.encode(t)}function i(t){return n.decode(t)}function o(t){if("string"!=typeof t)throw new TypeError("value is not a string");if(!/^([0-9a-f][0-9a-f])*$/.test(t))throw new RangeError("value is not hexadecimal");return""===t?new Uint8Array(0):new Uint8Array(t.match(/../g).map((t=>parseInt(t,16))))}const s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],a=new Array(256);for(let t=0;t<256;t++)a[t]=`${s[t>>>4&15]}${s[15&t]}`;function l(t){let e="",n=t.byteLength;for(let r=0;r<n;r++)e+=a[t[r]];return e}class c{constructor(){this.buf=new Uint8Array(16),this.offset=0}get buffer(){return this.finish(),this.buf.subarray(0,this.offset)}grow(t=0){let e=4*this.buf.byteLength;for(;e<t;)e*=2;const n=new Uint8Array(e);return n.set(this.buf,0),this.buf=n,this}appendByte(t){this.offset>=this.buf.byteLength&&this.grow(),this.buf[this.offset]=t,this.offset+=1}appendUint32(t){if(!Number.isInteger(t))throw new RangeError("value is not an integer");if(t<0||t>4294967295)throw new RangeError("number out of range");const e=Math.max(1,Math.ceil((32-Math.clz32(t))/7));this.offset+e>this.buf.byteLength&&this.grow();for(let n=0;n<e;n++)this.buf[this.offset+n]=127&t|(n===e-1?0:128),t>>>=7;return this.offset+=e,e}appendInt32(t){if(!Number.isInteger(t))throw new RangeError("value is not an integer");if(t<-2147483648||t>2147483647)throw new RangeError("number out of range");const e=Math.ceil((33-Math.clz32(t>=0?t:-t-1))/7);this.offset+e>this.buf.byteLength&&this.grow();for(let n=0;n<e;n++)this.buf[this.offset+n]=127&t|(n===e-1?0:128),t>>=7;return this.offset+=e,e}appendUint53(t){if(!Number.isInteger(t))throw new RangeError("value is not an integer");if(t<0||t>Number.MAX_SAFE_INTEGER)throw new RangeError("number out of range");const e=Math.floor(t/4294967296),n=(4294967295&t)>>>0;return this.appendUint64(e,n)}appendInt53(t){if(!Number.isInteger(t))throw new RangeError("value is not an integer");if(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER)throw new RangeError("number out of range");const e=Math.floor(t/4294967296),n=(4294967295&t)>>>0;return this.appendInt64(e,n)}appendUint64(t,e){if(!Number.isInteger(t)||!Number.isInteger(e))throw new RangeError("value is not an integer");if(t<0||t>4294967295||e<0||e>4294967295)throw new RangeError("number out of range");if(0===t)return this.appendUint32(e);const n=Math.ceil((64-Math.clz32(t))/7);this.offset+n>this.buf.byteLength&&this.grow();for(let t=0;t<4;t++)this.buf[this.offset+t]=127&e|128,e>>>=7;this.buf[this.offset+4]=15&e|(7&t)<<4|(5===n?0:128),t>>>=3;for(let e=5;e<n;e++)this.buf[this.offset+e]=127&t|(e===n-1?0:128),t>>>=7;return this.offset+=n,n}appendInt64(t,e){if(!Number.isInteger(t)||!Number.isInteger(e))throw new RangeError("value is not an integer");if(t<-2147483648||t>2147483647||e<-2147483648||e>4294967295)throw new RangeError("number out of range");if(e>>>=0,0===t&&e<=2147483647)return this.appendInt32(e);if(-1===t&&e>=2147483648)return this.appendInt32(e-4294967296);const n=Math.ceil((65-Math.clz32(t>=0?t:-t-1))/7);this.offset+n>this.buf.byteLength&&this.grow();for(let t=0;t<4;t++)this.buf[this.offset+t]=127&e|128,e>>>=7;this.buf[this.offset+4]=15&e|(7&t)<<4|(5===n?0:128),t>>=3;for(let e=5;e<n;e++)this.buf[this.offset+e]=127&t|(e===n-1?0:128),t>>=7;return this.offset+=n,n}appendRawBytes(t){return this.offset+t.byteLength>this.buf.byteLength&&this.grow(this.offset+t.byteLength),this.buf.set(t,this.offset),this.offset+=t.byteLength,t.byteLength}appendRawString(t){if("string"!=typeof t)throw new TypeError("value is not a string");return this.appendRawBytes(r(t))}appendPrefixedBytes(t){return this.appendUint53(t.byteLength),this.appendRawBytes(t),this}appendPrefixedString(t){if("string"!=typeof t)throw new TypeError("value is not a string");return this.appendPrefixedBytes(r(t)),this}appendHexString(t){return this.appendPrefixedBytes(o(t)),this}finish(){}}class h{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError(`Not a byte array: ${t}`);this.buf=t,this.offset=0}get done(){return this.offset===this.buf.byteLength}reset(){this.offset=0}skip(t){if(this.offset+t>this.buf.byteLength)throw new RangeError("cannot skip beyond end of buffer");this.offset+=t}readByte(){return this.offset+=1,this.buf[this.offset-1]}readUint32(){let t=0,e=0;for(;this.offset<this.buf.byteLength;){const n=this.buf[this.offset];if(28===e&&0!=(240&n))throw new RangeError("number out of range");if(t=(t|(127&n)<<e)>>>0,e+=7,this.offset++,0==(128&n))return t}throw new RangeError("buffer ended with incomplete number")}readInt32(){let t=0,e=0;for(;this.offset<this.buf.byteLength;){const n=this.buf[this.offset];if(28===e&&0!=(128&n)||28===e&&0==(64&n)&&0!=(56&n)||28===e&&0!=(64&n)&&56!=(56&n))throw new RangeError("number out of range");if(t|=(127&n)<<e,e+=7,this.offset++,0==(128&n))return 0==(64&n)||e>28?t:t|-1<<e}throw new RangeError("buffer ended with incomplete number")}readUint53(){const{low32:t,high32:e}=this.readUint64();if(e<0||e>2097151)throw new RangeError("number out of range");return 4294967296*e+t}readInt53(){const{low32:t,high32:e}=this.readInt64();if(e<-2097152||-2097152===e&&0===t||e>2097151)throw new RangeError("number out of range");return 4294967296*e+t}readUint64(){let t=0,e=0,n=0;for(;this.offset<this.buf.byteLength&&n<=28;){const r=this.buf[this.offset];if(t=(t|(127&r)<<n)>>>0,28===n&&(e=(112&r)>>>4),n+=7,this.offset++,0==(128&r))return{high32:e,low32:t}}for(n=3;this.offset<this.buf.byteLength;){const r=this.buf[this.offset];if(31===n&&0!=(254&r))throw new RangeError("number out of range");if(e=(e|(127&r)<<n)>>>0,n+=7,this.offset++,0==(128&r))return{high32:e,low32:t}}throw new RangeError("buffer ended with incomplete number")}readInt64(){let t=0,e=0,n=0;for(;this.offset<this.buf.byteLength&&n<=28;){const r=this.buf[this.offset];if(t=(t|(127&r)<<n)>>>0,28===n&&(e=(112&r)>>>4),n+=7,this.offset++,0==(128&r))return 0!=(64&r)&&(n<32&&(t=(t|-1<<n)>>>0),e|=-1<<Math.max(n-32,0)),{high32:e,low32:t}}for(n=3;this.offset<this.buf.byteLength;){const r=this.buf[this.offset];if(31===n&&0!==r&&127!==r)throw new RangeError("number out of range");if(e|=(127&r)<<n,n+=7,this.offset++,0==(128&r))return 0!=(64&r)&&n<32&&(e|=-1<<n),{high32:e,low32:t}}throw new RangeError("buffer ended with incomplete number")}readRawBytes(t){const e=this.offset;if(e+t>this.buf.byteLength)throw new RangeError("subarray exceeds buffer size");return this.offset+=t,this.buf.subarray(e,this.offset)}readRawString(t){return i(this.readRawBytes(t))}readPrefixedBytes(){return this.readRawBytes(this.readUint53())}readPrefixedString(){return i(this.readPrefixedBytes())}readHexString(){return l(this.readPrefixedBytes())}}class u extends c{constructor(t){super(),this.type=t,this.state="empty",this.lastValue=void 0,this.count=0,this.literal=[]}appendValue(t,e=1){this._appendValue(t,e)}_appendValue(t,e=1){e<=0||("empty"===this.state?(this.state=null===t?"nulls":1===e?"loneValue":"repetition",this.lastValue=t,this.count=e):"loneValue"===this.state?null===t?(this.flush(),this.state="nulls",this.count=e):t===this.lastValue?(this.state="repetition",this.count=1+e):e>1?(this.flush(),this.state="repetition",this.count=e,this.lastValue=t):(this.state="literal",this.literal=[this.lastValue],this.lastValue=t):"repetition"===this.state?null===t?(this.flush(),this.state="nulls",this.count=e):t===this.lastValue?this.count+=e:e>1?(this.flush(),this.state="repetition",this.count=e,this.lastValue=t):(this.flush(),this.state="loneValue",this.lastValue=t):"literal"===this.state?null===t?(this.literal.push(this.lastValue),this.flush(),this.state="nulls",this.count=e):t===this.lastValue?(this.flush(),this.state="repetition",this.count=1+e):e>1?(this.literal.push(this.lastValue),this.flush(),this.state="repetition",this.count=e,this.lastValue=t):(this.literal.push(this.lastValue),this.lastValue=t):"nulls"===this.state&&(null===t?this.count+=e:e>1?(this.flush(),this.state="repetition",this.count=e,this.lastValue=t):(this.flush(),this.state="loneValue",this.lastValue=t)))}copyFrom(t,e={}){const{count:n,sumValues:r,sumShift:i}=e;if(!(t instanceof f)||t.type!==this.type)throw new TypeError("incompatible type of decoder");let o="number"==typeof n?n:Number.MAX_SAFE_INTEGER,s=0,a=0;if(n&&o>0&&t.done)throw new RangeError(`cannot copy ${n} values`);if(0===o||t.done)return r?{nonNullValues:s,sum:a}:{nonNullValues:s};let l=t.readValue();if(null===l){const e=Math.min(t.count+1,o);if(o-=e,t.count-=e-1,this.appendValue(null,e),n&&o>0&&t.done)throw new RangeError(`cannot copy ${n} values`);if(0===o||t.done)return r?{nonNullValues:s,sum:a}:{nonNullValues:s};if(l=t.readValue(),null===l)throw new RangeError("null run must be followed by non-null value")}if(this.appendValue(l),o--,s++,r&&(a+=i?l>>>i:l),n&&o>0&&t.done)throw new RangeError(`cannot copy ${n} values`);if(0===o||t.done)return r?{nonNullValues:s,sum:a}:{nonNullValues:s};let c=t.count>0;for(;o>0&&!t.done;){c||t.readRecord();const e=Math.min(t.count,o);if(t.count-=e,"literal"===t.state){s+=e;for(let n=0;n<e;n++){if(t.done)throw new RangeError("incomplete literal");const e=t.readRawValue();if(e===t.lastValue)throw new RangeError("Repetition of values is not allowed in literal");t.lastValue=e,this._appendValue(e),r&&(a+=i?e>>>i:e)}}else if("repetition"===t.state){s+=e,r&&(a+=e*(i?t.lastValue>>>i:t.lastValue));const n=t.lastValue;if(this._appendValue(n),e>1){if(this._appendValue(n),"repetition"!==this.state)throw new RangeError(`Unexpected state ${this.state}`);this.count+=e-2}}else if("nulls"===t.state){if(this._appendValue(null),"nulls"!==this.state)throw new RangeError(`Unexpected state ${this.state}`);this.count+=e-1}c=!1,o-=e}if(n&&o>0&&t.done)throw new RangeError(`cannot copy ${n} values`);return r?{nonNullValues:s,sum:a}:{nonNullValues:s}}flush(){if("loneValue"===this.state)this.appendInt32(-1),this.appendRawValue(this.lastValue);else if("repetition"===this.state)this.appendInt53(this.count),this.appendRawValue(this.lastValue);else if("literal"===this.state){this.appendInt53(-this.literal.length);for(let t of this.literal)this.appendRawValue(t)}else"nulls"===this.state&&(this.appendInt32(0),this.appendUint53(this.count));this.state="empty"}appendRawValue(t){if("int"===this.type)this.appendInt53(t);else if("uint"===this.type)this.appendUint53(t);else{if("utf8"!==this.type)throw new RangeError(`Unknown RLEEncoder datatype: ${this.type}`);this.appendPrefixedString(t)}}finish(){"literal"===this.state&&this.literal.push(this.lastValue),("nulls"!==this.state||this.offset>0)&&this.flush()}}class f extends h{constructor(t,e){super(e),this.type=t,this.lastValue=void 0,this.count=0,this.state=void 0}get done(){return 0===this.count&&this.offset===this.buf.byteLength}reset(){this.offset=0,this.lastValue=void 0,this.count=0,this.state=void 0}readValue(){if(this.done)return null;if(0===this.count&&this.readRecord(),this.count-=1,"literal"===this.state){const t=this.readRawValue();if(t===this.lastValue)throw new RangeError("Repetition of values is not allowed in literal");return this.lastValue=t,t}return this.lastValue}skipValues(t){for(;t>0&&!this.done;){0===this.count&&(this.count=this.readInt53(),this.count>0?(this.lastValue=this.count<=t?this.skipRawValues(1):this.readRawValue(),this.state="repetition"):this.count<0?(this.count=-this.count,this.state="literal"):(this.count=this.readUint53(),this.lastValue=null,this.state="nulls"));const e=Math.min(t,this.count);"literal"===this.state&&this.skipRawValues(e),t-=e,this.count-=e}}readRecord(){if(this.count=this.readInt53(),this.count>1){const t=this.readRawValue();if(("repetition"===this.state||"literal"===this.state)&&this.lastValue===t)throw new RangeError("Successive repetitions with the same value are not allowed");this.state="repetition",this.lastValue=t}else{if(1===this.count)throw new RangeError("Repetition count of 1 is not allowed, use a literal instead");if(this.count<0){if(this.count=-this.count,"literal"===this.state)throw new RangeError("Successive literals are not allowed");this.state="literal"}else{if("nulls"===this.state)throw new RangeError("Successive null runs are not allowed");if(this.count=this.readUint53(),0===this.count)throw new RangeError("Zero-length null runs are not allowed");this.lastValue=null,this.state="nulls"}}}readRawValue(){if("int"===this.type)return this.readInt53();if("uint"===this.type)return this.readUint53();if("utf8"===this.type)return this.readPrefixedString();throw new RangeError(`Unknown RLEDecoder datatype: ${this.type}`)}skipRawValues(t){if("utf8"===this.type)for(let e=0;e<t;e++)this.skip(this.readUint53());else{for(;t>0&&this.offset<this.buf.byteLength;)0==(128&this.buf[this.offset])&&t--,this.offset++;if(t>0)throw new RangeError("cannot skip beyond end of buffer")}}}class d extends f{constructor(t){super("int",t),this.absoluteValue=0}reset(){this.offset=0,this.lastValue=void 0,this.count=0,this.state=void 0,this.absoluteValue=0}readValue(){const t=super.readValue();return null===t?null:(this.absoluteValue+=t,this.absoluteValue)}skipValues(t){for(;t>0&&!this.done;){0===this.count&&this.readRecord();const e=Math.min(t,this.count);if("literal"===this.state)for(let t=0;t<e;t++)this.lastValue=this.readRawValue(),this.absoluteValue+=this.lastValue;else"repetition"===this.state&&(this.absoluteValue+=e*this.lastValue);t-=e,this.count-=e}}}class p extends h{constructor(t){super(t),this.lastValue=!0,this.firstRun=!0,this.count=0}get done(){return 0===this.count&&this.offset===this.buf.byteLength}reset(){this.offset=0,this.lastValue=!0,this.firstRun=!0,this.count=0}readValue(){if(this.done)return!1;for(;0===this.count;){if(this.count=this.readUint53(),this.lastValue=!this.lastValue,0===this.count&&!this.firstRun)throw new RangeError("Zero-length runs are not allowed");this.firstRun=!1}return this.count-=1,this.lastValue}skipValues(t){for(;t>0&&!this.done;){if(0===this.count){if(this.count=this.readUint53(),this.lastValue=!this.lastValue,0===this.count&&!this.firstRun)throw new RangeError("Zero-length runs are not allowed");this.firstRun=!1}this.count<t?(t-=this.count,this.count=0):(this.count-=t,t=0)}}}t.exports={stringToUtf8:r,utf8ToString:i,hexStringToBytes:o,bytesToHexString:l,Encoder:c,Decoder:h,RLEEncoder:u,RLEDecoder:f,DeltaEncoder:class extends u{constructor(){super("int"),this.absoluteValue=0}appendValue(t,e=1){e<=0||("number"==typeof t?(super.appendValue(t-this.absoluteValue,1),this.absoluteValue=t,e>1&&super.appendValue(0,e-1)):super.appendValue(t,e))}copyFrom(t,e={}){if(e.sumValues)throw new RangeError("unsupported options for DeltaEncoder.copyFrom()");if(!(t instanceof d))throw new TypeError("incompatible type of decoder");let n=e.count;if(n>0&&t.done)throw new RangeError(`cannot copy ${n} values`);if(0===n||t.done)return;let r=t.readValue(),i=0;if(this.appendValue(r),null===r){if(i=t.count+1,void 0!==n&&n<i&&(i=n),t.count-=i-1,this.count+=i-1,n>i&&t.done)throw new RangeError(`cannot copy ${n} values`);if(n===i||t.done)return;0===t.count&&this.appendValue(t.readValue())}void 0!==n&&(n-=i+1);const{nonNullValues:o,sum:s}=super.copyFrom(t,{count:n,sumValues:!0});o>0&&(this.absoluteValue=s,t.absoluteValue=s)}},DeltaDecoder:d,BooleanEncoder:class extends c{constructor(){super(),this.lastValue=!1,this.count=0}appendValue(t,e=1){if(!1!==t&&!0!==t)throw new RangeError(`Unsupported value for BooleanEncoder: ${t}`);e<=0||(this.lastValue===t?this.count+=e:(this.appendUint53(this.count),this.lastValue=t,this.count=e))}copyFrom(t,e={}){if(!(t instanceof p))throw new TypeError("incompatible type of decoder");const{count:n}=e;let r="number"==typeof n?n:Number.MAX_SAFE_INTEGER;if(n&&r>0&&t.done)throw new RangeError(`cannot copy ${n} values`);if(0===r||t.done)return;this.appendValue(t.readValue()),r--;const i=Math.min(t.count,r);for(this.count+=i,t.count-=i,r-=i;r>0&&!t.done;){if(t.count=t.readUint53(),0===t.count)throw new RangeError("Zero-length runs are not allowed");t.lastValue=!t.lastValue,this.appendUint53(this.count);const e=Math.min(t.count,r);this.count=e,this.lastValue=t.lastValue,t.count-=e,r-=e}if(n&&r>0&&t.done)throw new RangeError(`cannot copy ${n} values`)}finish(){this.count>0&&(this.appendUint53(this.count),this.count=0)}},BooleanDecoder:p}},6690:(t,e,n)=>{const{init:r,clone:i,free:o,applyChanges:s,applyLocalChange:a,save:l,load:c,loadChanges:h,getPatch:u,getHeads:f,getAllChanges:d,getChanges:p,getChangesAdded:g,getChangeByHash:y,getMissingDeps:m}=n(5259),{receiveSyncMessage:b,generateSyncMessage:v,encodeSyncMessage:A,decodeSyncMessage:w,encodeSyncState:_,decodeSyncState:I,initSyncState:E}=n(3778);t.exports={init:r,clone:i,free:o,applyChanges:s,applyLocalChange:a,save:l,load:c,loadChanges:h,getPatch:u,getHeads:f,getAllChanges:d,getChanges:p,getChangesAdded:g,getChangeByHash:y,getMissingDeps:m,receiveSyncMessage:b,generateSyncMessage:v,encodeSyncMessage:A,decodeSyncMessage:w,encodeSyncState:_,decodeSyncState:I,initSyncState:E}},2172:(t,e,n)=>{const{parseOpId:r,copyObject:i}=n(2847),{COLUMN_TYPE:o,VALUE_TYPE:s,ACTIONS:a,OBJECT_TYPE:l,DOC_OPS_COLUMNS:c,CHANGE_COLUMNS:h,DOCUMENT_COLUMNS:u,encoderByColumnId:f,decoderByColumnId:d,makeDecoders:p,decodeValue:g,encodeChange:y,decodeChangeColumns:m,decodeChangeMeta:b,decodeChanges:v,decodeDocumentHeader:A,encodeDocumentHeader:w}=n(2578),_=Math.floor(750),I=h.filter((t=>["predNum","predActor","predCtr"].includes(t.columnName))).map((t=>t.columnId));function E(t,e,n){if(1===e.length)t[e[0]]=n;else{let r=Object.assign({},t[e[0]]);E(r,e.slice(1),n),t[e[0]]=r}}function C(t,e,n,r){for(let t of e)t.decoder.reset();const{objActor:i,objCtr:o,keyActor:s,keyCtr:a,keyStr:l,idActor:c,idCtr:h,insert:u}=t,[f,d,,,p,g,y,m,b,,,,,v]=e.map((t=>t.decoder));let A=0,w=0,_=!1,I=null,E=null,C=null,S=null,x=null,k=null,B=0;if(null!==o&&!r)for(;(!d.done||!f.done||!b.done)&&(E=d.readValue(),I=n[f.readValue()],b.skipValues(1),null===E||!I||E<o||E===o&&I<i);)A+=1;if((E!==o||I!==i)&&!r)return{found:!0,skipCount:A,visibleCount:w};if(null!==l){for(p.skipValues(A);!p.done;){const t=f.readValue();if(I=null===t?null:n[t],E=d.readValue(),x=p.readValue(),!(null!==x&&x<l&&E===o&&I===i))break;A+=1}return{found:!0,skipCount:A,visibleCount:w}}if(y.skipValues(A),g.skipValues(A),m.skipValues(A),v.skipValues(A),S=y.readValue(),C=n[g.readValue()],k=m.readValue(),B=v.readValue(),u){if(!r&&null!==a&&a>0&&null!==s){for(A+=1;!(y.done||g.done||S===a&&C===s)&&(k&&(_=!1),0!==B||_||(w+=1,_=!0),S=y.readValue(),C=n[g.readValue()],E=d.readValue(),I=n[f.readValue()],k=m.readValue(),B=v.readValue(),E===o&&I===i);)A+=1;if(E!==o||I!==i||S!==a||C!==s||!k)return{found:!1,skipCount:A,visibleCount:w};if(k&&(_=!1),0!==B||_||(w+=1,_=!0),y.done||g.done)return{found:!0,skipCount:A,visibleCount:w};S=y.readValue(),C=n[g.readValue()],E=d.readValue(),I=n[f.readValue()],k=m.readValue(),B=v.readValue()}for(;(!k||S>h||S===h&&C>c)&&E===o&&I===i&&(A+=1,k&&(_=!1),0!==B||_||(w+=1,_=!0),!y.done&&!g.done);)S=y.readValue(),C=n[g.readValue()],E=d.readValue(),I=n[f.readValue()],k=m.readValue(),B=v.readValue()}else if(null!==a&&a>0&&null!==s){for(;!(k&&S===a&&C===s||E!==o||I!==i||(A+=1,k&&(_=!1),0!==B||_||(w+=1,_=!0),y.done||g.done));)S=y.readValue(),C=n[g.readValue()],E=d.readValue(),I=n[f.readValue()],k=m.readValue(),B=v.readValue();if(E!==o||I!==i||S!==a||C!==s||!k)return{found:!1,skipCount:A,visibleCount:w}}return{found:!0,skipCount:A,visibleCount:w}}function S(t,e,n,r){const i=t.blocks[e],o=t.blocks[e+1];return i.lastObjectActor!==n||i.lastObjectCtr!==r||void 0===i.numVisible?0:i.lastVisibleActor===o.firstVisibleActor&&void 0!==i.lastVisibleActor&&i.lastVisibleCtr===o.firstVisibleCtr&&void 0!==i.lastVisibleCtr?i.numVisible-1:i.numVisible}function x(t,e){const{objActor:n,objActorNum:r,objCtr:i,keyActor:o,keyCtr:s,keyStr:a}=e;let l=0,c=0;if(null!==i)for(;l<t.blocks.length-1;){const e=void 0===t.blocks[l].lastObjectActor?void 0:t.actorIds[t.blocks[l].lastObjectActor],r=t.blocks[l].lastObjectCtr;if(!(null===r||r<i||r===i&&e<n))break;l++}if(null!==a){for(;l<t.blocks.length-1;){const{lastObjectActor:e,lastObjectCtr:n,lastKey:o}=t.blocks[l];if(!(i===n&&r===e&&void 0!==o&&o<a))break;l++}const{skipCount:n}=C(e,t.blocks[l].columns,t.actorIds,!1);return{blockIndex:l,skipCount:n,visibleCount:0}}{const n=null===s||0===s||null===o,a=null===o?null:t.actorIds.indexOf(o);let h=!1;for(;;){if(!n&&!h)for(;l<t.blocks.length-1&&t.blocks[l].lastObjectActor===r&&t.blocks[l].lastObjectCtr===i&&!B(t.blocks[l].bloom,a,s);){if(t.blocks[l].lastObjectCtr>i)throw new RangeError(`Reference element not found: ${s}@${o}`);c+=S(t,l,r,i),l++}const{found:u,skipCount:f,visibleCount:d}=C(e,t.blocks[l].columns,t.actorIds,h);if(l===t.blocks.length-1||t.blocks[l].lastObjectActor!==r||t.blocks[l].lastObjectCtr!==i){if(u)return{blockIndex:l,skipCount:f,visibleCount:c+d};throw new RangeError(`Reference element not found: ${s}@${o}`)}if(u&&f<t.blocks[l].numOps)return{blockIndex:l,skipCount:f,visibleCount:c+d};h=u&&e.insert,c+=S(t,l,r,i),l++}}}function k(t,e,n){let r=8*t.byteLength,i=n%r,o=e%r,s=(16777619*(n^e)>>>0)%r;for(let e=0;e<7;e++)t[i>>>3]|=1<<(7&i),i=(i+o)%r,o=(o+s)%r}function B(t,e,n){let r=8*t.byteLength,i=n%r,o=e%r,s=(16777619*(n^e)>>>0)%r;for(let e=0;e<7;e++){if(0==(t[i>>>3]&1<<(7&i)))return!1;i=(i+o)%r,o=(o+s)%r}return!0}function L(t){t.bloom=new Uint8Array(_),t.numOps=0,t.lastKey=void 0,t.numVisible=void 0,t.lastObjectActor=void 0,t.lastObjectCtr=void 0,t.firstVisibleActor=void 0,t.firstVisibleCtr=void 0,t.lastVisibleActor=void 0,t.lastVisibleCtr=void 0;for(let e of t.columns)e.decoder.reset();const[e,n,r,i,o,s,a,l,,,,,,c]=t.columns.map((t=>t.decoder));for(;!a.done;){t.numOps+=1;const h=e.readValue(),u=n.readValue(),f=r.readValue(),d=i.readValue(),p=o.readValue(),g=s.readValue(),y=a.readValue(),m=l.readValue(),b=c.readValue();if(t.lastObjectActor===h&&t.lastObjectCtr===u||(t.numVisible=0,t.lastObjectActor=h,t.lastObjectCtr=u),null!==p)t.lastKey=p;else if(m||null!==d){t.lastKey=void 0;const e=m?g:f,n=m?y:d;k(t.bloom,e,n),0===b&&(void 0===t.firstVisibleActor&&(t.firstVisibleActor=e),void 0===t.firstVisibleCtr&&(t.firstVisibleCtr=n),t.lastVisibleActor===e&&t.lastVisibleCtr===n||(t.numVisible+=1,t.lastVisibleActor=e,t.lastVisibleCtr=n))}}}function O(t,e,n,r){if(null!==e[4])t.lastObjectCtr===e[1]&&t.lastObjectActor===e[0]&&(void 0===t.lastKey||t.lastKey<e[4])&&(t.lastKey=e[4]);else{const n=e[7]?e[5]:e[2],i=e[7]?e[6]:e[3];k(t.bloom,n,i),(0===e[13]||r)&&(void 0===t.firstVisibleActor&&(t.firstVisibleActor=n),void 0===t.firstVisibleCtr&&(t.firstVisibleCtr=i),t.lastVisibleActor=n,t.lastVisibleCtr=i)}(void 0===t.lastObjectCtr||null!==e[0]&&null!==e[1]&&(null===t.lastObjectCtr||t.lastObjectCtr<e[1]||t.lastObjectCtr===e[1]&&n[t.lastObjectActor]<n[e[0]]))&&(t.lastObjectActor=e[0],t.lastObjectCtr=e[1],t.lastKey=null!==e[4]?e[4]:void 0,t.numVisible=0)}function T(t){for(let e of t.columns)e.decoder.reset();const e=Math.ceil(t.numOps/480);let n=[],r=0;for(let i=1;i<=e;i++){const o=Math.ceil(i*t.numOps/e)-r,s=t.columns.map((t=>({columnId:t.columnId,encoder:f(t.columnId)})));M(s,t.columns,o);const a={columns:s.map((t=>{const e=d(t.columnId,t.encoder.buffer);return{columnId:t.columnId,decoder:e}}))};L(a),n.push(a),r+=o}return n}function R(t){const e=t[0].columns.map((t=>({columnId:t.columnId,encoder:f(t.columnId)})));for(let n of t){for(let t of n.columns)t.decoder.reset();M(e,n.columns,n.numOps)}return e}function M(t,e,n){if(0===n)return;let r=0,i=-1,s=0,a=-1,l=0;for(let c of t){for(;r<e.length&&e[r].columnId<c.columnId;)r++;let t=null;r<e.length&&e[r].columnId===c.columnId&&e[r].decoder.buf.byteLength>0&&(t=e[r].decoder);const h=c.columnId>>4===i?s:n;if(c.columnId%8===o.GROUP_CARD)i=c.columnId>>4,t?s=c.encoder.copyFrom(t,{count:n,sumValues:!0}).sum:(c.encoder.appendValue(0,n),s=0);else if(c.columnId%8===o.VALUE_LEN)if(t){if(r+1===e.length||e[r+1].columnId!==c.columnId+1)throw new RangeError("VALUE_LEN column without accompanying VALUE_RAW column");a=c.columnId+1,l=c.encoder.copyFrom(t,{count:h,sumValues:!0,sumShift:4}).sum}else c.encoder.appendValue(null,h),a=c.columnId+1,l=0;else if(c.columnId%8===o.VALUE_RAW){if(c.columnId!==a)throw new RangeError("VALUE_RAW column without accompanying VALUE_LEN column");l>0&&c.encoder.appendRawBytes(t.readRawBytes(l))}else if(t)c.encoder.copyFrom(t,{count:h});else{const t=c.columnId%8!==o.BOOLEAN&&null;c.encoder.appendValue(t,h)}}}function N(t,e){let n,r=[],i=-1,s=0,a=-1,l=0;for(let c of t){if(c.columnId%8===o.VALUE_RAW){if(c.columnId!==a)throw new RangeError("unexpected VALUE_RAW column");n=c.decoder.readRawBytes(l)}else if(c.columnId%8===o.GROUP_CARD)i=c.columnId>>4,s=c.decoder.readValue()||0,n=s;else if(c.columnId>>4===i){n=[],c.columnId%8===o.VALUE_LEN&&(a=c.columnId+1,l=0);for(let t=0;t<s;t++){let t=c.decoder.readValue();c.columnId%8===o.ACTOR_ID&&e&&"number"==typeof t&&(t=e[t]),c.columnId%8===o.VALUE_LEN&&(l+=n>>>4),n.push(t)}}else n=c.decoder.readValue(),c.columnId%8===o.ACTOR_ID&&e&&"number"==typeof n&&(n=e[n]),c.columnId%8===o.VALUE_LEN&&(a=c.columnId+1,l=n>>>4);r.push(n)}return r}function D(t,e,n){let r=0,i=-1,s=0;for(let a of t){for(;r<e.length&&e[r].columnId<a.columnId;)r++;if(r<e.length&&e[r].columnId===a.columnId){const t=n[r];if(a.columnId%8===o.GROUP_CARD)i=a.columnId>>4,s=t,a.encoder.appendValue(t);else if(a.columnId>>4===i){if(!Array.isArray(t)||t.length!==s)throw new RangeError("bad group value");for(let e of t)a.encoder.appendValue(e)}else a.columnId%8===o.VALUE_RAW?t&&a.encoder.appendRawBytes(t):a.encoder.appendValue(t)}else if(a.columnId%8===o.GROUP_CARD)i=a.columnId>>4,s=0,a.encoder.appendValue(0);else if(a.columnId%8!==o.VALUE_RAW){const t=a.columnId>>4===i?s:1;let e=null;a.columnId%8===o.BOOLEAN&&(e=!1),a.columnId%8===o.VALUE_LEN&&(e=0),a.encoder.appendValue(e,t)}}}function U(t,e){let n=t.blocks[e];if(n.columns[8].decoder.done){if(e===t.blocks.length-1)return{docOp:null,blockIndex:e};e+=1,n=t.blocks[e];for(let t of n.columns)t.decoder.reset();return{docOp:N(n.columns),blockIndex:e}}return{docOp:N(n.columns),blockIndex:e}}function Q(t,e){for(;e.changeIndex<e.changes.length-1&&(!e.columns||e.columns[8].decoder.done);){e.changeIndex+=1;const n=e.changes[e.changeIndex];e.columns=p(n.columns,h),e.opCtr=n.startOp,e.columns[8].decoder.done&&(n.maxOp=n.startOp-1),V(t,e.columns);const{actorIds:r,actorTable:i}=Y(t.actorIds,n);t.actorIds=r,e.actorTable=i,e.actorIndex=t.actorIds.indexOf(n.actorIds[0])}if(e.columns[8].decoder.done)return e.done=!0,void(e.nextOp=null);e.nextOp=N(e.columns,e.actorTable),e.nextOp[5]=e.actorIndex,e.nextOp[6]=e.opCtr,e.changes[e.changeIndex].maxOp=e.opCtr,e.opCtr>t.maxOp&&(t.maxOp=e.opCtr),e.opCtr+=1;const n=e.nextOp;if(null===n[1]&&null!==n[0]||null!==n[1]&&null===n[0])throw new RangeError(`Mismatched object reference: (${n[1]}, ${n[0]})`);if(null===n[3]&&null!==n[2]||0===n[3]&&null!==n[2]||n[3]>0&&null===n[2])throw new RangeError(`Mismatched operation key: (${n[3]}, ${n[2]})`)}function j(t,e){return"list"===e||"text"===e?{objectId:t,type:e,edits:[]}:{objectId:t,type:e,props:{}}}function F(t,e,n=1){const i=r(t),o=r(e);return i.actorId===o.actorId&&i.counter+n===o.counter}function P(t,e){if(0===t.length)return void t.push(e);let n=t[t.length-1];"insert"===n.action&&"insert"===e.action&&n.index===e.index-1&&"value"===n.value.type&&"value"===e.value.type&&n.elemId===n.opId&&e.elemId===e.opId&&F(n.elemId,e.elemId,1)&&n.value.datatype===e.value.datatype&&typeof n.value.value==typeof e.value.value?(n.action="multi-insert",e.value.datatype&&(n.datatype=e.value.datatype),n.values=[n.value.value,e.value.value],delete n.value,delete n.opId):"multi-insert"===n.action&&"insert"===e.action&&n.index+n.values.length===e.index&&"value"===e.value.type&&e.elemId===e.opId&&F(n.elemId,e.elemId,n.values.length)&&n.datatype===e.value.datatype&&typeof n.values[0]==typeof e.value.value?n.values.push(e.value.value):"remove"===n.action&&"remove"===e.action&&n.index===e.index?n.count+=e.count:t.push(e)}function H(t,e,n,r,i,o){let s=!1;if(o)for(;!s&&t.length>0;){const n=t[t.length-1];if("insert"!==n.action&&"update"!==n.action||n.index!==e){if("multi-insert"!==n.action||n.index+n.values.length-1!==e)break;n.values.pop(),s=!0}else t.pop(),s="insert"===n.action}P(t,s?{action:"insert",index:e,elemId:n,opId:r,value:i}:{action:"update",index:e,opId:r,value:i})}function K(t,e,n,r,i,o,c,h){const u=!e,f=r[8]<a.length?l[a[r[8]]]:null,d=`${r[6]}@${i.actorIds[r[5]]}`,p=r[7]?r[5]:r[2],y=r[7]?r[6]:r[3],m=r[4]?r[4]:`${y}@${i.actorIds[p]}`;r[8]%2!=0||i.objectMeta[d]||(i.objectMeta[d]={parentObj:n,parentKey:m,opId:d,type:f,children:{}},E(i.objectMeta,[n,"children",m,d],{objectId:d,type:f,props:{}}));const b=!o[m];o[m]||(o[m]={visibleOps:[],hasChild:!1});const v=void 0!==h&&r[13]>0;v||(o[m].visibleOps.push(r),o[m].hasChild=o[m].hasChild||r[8]%2==0);const A=i.objectMeta[n].children[m];if(o[m].hasChild||A&&Object.keys(A).length>0){let t={};for(let e of o[m].visibleOps){const n=`${e[6]}@${i.actorIds[e[5]]}`;if("set"===a[e[8]])t[n]=Object.assign({type:"value"},g(e[9],e[10]));else if(e[8]%2==0){const r=e[8]<a.length?l[a[e[8]]]:null;t[n]=j(n,r)}}E(i.objectMeta,[n,"children",m],t)}let w,_;if(v&&"set"===a[r[8]]&&(15&r[9])===s.COUNTER){o[m]||(o[m]={visibleOps:[],hasChild:!1}),o[m].counterStates||(o[m].counterStates={});let t=o[m].counterStates,e={opId:d,value:g(r[9],r[10]).value,succs:{}};for(let n=0;n<r[13];n++){const o=`${r[15][n]}@${i.actorIds[r[14][n]]}`;t[o]=e,e.succs[o]=!0}}else if("inc"===a[r[8]]){if(!o[m]||!o[m].counterStates||!o[m].counterStates[d])throw new RangeError(`increment operation ${d} for unknown counter`);let t=o[m].counterStates[d];t.value+=g(r[9],r[10]).value,delete t.succs[d],0===Object.keys(t.succs).length&&(w=t.opId,_={type:"value",datatype:"counter",value:t.value})}else v||("set"===a[r[8]]?(w=d,_=Object.assign({type:"value"},g(r[9],r[10]))):r[8]%2==0&&(t[d]||(t[d]=j(d,f)),w=d,_=t[d]));t[n]||(t[n]=j(n,i.objectMeta[n].type));const I=t[n];if(null===r[4])if(0!==h||u||"insert"!==o[m].action||(o[m].action="update",function(t,e,n){let r=[];for(;t.length>0;){let n=t[t.length-1];if("insert"===n.action){if(n.index!==e)throw new RangeError("last edit has unexpected index");r.unshift(t.pop());break}if("update"!==n.action)throw new RangeError("last edit has unexpected action");if(n.index!==e)throw new RangeError("last edit has unexpected index");r.unshift(t.pop())}let i=!0;for(let o of r)H(t,e,n,o.opId,o.value,i),i=!1}(I.edits,c,m),e&&e.lastObjectActor===r[0]&&e.lastObjectCtr===r[1]&&(e.numVisible-=1)),_)if(o[m].action||void 0!==h&&!u)if("remove"===o[m].action){let t=I.edits[I.edits.length-1];if("remove"!==t.action)throw new RangeError("last edit has unexpected type");t.count>1?t.count-=1:I.edits.pop(),o[m].action="update",H(I.edits,c,m,w,_,!0),e&&e.lastObjectActor===r[0]&&e.lastObjectCtr===r[1]&&(e.numVisible+=1)}else H(I.edits,c,m,w,_,!o[m].action),o[m].action||(o[m].action="update");else o[m].action="insert",P(I.edits,{action:"insert",index:c,elemId:m,opId:w,value:_}),e&&e.lastObjectActor===r[0]&&e.lastObjectCtr===r[1]&&(e.numVisible+=1);else 0!==h||o[m].action||(o[m].action="remove",P(I.edits,{action:"remove",index:c,count:1}),e&&e.lastObjectActor===r[0]&&e.lastObjectCtr===r[1]&&(e.numVisible-=1));else!_&&u||(!b&&I.props[r[4]]||(I.props[r[4]]={}),_&&(I.props[r[4]][w]=_))}function z(t,e,n){const[r,i,o,s,l,c,h,u]=e.nextOp,p=null===r?null:n.actorIds[r],g={objActor:p,objActorNum:r,objCtr:i,keyActor:null===o?null:n.actorIds[o],keyActorNum:o,keyCtr:s,keyStr:l,idActor:n.actorIds[c],idCtr:h,insert:u,objId:null===p?"_root":`${i}@${p}`},{blockIndex:y,skipCount:m,visibleCount:b}=x(n,g),v=n.blocks[y];for(let t of v.columns)t.decoder.reset();const A=0===m||void 0===v.firstVisibleActor||!u&&v.firstVisibleActor===o&&v.firstVisibleCtr===s,w={columns:void 0,bloom:new Uint8Array(v.bloom),numOps:m,lastKey:v.lastKey,numVisible:v.numVisible,lastObjectActor:v.lastObjectActor,lastObjectCtr:v.lastObjectCtr,firstVisibleActor:A?void 0:v.firstVisibleActor,firstVisibleCtr:A?void 0:v.firstVisibleCtr,lastVisibleActor:void 0,lastVisibleCtr:void 0},_=v.columns.map((t=>({columnId:t.columnId,encoder:f(t.columnId)})));M(_,v.columns,m);const{blockIndex:I,docOpsConsumed:E}=function(t,e,n,r,i,o,s){const l=r.nextOp,c=l[7],h=l[0],u=l[1],f=null===h?"_root":`${u}@${i.actorIds[h]}`,d=r.actorIndex,p=i.actorIds[d];let g,y=!1,m=!1,b={};({docOp:g,blockIndex:s}=U(i,s));let v=null===g?0:1,A=null===g?0:g[13],w=null,_=[],I=[],E=[],C=null;for(r.objectIds.add(f);;){if(0===_.length){y=!1;let t=r.nextOp;for(;!r.done&&t[5]===d&&t[7]===c&&t[0]===l[0]&&t[1]===l[1];){const e=_.length>0?_[_.length-1]:null;let n=!1;for(let e=0;e<t[13];e++)for(let r of _)t[14][e]===r[5]&&t[15][e]===r[6]&&(n=!0);if(t===l);else if(c&&null!==e&&null===t[4]&&t[2]===e[5]&&t[3]===e[6]);else if((c||null===e||null===t[4]||t[4]!==e[4]||n)&&(c||null===e||null!==t[4]||null!==e[4]||t[2]!==e[2]||t[3]!==e[3]||n))if(!c&&null===e&&null===t[4]&&g&&g[7]&&null===g[4]&&g[5]===t[2]&&g[6]===t[3]);else if(c||null!==e||null===t[4]||null===C||!(C<t[4]))break;C=null!==t?t[4]:null,_.push(r.nextOp),I.push(r.columns),E.push(new Array(r.nextOp[13])),Q(i,r),t=r.nextOp}}_.length>0&&(w=_[0]);const h=g&&g[0]===w[0]&&g[1]===w[1],u=g&&null!==g[4]&&g[4]===w[4],S=g&&null===g[4]&&null===w[4]&&(!g[7]&&g[2]===w[2]&&g[3]===w[3]||g[7]&&g[5]===w[2]&&g[6]===w[3]);if(0===_.length&&(!h||!u&&!S))break;let x=!1,k=0;if(c||!h||null===g[4]&&null!==w[4]||null!==g[4]&&null!==w[4]&&w[4]<g[4]){if(k=_.length,!h&&!y&&null===w[4]&&!w[7])throw new RangeError(`could not find list element with ID: ${w[3]}@${i.actorIds[w[2]]}`)}else if(u||S||y){for(let t=0;t<_.length;t++){const e=_[t];for(let n=0;n<e[13];n++)if(e[14][n]===g[5]&&e[15][n]===g[6]){let r=0;for(;r<g[13]&&(g[15][r]<e[6]||g[15][r]===e[6]&&i.actorIds[g[14][r]]<p);)r++;g[15].splice(r,0,e[6]),g[14].splice(r,0,d),g[13]++,E[t][n]=!0;break}}if(S&&(y=!0),y&&!S)k=_.length;else if(0===_.length||g[6]<w[6]||g[6]===w[6]&&i.actorIds[g[5]]<p){x=!0,K(t,e,f,g,i,b,o,A);for(let t=_.length-1;t>=0;t--){let e=!0;for(let n=0;n<_[t][13];n++)E[t][n]||(e=!1);"del"===a[_[t][8]]&&e&&(_.splice(t,1),I.splice(t,1),E.splice(t,1))}}else{if(g[6]===w[6]&&i.actorIds[g[5]]===p)throw new RangeError(`duplicate operation ID: ${w[6]}@${p}`);k=1}}else x=!0;if(x&&(D(n,i.blocks[s].columns,g),O(e,g,i.actorIds,!1),g[7]&&m&&(m=!1,o++),0===g[13]&&(m=!0),e.numOps++,({docOp:g,blockIndex:s}=U(i,s)),null!==g&&(v++,A=g[13])),k>0){for(let r=0;r<k;r++){let s=_[r];for(let t=0;t<s[13];t++)if(!E[r][t])throw new RangeError(`no matching operation for pred: ${s[15][t]}@${i.actorIds[s[14][t]]}`);D(n,I[r],s),O(e,s,i.actorIds,!0),K(t,e,f,s,i,b,o),s[7]?(m=!1,o++):m=!0}k===_.length?(_.length=0,I.length=0,E.length=0):(_.splice(0,k),I.splice(0,k),E.splice(0,k)),e.numOps+=k}}return g&&(D(n,i.blocks[s].columns,g),e.numOps++,O(e,g,i.actorIds,!1)),{docOpsConsumed:v,blockIndex:s}}(t,w,_,e,n,b,y),C=n.blocks[I];let S=-m-E;for(let t=y;t<=I;t++)S+=n.blocks[t].numOps;M(_,C.columns,S),w.numOps+=S;for(let t of C.columns)if(!t.decoder.done)throw new RangeError(`excess ops in column ${t.columnId}`);if(w.columns=_.map((t=>{const e=d(t.columnId,t.encoder.buffer);return{columnId:t.columnId,decoder:e}})),y===I&&w.numOps<=600)S>0&&void 0!==v.lastVisibleActor&&void 0!==v.lastVisibleCtr&&(w.lastVisibleActor=v.lastVisibleActor,w.lastVisibleCtr=v.lastVisibleCtr),n.blocks[y]=w;else{const t=T(w);n.blocks.splice(y,I-y+1,...t)}}function V(t,e){if(e[0].columnId!==h[0].columnId||"objActor"!==h[0].columnName||e[1].columnId!==h[1].columnId||"objCtr"!==h[1].columnName||e[2].columnId!==h[2].columnId||"keyActor"!==h[2].columnName||e[3].columnId!==h[3].columnId||"keyCtr"!==h[3].columnName||e[4].columnId!==h[4].columnId||"keyStr"!==h[4].columnName||e[5].columnId!==h[5].columnId||"idActor"!==h[5].columnName||e[6].columnId!==h[6].columnId||"idCtr"!==h[6].columnName||e[7].columnId!==h[7].columnId||"insert"!==h[7].columnName||e[8].columnId!==h[8].columnId||"action"!==h[8].columnName||e[9].columnId!==h[9].columnId||"valLen"!==h[9].columnName||e[10].columnId!==h[10].columnId||"valRaw"!==h[10].columnName||e[13].columnId!==h[13].columnId||"predNum"!==h[13].columnName||e[14].columnId!==h[14].columnId||"predActor"!==h[14].columnName||e[15].columnId!==h[15].columnId||"predCtr"!==h[15].columnName)throw new RangeError("unexpected columnId");const n=t.blocks[0].columns;if(!e.every((t=>I.includes(t.columnId)||n.find((e=>e.columnId===t.columnId))))){let r=n.map((t=>({columnId:t.columnId})));for(let t of e){const{columnId:e}=t;I.includes(e)||n.find((t=>t.columnId===e))||r.push({columnId:e})}r.sort(((t,e)=>t.columnId-e.columnId));for(let e=0;e<t.blocks.length;e++){let n=i(t.blocks[e]);n.columns=p(n.columns.map((t=>({columnId:t.columnId,buffer:t.decoder.buf}))),r),t.blocks[e]=n}}}function Y(t,e){if(t.indexOf(e.actorIds[0])<0){if(1!==e.seq)throw new RangeError(`Seq ${e.seq} is the first change for actor ${e.actorIds[0]}`);t=t.concat([e.actorIds[0]])}const n=[];for(let r of e.actorIds){const e=t.indexOf(r);if(e<0)throw new RangeError(`actorId ${r} is not known to document`);n.push(e)}return{actorIds:t,actorTable:n}}function W(t,e,n,r,o){let s=new Set(n.heads),a=new Set,l=i(n.clock),c=[],h=[];for(let t of e){if(void 0!==n.changeIndexByHash[t.hash]||a.has(t.hash))continue;const r=(l[t.actor]||0)+1;let i=!0;for(let e of t.deps){const t=n.changeIndexByHash[e];void 0!==t&&-1!==t||a.has(e)||(i=!1)}if(i){if(t.seq<r){if(o)throw new RangeError(`Reuse of sequence number ${t.seq} for actor ${t.actor}`);return[[],e]}if(t.seq>r)throw new RangeError(`Skipped sequence number ${r} for actor ${t.actor}`);l[t.actor]=t.seq,a.add(t.hash);for(let e of t.deps)s.delete(e);s.add(t.hash),c.push(t)}else h.push(t)}if(c.length>0){let e={changes:c,changeIndex:-1,objectIds:r};for(Q(n,e);!e.done;)z(t,e,n);n.heads=[...s].sort(),n.clock=l}return[c,h]}function q(t){for(let e of t.blocks[0].columns)e.decoder.reset();let e={},n=null,r=0,i={_root:{objectId:"_root",type:"map",props:{}}},o=null,s=null,a="_root",l=!1,c=0;for(;({docOp:n,blockIndex:r}=U(t,r)),null!==n;){n[0]===o&&n[1]===s||(a=`${n[1]}@${t.actorIds[n[0]]}`,o=n[0],s=n[1],e={},c=0,l=!1),n[7]&&l&&(l=!1,c++),0===n[13]&&(l=!0),n[6]>t.maxOp&&(t.maxOp=n[6]);for(let e=0;e<n[13];e++)n[15][e]>t.maxOp&&(t.maxOp=n[15][e]);K(i,null,a,n,t,e,c,n[13])}return i._root}function G(t,e,n,r){D(t,u,[n.indexOf(e.actor),e.seq,e.maxOp,e.time,e.message,e.deps.length,e.deps.map((t=>r[t])),e.extraBytes?e.extraBytes.byteLength<<4|s.BYTES:s.BYTES,e.extraBytes])}class ${constructor(t){if(this.maxOp=0,this.haveHashGraph=!1,this.changes=[],this.changeIndexByHash={},this.dependenciesByHash={},this.dependentsByHash={},this.hashesByActor={},this.actorIds=[],this.heads=[],this.clock={},this.queue=[],this.objectMeta={_root:{parentObj:null,parentKey:null,opId:null,type:"map",children:{}}},t){const e=A(t),{clock:n,headActors:r,encoders:i,numChanges:o}=function(t){const e=p(t.changesColumns,u),n=e[0].decoder,r=e[1].decoder,i=e[5].decoder,o=e[6].decoder;if(e[0].columnId!==u[0].columnId||"actor"!==u[0].columnName||e[1].columnId!==u[1].columnId||"seq"!==u[1].columnName||e[5].columnId!==u[5].columnId||"depsNum"!==u[5].columnName||e[6].columnId!==u[6].columnId||"depsIndex"!==u[6].columnName)throw new RangeError("unexpected columnId");let s=0,a={},l=[],c=new Set;for(;!n.done;){const e=n.readValue(),h=r.readValue(),u=i.readValue(),f=t.actorIds[e];if(1!==h&&h!==a[f]+1)throw new RangeError(`Expected seq ${a[f]+1}, got ${h} for actor ${f}`);l.push(e),a[f]=h,c.add(s);for(let t=0;t<u;t++)c.delete(o.readValue());s++}const h=[...c].map((e=>t.actorIds[l[e]])).sort();for(let t of e)t.decoder.reset();const d=e.map((t=>({columnId:t.columnId,encoder:f(t.columnId)})));return M(d,e,s),{clock:a,headActors:h,encoders:d,numChanges:s}}(e);if(this.binaryDoc=t,this.changes=new Array(o),this.actorIds=e.actorIds,this.heads=e.heads,this.clock=n,this.changesEncoders=i,this.extraBytes=e.extraBytes,1===e.heads.length&&1===r.length&&(this.hashesByActor[r[0]]=[],this.hashesByActor[r[0]][n[r[0]]-1]=e.heads[0]),e.heads.length===e.headsIndexes.length)for(let t=0;t<e.heads.length;t++)this.changeIndexByHash[e.heads[t]]=e.headsIndexes[t];else if(1===e.heads.length)this.changeIndexByHash[e.heads[0]]=o-1;else for(let t of e.heads)this.changeIndexByHash[t]=-1;this.blocks=[{columns:p(e.opsColumns,c)}],L(this.blocks[0]),this.blocks[0].numOps>600&&(this.blocks=T(this.blocks[0]));let s={blocks:this.blocks,actorIds:this.actorIds,objectMeta:this.objectMeta,maxOp:0};this.initPatch=q(s),this.maxOp=s.maxOp}else this.haveHashGraph=!0,this.changesEncoders=u.map((t=>({columnId:t.columnId,encoder:f(t.columnId)}))),this.blocks=[{columns:p([],c),bloom:new Uint8Array(_),numOps:0,lastKey:void 0,numVisible:void 0,lastObjectActor:void 0,lastObjectCtr:void 0,firstVisibleActor:void 0,firstVisibleCtr:void 0,lastVisibleActor:void 0,lastVisibleCtr:void 0}]}clone(){let t=new $;return t.maxOp=this.maxOp,t.haveHashGraph=this.haveHashGraph,t.changes=this.changes.slice(),t.changeIndexByHash=i(this.changeIndexByHash),t.dependenciesByHash=i(this.dependenciesByHash),t.dependentsByHash=Object.entries(this.dependentsByHash).reduce(((t,[e,n])=>(t[e]=n.slice(),t)),{}),t.hashesByActor=Object.entries(this.hashesByActor).reduce(((t,[e,n])=>(t[e]=n.slice(),t)),{}),t.actorIds=this.actorIds,t.heads=this.heads,t.clock=this.clock,t.blocks=this.blocks,t.objectMeta=this.objectMeta,t.queue=this.queue,t}applyChanges(t,e=!1){let n=t.map((t=>{const e=m(t);return e.buffer=t,e})),i={_root:{objectId:"_root",type:"map",props:{}}},o={maxOp:this.maxOp,changeIndexByHash:this.changeIndexByHash,actorIds:this.actorIds,heads:this.heads,clock:this.clock,blocks:this.blocks.slice(),objectMeta:Object.assign({},this.objectMeta)},s=0===this.queue.length?n:n.concat(this.queue),a=[],l=new Set;for(;;){const[t,e]=W(i,s,o,l,this.haveHashGraph);s=e;for(let e=0;e<t.length;e++)o.changeIndexByHash[t[e].hash]=this.changes.length+a.length+e;if(t.length>0&&(a=a.concat(t)),0===s.length)break;if(0===t.length){if(this.haveHashGraph)break;this.computeHashGraph(),o.changeIndexByHash=this.changeIndexByHash}}!function(t,e,n){for(let i of e){let e=n.objectMeta[i],o=null,s=!1;for(;;){const a=o&&Object.keys(e.children[o.parentKey]).length>0;if(t[i]||(t[i]=j(i,e.type)),o&&a)if("list"===e.type||"text"===e.type){for(let n of t[i].edits)n.opId&&e.children[o.parentKey][n.opId]&&(s=!0);if(!s){const s=r(i),a=r(o.parentKey),l={objActor:s.actorId,objCtr:s.counter,keyActor:a.actorId,keyCtr:a.counter,objActorNum:n.actorIds.indexOf(s.actorId),keyActorNum:n.actorIds.indexOf(a.actorId),keyStr:null,insert:!1,objId:i},{visibleCount:c}=x(n,l);for(let[n,r]of Object.entries(e.children[o.parentKey])){let e=r;r.objectId&&(t[r.objectId]||(t[r.objectId]=j(r.objectId,r.type)),e=t[r.objectId]);const o={action:"update",index:c,opId:n,value:e};P(t[i].edits,o)}}}else{t[i].props[o.parentKey]||(t[i].props[o.parentKey]={});let n=t[i].props[o.parentKey];for(let[r,i]of Object.entries(e.children[o.parentKey]))n[r]?s=!0:i.objectId?(t[i.objectId]||(t[i.objectId]=j(i.objectId,i.type)),n[r]=t[i.objectId]):n[r]=i}if(s||!e.parentObj||o&&!a)break;o=e,i=e.parentObj,e=n.objectMeta[i]}}}(i,l,o);for(let t of a){this.changes.push(t.buffer),this.hashesByActor[t.actor]||(this.hashesByActor[t.actor]=[]),this.hashesByActor[t.actor][t.seq-1]=t.hash,this.changeIndexByHash[t.hash]=this.changes.length-1,this.dependenciesByHash[t.hash]=t.deps,this.dependentsByHash[t.hash]=[];for(let e of t.deps)this.dependentsByHash[e]||(this.dependentsByHash[e]=[]),this.dependentsByHash[e].push(t.hash);G(this.changesEncoders,t,o.actorIds,this.changeIndexByHash)}this.maxOp=o.maxOp,this.actorIds=o.actorIds,this.heads=o.heads,this.clock=o.clock,this.blocks=o.blocks,this.objectMeta=o.objectMeta,this.queue=s,this.binaryDoc=null,this.initPatch=null;let c={maxOp:this.maxOp,clock:this.clock,deps:this.heads,pendingChanges:this.queue.length,diffs:i._root};return e&&1===n.length&&(c.actor=n[0].actor,c.seq=n[0].seq),c}computeHashGraph(){const t=this.save();this.haveHashGraph=!0,this.changes=[],this.changeIndexByHash={},this.dependenciesByHash={},this.dependentsByHash={},this.hashesByActor={},this.clock={};for(let e of v([t])){const t=y(e);this.changes.push(t),this.changeIndexByHash[e.hash]=this.changes.length-1,this.dependenciesByHash[e.hash]=e.deps,this.dependentsByHash[e.hash]=[];for(let t of e.deps)this.dependentsByHash[t].push(e.hash);1===e.seq&&(this.hashesByActor[e.actor]=[]),this.hashesByActor[e.actor].push(e.hash);const n=(this.clock[e.actor]||0)+1;if(e.seq!==n)throw new RangeError(`Expected seq ${n}, got seq ${e.seq} from actor ${e.actor}`);this.clock[e.actor]=e.seq}}getChanges(t){if(this.haveHashGraph||this.computeHashGraph(),0===t.length)return this.changes.slice();let e=[],n={},r=[];for(let r of t){n[r]=!0;const t=this.dependentsByHash[r];if(!t)throw new RangeError(`hash not found: ${r}`);e.push(...t)}for(;e.length>0;){const t=e.pop();if(n[t]=!0,r.push(t),!this.dependenciesByHash[t].every((t=>n[t])))break;e.push(...this.dependentsByHash[t])}if(0===e.length&&this.heads.every((t=>n[t])))return r.map((t=>this.changes[this.changeIndexByHash[t]]));for(e=t.slice(),n={};e.length>0;){const t=e.pop();if(!n[t]){const r=this.dependenciesByHash[t];if(!r)throw new RangeError(`hash not found: ${t}`);e.push(...r),n[t]=!0}}return this.changes.filter((t=>!n[b(t,!0).hash]))}getChangesAdded(t){this.haveHashGraph||this.computeHashGraph();let e=this.heads.slice(),n={},r=[];for(;e.length>0;){const i=e.pop();n[i]||void 0!==t.changeIndexByHash[i]||(n[i]=!0,r.push(i),e.push(...this.dependenciesByHash[i]))}return r.reverse().map((t=>this.changes[this.changeIndexByHash[t]]))}getChangeByHash(t){return this.haveHashGraph||this.computeHashGraph(),this.changes[this.changeIndexByHash[t]]}getMissingDeps(t=[]){this.haveHashGraph||this.computeHashGraph();let e=new Set(t),n=new Set;for(let t of this.queue){n.add(t.hash);for(let n of t.deps)e.add(n)}let r=[];for(let t of e)void 0!==this.changeIndexByHash[t]||n.has(t)||r.push(t);return r.sort()}save(){if(this.binaryDoc)return this.binaryDoc;const t=this.changesEncoders.map((t=>({columnId:t.columnId,encoder:f(t.columnId)})));return M(t,this.changesEncoders.map((t=>{const e=d(t.columnId,t.encoder.buffer);return{columnId:t.columnId,decoder:e}})),this.changes.length),this.binaryDoc=w({changesColumns:this.changesEncoders,opsColumns:R(this.blocks),actorIds:this.actorIds,heads:this.heads,headsIndexes:this.heads.map((t=>this.changeIndexByHash[t])),extraBytes:this.extraBytes}),this.changesEncoders=t,this.binaryDoc}getPatch(){const t={blocks:this.blocks,actorIds:this.actorIds,objectMeta:{_root:{parentObj:null,parentKey:null,opId:null,type:"map",children:{}}},maxOp:0},e=this.initPatch?this.initPatch:q(t);return{maxOp:this.maxOp,clock:this.clock,deps:this.heads,pendingChanges:this.queue.length,diffs:e}}}t.exports={MAX_BLOCK_SIZE:600,BackendDoc:$,bloomFilterContains:B}},3778:(t,e,n)=>{const r=n(5259),{hexStringToBytes:i,bytesToHexString:o,Encoder:s,Decoder:a}=n(6924),{decodeChangeMeta:l}=n(2578),{copyObject:c}=n(2847);class h{constructor(t){if(Array.isArray(t)){this.numEntries=t.length,this.numBitsPerEntry=10,this.numProbes=7,this.bits=new Uint8Array(Math.ceil(this.numEntries*this.numBitsPerEntry/8));for(let e of t)this.addHash(e)}else{if(!(t instanceof Uint8Array))throw new TypeError("invalid argument");if(0===t.byteLength)this.numEntries=0,this.numBitsPerEntry=0,this.numProbes=0,this.bits=t;else{const e=new a(t);this.numEntries=e.readUint32(),this.numBitsPerEntry=e.readUint32(),this.numProbes=e.readUint32(),this.bits=e.readRawBytes(Math.ceil(this.numEntries*this.numBitsPerEntry/8))}}}get bytes(){if(0===this.numEntries)return new Uint8Array(0);const t=new s;return t.appendUint32(this.numEntries),t.appendUint32(this.numBitsPerEntry),t.appendUint32(this.numProbes),t.appendRawBytes(this.bits),t.buffer}getProbes(t){const e=i(t),n=8*this.bits.byteLength;if(32!==e.byteLength)throw new RangeError(`Not a 256-bit hash: ${t}`);let r=((e[0]|e[1]<<8|e[2]<<16|e[3]<<24)>>>0)%n,o=((e[4]|e[5]<<8|e[6]<<16|e[7]<<24)>>>0)%n,s=((e[8]|e[9]<<8|e[10]<<16|e[11]<<24)>>>0)%n;const a=[r];for(let t=1;t<this.numProbes;t++)r=(r+o)%n,o=(o+s)%n,a.push(r);return a}addHash(t){for(let e of this.getProbes(t))this.bits[e>>>3]|=1<<(7&e)}containsHash(t){if(0===this.numEntries)return!1;for(let e of this.getProbes(t))if(0==(this.bits[e>>>3]&1<<(7&e)))return!1;return!0}}function u(t,e){if(!Array.isArray(e))throw new TypeError("hashes must be an array");t.appendUint32(e.length);for(let n=0;n<e.length;n++){if(n>0&&e[n-1]>=e[n])throw new RangeError("hashes must be sorted");const r=i(e[n]);if(32!==r.byteLength)throw new TypeError("heads hashes must be 256 bits");t.appendRawBytes(r)}}function f(t){let e=t.readUint32(),n=[];for(let r=0;r<e;r++)n.push(o(t.readRawBytes(32)));return n}function d(t){const e=new s;e.appendByte(66),u(e,t.heads),u(e,t.need),e.appendUint32(t.have.length);for(let n of t.have)u(e,n.lastSync),e.appendPrefixedBytes(n.bloom);e.appendUint32(t.changes.length);for(let n of t.changes)e.appendPrefixedBytes(n);return e.buffer}function p(t){const e=new a(t),n=e.readByte();if(66!==n)throw new RangeError(`Unexpected message type: ${n}`);const r=f(e),i=f(e),o=e.readUint32();let s={heads:r,need:i,have:[],changes:[]};for(let t=0;t<o;t++){const t=f(e),n=e.readPrefixedBytes(e);s.have.push({lastSync:t,bloom:n})}const l=e.readUint32();for(let t=0;t<l;t++){const t=e.readPrefixedBytes();s.changes.push(t)}return s}function g(t,e){const n=r.getChanges(t,e).map((t=>l(t,!0).hash));return{lastSync:e,bloom:new h(n).bytes}}function y(t,e){return t.length===e.length&&t.every(((t,n)=>t===e[n]))}t.exports={receiveSyncMessage:function(t,e,n){if(!t)throw new Error("generateSyncMessage called with no Automerge document");if(!e)throw new Error("generateSyncMessage requires a syncState, which can be created with initSyncState()");let{sharedHeads:i,lastSentHeads:o,sentHashes:s}=e,a=null;const l=p(n),c=r.getHeads(t);l.changes.length>0&&([t,a]=r.applyChanges(t,l.changes),i=function(t,e,n){const r=e.filter((e=>!t.includes(e))),i=n.filter((t=>e.includes(t)));return[...new Set([...r,...i])].sort()}(c,r.getHeads(t),i)),0===l.changes.length&&y(l.heads,c)&&(o=l.heads);const h=l.heads.filter((e=>r.getChangeByHash(t,e)));h.length===l.heads.length?(i=l.heads,0===l.heads.length&&(o=[],s=[])):i=[...new Set(h.concat(i))].sort();const u={sharedHeads:i,lastSentHeads:o,theirHave:l.have,theirHeads:l.heads,theirNeed:l.need,sentHashes:s};return[t,u,a]},generateSyncMessage:function(t,e){if(!t)throw new Error("generateSyncMessage called with no Automerge document");if(!e)throw new Error("generateSyncMessage requires a syncState, which can be created with initSyncState()");let{sharedHeads:n,lastSentHeads:i,theirHeads:o,theirNeed:s,theirHave:a,sentHashes:u}=e;const f=r.getHeads(t),p=r.getMissingDeps(t,o||[]);let m=[];if(o&&!p.every((t=>o.includes(t)))||(m=[g(t,n)]),a&&a.length>0&&!a[0].lastSync.every((e=>r.getChangeByHash(t,e))))return[e,d({heads:f,need:[],have:[{lastSync:[],bloom:new Uint8Array(0)}],changes:[]})];let b=Array.isArray(a)&&Array.isArray(s)?function(t,e,n){if(0===e.length)return n.map((e=>r.getChangeByHash(t,e))).filter((t=>void 0!==t));let i={},o=[];for(let t of e){for(let e of t.lastSync)i[e]=!0;o.push(new h(t.bloom))}const s=r.getChanges(t,Object.keys(i)).map((t=>l(t,!0)));let a={},c={},u={};for(let t of s){a[t.hash]=!0;for(let e of t.deps)c[e]||(c[e]=[]),c[e].push(t.hash);o.every((e=>!e.containsHash(t.hash)))&&(u[t.hash]=!0)}let f=Object.keys(u);for(;f.length>0;){const t=f.pop();if(c[t])for(let e of c[t])u[e]||(u[e]=!0,f.push(e))}let d=[];for(let e of n)if(u[e]=!0,!a[e]){const n=r.getChangeByHash(t,e);n&&d.push(n)}for(let t of s)u[t.hash]&&d.push(t.change);return d}(t,a,s):[];const v=Array.isArray(i)&&y(f,i),A=Array.isArray(o)&&y(f,o);if(v&&A&&0===b.length)return[e,null];b=b.filter((t=>!u[l(t,!0).hash]));const w={heads:f,have:m,need:p,changes:b};if(b.length>0){u=c(u);for(const t of b)u[l(t,!0).hash]=!0}return[e=Object.assign({},e,{lastSentHeads:f,sentHashes:u}),d(w)]},encodeSyncMessage:d,decodeSyncMessage:p,initSyncState:function(){return{sharedHeads:[],lastSentHeads:[],theirHeads:null,theirNeed:null,theirHave:null,sentHashes:{}}},encodeSyncState:function(t){const e=new s;return e.appendByte(67),u(e,t.sharedHeads),e.buffer},decodeSyncState:function(t){const e=new a(t),n=e.readByte();if(67!==n)throw new RangeError(`Unexpected record type: ${n}`);const r=f(e);return Object.assign({sharedHeads:[],lastSentHeads:[],theirHeads:null,theirNeed:null,theirHave:null,sentHashes:{}},{sharedHeads:r})},BloomFilter:h}},7321:t=>{t.exports={backendState:function(t){if(t.frozen)throw new Error("Attempting to use an outdated Automerge document that has already been updated. Please use the latest document state, or call Automerge.clone() if you really need to use this old document state.");return t.state}}},4688:(t,e,n)=>{const{isObject:r,copyObject:i,parseOpId:o}=n(2847),{OBJECT_ID:s,CONFLICTS:a,ELEM_IDS:l}=n(5870),{instantiateText:c}=n(5561),{instantiateTable:h}=n(675),{Counter:u}=n(4491);function f(t,e,n){return t.objectId?(e&&e[s]!==t.objectId&&(e=void 0),g(t,e,n)):"timestamp"===t.datatype?new Date(t.value):"counter"===t.datatype?new u(t.value):t.value}function d(t,e){const n=/^(\d+)@(.*)$/,r=n.test(t)?o(t):{counter:0,actorId:t},i=n.test(e)?o(e):{counter:0,actorId:e};return r.counter<i.counter?-1:r.counter>i.counter?1:r.actorId<i.actorId?-1:r.actorId>i.actorId?1:0}function p(t,e){const n=i(t),r=i(t?t[a]:void 0);return Object.defineProperty(n,s,{value:e}),Object.defineProperty(n,a,{value:r}),n}function g(t,e,n){if(r(e)&&(!t.props||0===Object.keys(t.props).length)&&(!t.edits||0===t.edits.length)&&!n[t.objectId])return e;if("map"===t.type)return function(t,e,n){const r=t.objectId;n[r]||(n[r]=p(e,r));const i=n[r];return function(t,e,n,r){if(t)for(let i of Object.keys(t)){const o={},s=Object.keys(t[i]).sort(d).reverse();for(let e of s){const s=t[i][e];n[i]&&n[i][e]?o[e]=f(s,n[i][e],r):o[e]=f(s,void 0,r)}0===s.length?(delete e[i],delete n[i]):(e[i]=o[s[0]],n[i]=o)}}(t.props,i,i[a],n),i}(t,e,n);if("table"===t.type)return function(t,e,n){const r=t.objectId;n[r]||(n[r]=e?e._clone():h(r));const i=n[r];for(let e of Object.keys(t.props||{})){const r=Object.keys(t.props[e]);if(0===r.length)i.remove(e);else{if(1!==r.length)throw new RangeError("Conflicts are not supported on properties of a table");{const o=t.props[e][r[0]];i._set(e,f(o,i.byId(e),n),r[0])}}}return i}(t,e,n);if("list"===t.type)return function(t,e,n){const r=t.objectId;n[r]||(n[r]=function(t,e){const n=t?t.slice():[],r=t&&t[a]?t[a].slice():[],i=t&&t[l]?t[l].slice():[];return Object.defineProperty(n,s,{value:e}),Object.defineProperty(n,a,{value:r}),Object.defineProperty(n,l,{value:i}),n}(e,r));const i=n[r],c=i[a],h=i[l];for(let e=0;e<t.edits.length;e++){const r=t.edits[e];if("insert"===r.action||"update"===r.action){const o=c[r.index]&&c[r.index][r.opId];let s=f(r.value,o,n),a={[r.opId]:s};for(;e<t.edits.length-1&&t.edits[e+1].index===r.index&&"update"===t.edits[e+1].action;){e++;const r=t.edits[e],i=c[r.index]&&c[r.index][r.opId];s=f(r.value,i,n),a[r.opId]=s}"insert"===r.action?(i.splice(r.index,0,s),c.splice(r.index,0,a),h.splice(r.index,0,r.elemId)):(i[r.index]=s,c[r.index]=a)}else if("multi-insert"===r.action){const t=o(r.elemId),e=[],s=[],a=[],l=r.datatype;r.values.forEach(((r,i)=>{const o=`${t.counter+i}@${t.actorId}`;r=f({value:r,datatype:l},void 0,n),s.push(r),a.push({[o]:{value:r,datatype:l,type:"value"}}),e.push(o)})),i.splice(r.index,0,...s),c.splice(r.index,0,...a),h.splice(r.index,0,...e)}else"remove"===r.action&&(i.splice(r.index,r.count),c.splice(r.index,r.count),h.splice(r.index,r.count))}return i}(t,e,n);if("text"===t.type)return function(t,e,n){const r=t.objectId;let i;i=n[r]?n[r].elems:e?e.elems.slice():[];for(const e of t.edits)if("insert"===e.action){const t=f(e.value,void 0,n),r={elemId:e.elemId,pred:[e.opId],value:t};i.splice(e.index,0,r)}else if("multi-insert"===e.action){const t=o(e.elemId),r=e.datatype,s=e.values.map(((e,i)=>{e=f({datatype:r,value:e},void 0,n);const o=`${t.counter+i}@${t.actorId}`;return{elemId:o,pred:[o],value:e}}));i.splice(e.index,0,...s)}else if("update"===e.action){const t=i[e.index].elemId,r=f(e.value,i[e.index].value,n);i[e.index]={elemId:t,pred:[e.opId],value:r}}else"remove"===e.action&&i.splice(e.index,e.count);return n[r]=c(r,i),n[r]}(t,e,n);throw new TypeError(`Unknown object type: ${t.type}`)}t.exports={interpretPatch:g,cloneRootObject:function(t){if("_root"!==t[s])throw new RangeError(`Not the root object: ${t[s]}`);return p(t,"_root")}}},5870:t=>{const e=Symbol("_options"),n=Symbol("_cache"),r=Symbol("_state"),i=Symbol("_objectId"),o=Symbol("_conflicts"),s=Symbol("_change"),a=Symbol("_elemIds");t.exports={OPTIONS:e,CACHE:n,STATE:r,OBJECT_ID:i,CONFLICTS:o,CHANGE:s,ELEM_IDS:a}},7692:(t,e,n)=>{const{CACHE:r,OBJECT_ID:i,CONFLICTS:o,ELEM_IDS:s,STATE:a}=n(5870),{interpretPatch:l}=n(4688),{Text:c}=n(5561),{Table:h}=n(675),{Counter:u,getWriteableCounter:f}=n(4491),{Int:d,Uint:p,Float64:g}=n(1170),{isObject:y,parseOpId:m,createArrayOfNulls:b}=n(2847),v=n(4680);function A(t,e){return t instanceof h?[t.opIds[e]]:t instanceof c?t.elems[e].pred:t[o]&&t[o][e]?Object.keys(t[o][e]):[]}function w(t,e,n=!1){if(n){if(0===e)return"_head";e-=1}if(t[s])return t[s][e];if(t.getElemId)return t.getElemId(e);throw new RangeError(`Cannot find elemId at list index ${e}`)}t.exports={Context:class{constructor(t,e,n){this.actorId=e,this.nextOpNum=t[a].maxOp+1,this.cache=t[r],this.updated={},this.ops=[],this.applyPatch=n||l}addOp(t){this.ops.push(t),"set"===t.action&&t.values?this.nextOpNum+=t.values.length:"del"===t.action&&t.multiOp?this.nextOpNum+=t.multiOp:this.nextOpNum+=1}nextOpId(){return`${this.nextOpNum}@${this.actorId}`}getValueDescription(t){if(!["object","boolean","number","string"].includes(typeof t))throw new TypeError("Unsupported type of value: "+typeof t);if(y(t)){if(t instanceof Date)return{type:"value",value:t.getTime(),datatype:"timestamp"};if(t instanceof d)return{type:"value",value:t.value,datatype:"int"};if(t instanceof p)return{type:"value",value:t.value,datatype:"uint"};if(t instanceof g)return{type:"value",value:t.value,datatype:"float64"};if(t instanceof u)return{type:"value",value:t.value,datatype:"counter"};{const e=t[i],n=this.getObjectType(e);if(!e)throw new RangeError(`Object ${JSON.stringify(t)} has no objectId`);return"list"===n||"text"===n?{objectId:e,type:n,edits:[]}:{objectId:e,type:n,props:{}}}}return"number"==typeof t?Number.isInteger(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER?{type:"value",value:t,datatype:"int"}:{type:"value",value:t,datatype:"float64"}:{type:"value",value:t}}getValuesDescriptions(t,e,n){if(e instanceof h){const t=e.byId(n),r=e.opIds[n];return t?{[r]:this.getValueDescription(t)}:{}}if(e instanceof c){const t=e.get(n),r=e.getElemId(n);return t?{[r]:this.getValueDescription(t)}:{}}{const r=e[o][n],i={};if(!r)throw new RangeError(`No children at key ${n} of path ${JSON.stringify(t)}`);for(let t of Object.keys(r))i[t]=this.getValueDescription(r[t]);return i}}getPropertyValue(t,e,n){return t instanceof h?t.byId(e):t instanceof c?t.get(e):t[o][e][n]}getSubpatch(t,e){if(0==e.length)return t;let n=t,r=this.getObject("_root");for(let t of e){let i=this.getValuesDescriptions(e,r,t.key);if(n.props)n.props[t.key]||(n.props[t.key]=i);else if(n.edits)for(const e of Object.keys(i))n.edits.push({action:"update",index:t.key,opId:e,value:i[e]});let o=null;for(let e of Object.keys(i))i[e].objectId===t.objectId&&(o=e);if(!o)throw new RangeError(`Cannot find path object with objectId ${t.objectId}`);n=i[o],r=this.getPropertyValue(r,t.key,o)}return n}getObject(t){const e=this.updated[t]||this.cache[t];if(!e)throw new RangeError(`Target object does not exist: ${t}`);return e}getObjectType(t){if("_root"===t)return"map";const e=this.getObject(t);return e instanceof c?"text":e instanceof h?"table":Array.isArray(e)?"list":"map"}getObjectField(t,e,n){if(!["string","number"].includes(typeof n))return;const r=this.getObject(e);if(r[n]instanceof u)return f(r[n].value,this,t,e,n);if(y(r[n])){const e=r[n][i],o=t.concat([{key:n,objectId:e}]);return this.instantiateObject(o,e)}return r[n]}createNestedObjects(t,e,n,r,o,s){if(n[i])throw new RangeError("Cannot create a reference to an existing document object");const a=this.nextOpId();if(n instanceof c){this.addOp(s?{action:"makeText",obj:t,elemId:s,insert:r,pred:o}:{action:"makeText",obj:t,key:e,insert:r,pred:o});const i={objectId:a,type:"text",edits:[]};return this.insertListItems(i,0,[...n],!0),i}if(n instanceof h){if(n.count>0)throw new RangeError("Assigning a non-empty Table object is not supported");return this.addOp(s?{action:"makeTable",obj:t,elemId:s,insert:r,pred:o}:{action:"makeTable",obj:t,key:e,insert:r,pred:o}),{objectId:a,type:"table",props:{}}}if(Array.isArray(n)){this.addOp(s?{action:"makeList",obj:t,elemId:s,insert:r,pred:o}:{action:"makeList",obj:t,key:e,insert:r,pred:o});const i={objectId:a,type:"list",edits:[]};return this.insertListItems(i,0,n,!0),i}{this.addOp(s?{action:"makeMap",obj:t,elemId:s,insert:r,pred:o}:{action:"makeMap",obj:t,key:e,insert:r,pred:o});let i={};for(let t of Object.keys(n).sort()){const e=this.nextOpId(),r=this.setValue(a,t,n[t],!1,[]);i[t]={[e]:r}}return{objectId:a,type:"map",props:i}}}setValue(t,e,n,r,i,o){if(!t)throw new RangeError("setValue needs an objectId");if(""===e)throw new RangeError("The key of a map entry must not be an empty string");if(!y(n)||n instanceof Date||n instanceof u||n instanceof d||n instanceof p||n instanceof g){const s=this.getValueDescription(n),a={action:"set",obj:t,insert:r,value:s.value,pred:i};return o?a.elemId=o:a.key=e,s.datatype&&(a.datatype=s.datatype),this.addOp(a),s}return this.createNestedObjects(t,e,n,r,i,o)}applyAtPath(t,e){let n={objectId:"_root",type:"map",props:{}};e(this.getSubpatch(n,t)),this.applyPatch(n,this.cache._root,this.updated)}setMapKey(t,e,n){if("string"!=typeof e)throw new RangeError("The key of a map entry must be a string, not "+typeof e);const r=0===t.length?"_root":t[t.length-1].objectId,i=this.getObject(r);if(i[e]instanceof u)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");(i[e]!==n||Object.keys(i[o][e]||{}).length>1||void 0===n)&&this.applyAtPath(t,(t=>{const o=A(i,e),s=this.nextOpId(),a=this.setValue(r,e,n,!1,o);t.props[e]={[s]:a}}))}deleteMapKey(t,e){const n=0===t.length?"_root":t[t.length-1].objectId,r=this.getObject(n);if(void 0!==r[e]){const i=A(r,e);this.addOp({action:"del",obj:n,key:e,insert:!1,pred:i}),this.applyAtPath(t,(t=>{t.props[e]={}}))}}insertListItems(t,e,n,r){const i=r?[]:this.getObject(t.objectId);if(e<0||e>i.length)throw new RangeError(`List index ${e} is out of bounds for list of length ${i.length}`);if(0===n.length)return;let o=w(i,e,!0);const s=n.every((t=>"string"==typeof t||"number"==typeof t||"boolean"==typeof t||null===t||y(t)&&(t instanceof Date||t instanceof u||t instanceof d||t instanceof p||t instanceof g))),a=s?n.map((t=>this.getValueDescription(t))):[],l=a.every((t=>t.datatype===a[0].datatype));if(s&&l&&n.length>1){const n=this.nextOpId(),r=a[0].datatype,i=a.map((t=>t.value)),s={action:"set",obj:t.objectId,elemId:o,insert:!0,values:i,pred:[]},l={action:"multi-insert",elemId:n,index:e,values:i};r&&(s.datatype=r,l.datatype=r),this.addOp(s),t.edits.push(l)}else for(let r=0;r<n.length;r++){let i=this.nextOpId();const s=this.setValue(t.objectId,e+r,n[r],!0,[],o);o=i,t.edits.push({action:"insert",index:e+r,elemId:o,opId:o,value:s})}}setListIndex(t,e,n){const r=0===t.length?"_root":t[t.length-1].objectId,i=this.getObject(r);if(e>=i.length){const r=b(e-i.length);return r.push(n),this.splice(t,i.length,0,r)}if(i[e]instanceof u)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");(i[e]!==n||Object.keys(i[o][e]||{}).length>1||void 0===n)&&this.applyAtPath(t,(t=>{const o=A(i,e),s=this.nextOpId(),a=this.setValue(r,e,n,!1,o,w(i,e));t.edits.push({action:"update",index:e,opId:s,value:a})}))}splice(t,e,n,r){const i=0===t.length?"_root":t[t.length-1].objectId;let o=this.getObject(i);if(e<0||n<0||e>o.length-n)throw new RangeError(`${n} deletions starting at index ${e} are out of bounds for list of length ${o.length}`);if(0===n&&0===r.length)return;let s={objectId:"_root",type:"map",props:{}},a=this.getSubpatch(s,t);if(n>0){let r,s,l;for(let a=0;a<n;a++){if(this.getObjectField(t,i,e+a)instanceof u)throw new TypeError("Unsupported operation: deleting a counter from a list");const n=w(o,e+a),c=m(n),h=A(o,e+a),f=1===h.length?m(h[0]):void 0;r&&s&&l&&f&&s.actorId===c.actorId&&s.counter+1===c.counter&&l.actorId===f.actorId&&l.counter+1===f.counter?r.multiOp=(r.multiOp||1)+1:(r&&this.addOp(r),r={action:"del",obj:i,elemId:n,insert:!1,pred:h}),s=c,l=f}this.addOp(r),a.edits.push({action:"remove",index:e,count:n})}r.length>0&&this.insertListItems(a,e,r,!1),this.applyPatch(s,this.cache._root,this.updated)}addTableRow(t,e){if(!y(e)||Array.isArray(e))throw new TypeError("A table row must be an object");if(e[i])throw new TypeError("Cannot reuse an existing object as table row");if(e.id)throw new TypeError('A table row must not have an "id" property; it is generated automatically');const n=v(),r=this.setValue(t[t.length-1].objectId,n,e,!1,[]);return this.applyAtPath(t,(t=>{t.props[n]={[r.objectId]:r}})),n}deleteTableRow(t,e,n){const r=t[t.length-1].objectId;this.getObject(r).byId(e)&&(this.addOp({action:"del",obj:r,key:e,insert:!1,pred:[n]}),this.applyAtPath(t,(t=>{t.props[e]={}})))}increment(t,e,n){const r=0===t.length?"_root":t[t.length-1].objectId,i=this.getObject(r);if(!(i[e]instanceof u))throw new TypeError("Only counter values can be incremented");const o=this.getObjectType(r),s=i[e].value+n,a=this.nextOpId(),l=A(i,e);if("list"===o||"text"===o){const t=w(i,e,!1);this.addOp({action:"inc",obj:r,elemId:t,value:n,insert:!1,pred:l})}else this.addOp({action:"inc",obj:r,key:e,value:n,insert:!1,pred:l});this.applyAtPath(t,(t=>{"list"===o||"text"===o?t.edits.push({action:"update",index:e,opId:a,value:{value:s,datatype:"counter"}}):t.props[e]={[a]:{value:s,datatype:"counter"}}}))}}}},4491:t=>{class e{constructor(t){this.value=t||0,Object.freeze(this)}valueOf(){return this.value}toString(){return this.valueOf().toString()}toJSON(){return this.value}}class n extends e{increment(t){return t="number"==typeof t?t:1,this.context.increment(this.path,this.key,t),this.value+=t,this.value}decrement(t){return this.increment("number"==typeof t?-t:-1)}}t.exports={Counter:e,getWriteableCounter:function(t,e,r,i,o){const s=Object.create(n.prototype);return s.value=t,s.context=e,s.path=r,s.objectId=i,s.key=o,s}}},2049:(t,e,n)=>{const{OPTIONS:r,CACHE:i,STATE:o,OBJECT_ID:s,CONFLICTS:a,CHANGE:l,ELEM_IDS:c}=n(5870),{isObject:h,copyObject:u}=n(2847),f=n(4680),{interpretPatch:d,cloneRootObject:p}=n(4688),{rootObjectProxy:g}=n(9329),{Context:y}=n(7692),{Text:m}=n(5561),{Table:b}=n(675),{Counter:v}=n(4491),{Float64:A,Int:w,Uint:_}=n(1170),{Observable:I}=n(7456);function E(t){if("string"!=typeof t)throw new TypeError("Unsupported type of actorId: "+typeof t);if(!/^[0-9a-f]+$/.test(t))throw new RangeError("actorId must consist only of lowercase hex digits");if(t.length%2!=0)throw new RangeError("actorId must consist of an even number of digits")}function C(t,e,n){let s=e._root;if(s||(s=p(t[i]._root),e._root=s),Object.defineProperty(s,r,{value:t[r]}),Object.defineProperty(s,i,{value:e}),Object.defineProperty(s,o,{value:n}),t[r].freeze)for(let t of Object.keys(e))e[t]instanceof b?e[t]._freeze():e[t]instanceof m?(Object.freeze(e[t].elems),Object.freeze(e[t])):(Object.freeze(e[t]),Object.freeze(e[t][a]));for(let n of Object.keys(t[i]))e[n]||(e[n]=t[i][n]);return t[r].freeze&&Object.freeze(e),s}function S(t,e,n){const i=L(t);if(!i)throw new Error("Actor ID must be initialized with setActorId() before making a change");const s=u(t[o]);s.seq+=1;const a={actor:i,seq:s.seq,startOp:s.maxOp+1,deps:s.deps,time:n&&"number"==typeof n.time?n.time:Math.round((new Date).getTime()/1e3),message:n&&"string"==typeof n.message?n.message:"",ops:e.ops};if(t[r].backend){const[e,i,o]=t[r].backend.applyLocalChange(s.backendState,a);s.backendState=e,s.lastLocalChange=o;const l=x(t,i,s,!0),c=n&&n.patchCallback||t[r].patchCallback;return c&&c(i,t,l,!0,[o]),[l,a]}{const n={actor:i,seq:a.seq,before:t};return s.requests=s.requests.concat([n]),s.maxOp=s.maxOp+function(t){let e=0;for(const n of t)"set"===n.action&&n.values?e+=n.values.length:e+=1;return e}(a.ops),s.deps=[],[C(t,e?e.updated:{},s),a]}}function x(t,e,n,r){const i=L(t),o={};if(d(e.diffs,t,o),r){if(!e.clock)throw new RangeError("patch is missing clock field");e.clock[i]&&e.clock[i]>n.seq&&(n.seq=e.clock[i]),n.clock=e.clock,n.deps=e.deps,n.maxOp=Math.max(n.maxOp,e.maxOp)}return C(t,o,n)}function k(t){if("string"==typeof t)t={actorId:t};else if(void 0===t)t={};else if(!h(t))throw new TypeError(`Unsupported value for init() options: ${t}`);if(t.deferActorId||(void 0===t.actorId&&(t.actorId=f()),E(t.actorId)),t.observable){const e=t.patchCallback,n=t.observable;t.patchCallback=(t,r,i,o,s)=>{e&&e(t,r,i,o,s),n.patchCallback(t,r,i,o,s)}}const e={},n={_root:e},l={seq:0,maxOp:0,requests:[],clock:{},deps:[]};return t.backend&&(l.backendState=t.backend.init(),l.lastLocalChange=null),Object.defineProperty(e,s,{value:"_root"}),Object.defineProperty(e,r,{value:Object.freeze(t)}),Object.defineProperty(e,a,{value:Object.freeze({})}),Object.defineProperty(e,i,{value:Object.freeze(n)}),Object.defineProperty(e,o,{value:Object.freeze(l)}),Object.freeze(e)}function B(t,e,n){if("_root"!==t[s])throw new TypeError("The first argument to Automerge.change must be the document root");if(t[l])throw new TypeError("Calls to Automerge.change cannot be nested");if("function"==typeof e&&void 0===n&&([e,n]=[n,e]),"string"==typeof e&&(e={message:e}),void 0!==e&&!h(e))throw new TypeError("Unsupported type of options");const r=L(t);if(!r)throw new Error("Actor ID must be initialized with setActorId() before making a change");const i=new y(t,r);return n(g(i)),0===Object.keys(i.updated).length?[t,null]:S(t,i,e)}function L(t){return t[o].actorId||t[r].actorId}t.exports={init:k,from:function(t,e){return B(k(e),"Initialization",(e=>Object.assign(e,t)))},change:B,emptyChange:function(t,e){if("_root"!==t[s])throw new TypeError("The first argument to Automerge.emptyChange must be the document root");if("string"==typeof e&&(e={message:e}),void 0!==e&&!h(e))throw new TypeError("Unsupported type of options");const n=L(t);if(!n)throw new Error("Actor ID must be initialized with setActorId() before making a change");return S(t,new y(t,n),e)},applyPatch:function(t,e,n){if("_root"!==t[s])throw new TypeError("The first argument to Frontend.applyPatch must be the document root");const i=u(t[o]);if(t[r].backend){if(!n)throw new RangeError("applyPatch must be called with the updated backend state");return i.backendState=n,x(t,e,i,!0)}let a;if(i.requests.length>0)if(a=i.requests[0].before,e.actor===L(t)){if(i.requests[0].seq!==e.seq)throw new RangeError(`Mismatched sequence number: patch ${e.seq} does not match next request ${i.requests[0].seq}`);i.requests=i.requests.slice(1)}else i.requests=i.requests.slice();else a=t,i.requests=[];let l=x(a,e,i,!0);return 0===i.requests.length?l:(i.requests[0]=u(i.requests[0]),i.requests[0].before=l,C(t,{},i))},getObjectId:function(t){return t[s]},getObjectById:function(t,e){if(t[l])throw new TypeError("Cannot use getObjectById in a change callback");return t[i][e]},getActorId:L,setActorId:function(t,e){return E(e),C(t,{},Object.assign({},t[o],{actorId:e}))},getConflicts:function(t,e){if(t[a]&&t[a][e]&&Object.keys(t[a][e]).length>1)return t[a][e]},getLastLocalChange:function(t){return t[o]&&t[o].lastLocalChange?t[o].lastLocalChange:null},getBackendState:function(t,e=null,n="first"){if("_root"!==t[s]){const r=Array.isArray(t)?". Note: Automerge.applyChanges now returns an array.":"";throw e?new TypeError(`The ${n} argument to Automerge.${e} must be the document root${r}`):new TypeError(`Argument is not an Automerge document root${r}`)}return t[o].backendState},getElementIds:function(t){return t instanceof m?t.elems.map((t=>t.elemId)):t[c]},Text:m,Table:b,Counter:v,Observable:I,Float64:A,Int:w,Uint:_}},1170:t=>{t.exports={Int:class{constructor(t){if(!(Number.isInteger(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER))throw new RangeError(`Value ${t} cannot be a uint`);this.value=t,Object.freeze(this)}},Uint:class{constructor(t){if(!(Number.isInteger(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=0))throw new RangeError(`Value ${t} cannot be a uint`);this.value=t,Object.freeze(this)}},Float64:class{constructor(t){if("number"!=typeof t)throw new RangeError(`Value ${t} cannot be a float64`);this.value=t||0,Object.freeze(this)}}}},7456:(t,e,n)=>{const{OBJECT_ID:r,CONFLICTS:i}=n(5870);t.exports={Observable:class{constructor(){this.observers={}}patchCallback(t,e,n,r,i){this._objectUpdate(t.diffs,e,n,r,i)}_objectUpdate(t,e,n,r,o){if(t.objectId){if(this.observers[t.objectId])for(let i of this.observers[t.objectId])i(t,e,n,r,o);if("map"===t.type&&t.props)for(const s of Object.keys(t.props))for(const a of Object.keys(t.props[s]))this._objectUpdate(t.props[s][a],e&&e[i]&&e[i][s]&&e[i][s][a],n&&n[i]&&n[i][s]&&n[i][s][a],r,o);else if("table"===t.type&&t.props)for(const i of Object.keys(t.props))for(const s of Object.keys(t.props[i]))this._objectUpdate(t.props[i][s],e&&e.byId(i),n&&n.byId(i),r,o);else if("list"===t.type&&t.edits){let s=0;for(const a of t.edits)"insert"===a.action?(s-=1,this._objectUpdate(a.value,void 0,n&&n[i]&&n[i][a.index]&&n[i][a.index][a.elemId],r,o)):"multi-insert"===a.action?s-=a.values.length:"update"===a.action?this._objectUpdate(a.value,e&&e[i]&&e[i][a.index+s]&&e[i][a.index+s][a.opId],n&&n[i]&&n[i][a.index]&&n[i][a.index][a.opId],r,o):"remove"===a.action&&(s+=a.count)}else if("text"===t.type&&t.edits){let i=0;for(const s of t.edits)"insert"===s.action?(i-=1,this._objectUpdate(s.value,void 0,n&&n.get(s.index),r,o)):"multi-insert"===s.action?i-=s.values.length:"update"===s.action?this._objectUpdate(s.value,e&&e.get(s.index+i),n&&n.get(s.index),r,o):"remove"===s.action&&(i+=s.count)}}}observe(t,e){const n=t[r];if(!n)throw new TypeError("The observed object must be part of an Automerge document");this.observers[n]||(this.observers[n]=[]),this.observers[n].push(e)}}}},9329:(t,e,n)=>{const{OBJECT_ID:r,CHANGE:i,STATE:o}=n(5870),{createArrayOfNulls:s}=n(2847),{Text:a}=n(5561),{Table:l}=n(675);function c(t){if("string"==typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t,10)),"number"!=typeof t)throw new TypeError("A list index must be a number, but you passed "+JSON.stringify(t));if(t<0||isNaN(t)||t===1/0||t===-1/0)throw new RangeError("A list index must be positive, but you passed "+t);return t}const h={get(t,e){const{context:n,objectId:s,path:a}=t;return e===r?s:e===i?n:e===o?{actorId:n.actorId}:n.getObjectField(a,s,e)},set(t,e,n){const{context:r,path:i,readonly:o}=t;if(Array.isArray(o)&&o.indexOf(e)>=0)throw new RangeError(`Object property "${e}" cannot be modified`);return r.setMapKey(i,e,n),!0},deleteProperty(t,e){const{context:n,path:r,readonly:i}=t;if(Array.isArray(i)&&i.indexOf(e)>=0)throw new RangeError(`Object property "${e}" cannot be modified`);return n.deleteMapKey(r,e),!0},has(t,e){const{context:n,objectId:o}=t;return[r,i].includes(e)||e in n.getObject(o)},getOwnPropertyDescriptor(t,e){const{context:n,objectId:r}=t;if(e in n.getObject(r))return{configurable:!0,enumerable:!0,value:n.getObjectField(r,e)}},ownKeys(t){const{context:e,objectId:n}=t;return Object.keys(e.getObject(n))}},u={get(t,e){const[n,o,s]=t;return e===Symbol.iterator?n.getObject(o)[Symbol.iterator]:e===r?o:e===i?n:"length"===e?n.getObject(o).length:"string"==typeof e&&/^[0-9]+$/.test(e)?n.getObjectField(s,o,c(e)):function(t,e,n){const i={deleteAt(e,r){return t.splice(n,c(e),r||1,[]),this},fill(r,i,o){let s=t.getObject(e);for(let e=c(i||0);e<c(o||s.length);e++)t.setListIndex(n,e,r);return this},indexOf(n,i=0){const o=n[r];if(o){const n=t.getObject(e);for(let t=i;t<n.length;t++)if(n[t][r]===o)return t;return-1}return t.getObject(e).indexOf(n,i)},insertAt(e,...r){return t.splice(n,c(e),0,r),this},pop(){let r=t.getObject(e);if(0==r.length)return;const i=t.getObjectField(n,e,r.length-1);return t.splice(n,r.length-1,1,[]),i},push(...r){let i=t.getObject(e);return t.splice(n,i.length,0,r),t.getObject(e).length},shift(){if(0==t.getObject(e).length)return;const r=t.getObjectField(n,e,0);return t.splice(n,0,1,[]),r},splice(r,i,...o){let s=t.getObject(e);r=c(r),(void 0===i||i>s.length-r)&&(i=s.length-r);const a=[];for(let o=0;o<i;o++)a.push(t.getObjectField(n,e,r+o));return t.splice(n,r,i,o),a},unshift:(...r)=>(t.splice(n,0,0,r),t.getObject(e).length)};for(let n of["entries","keys","values"]){let r=t.getObject(e);i[n]=()=>r[n]()}for(let r of["concat","every","filter","find","findIndex","forEach","includes","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"])i[r]=(...i)=>t.getObject(e).map(((r,i)=>t.getObjectField(n,e,i)))[r](...i);return i}(n,o,s)[e]},set(t,e,n){const[r,i,o]=t;if("length"===e){if("number"!=typeof n)throw new RangeError("Invalid array length");const t=r.getObject(i).length;t>n?r.splice(o,n,t-n,[]):r.splice(o,t,0,s(n-t))}else r.setListIndex(o,c(e),n);return!0},deleteProperty(t,e){const[n,,r]=t;return n.splice(r,c(e),1,[]),!0},has(t,e){const[n,o]=t;return"string"==typeof e&&/^[0-9]+$/.test(e)?c(e)<n.getObject(o).length:["length",r,i].includes(e)},getOwnPropertyDescriptor(t,e){const[n,i]=t,o=n.getObject(i);if("length"===e)return{writable:!0,value:o.length};if(e===r)return{configurable:!1,enumerable:!1,value:i};if("string"==typeof e&&/^[0-9]+$/.test(e)){const t=c(e);if(t<o.length)return{configurable:!0,enumerable:!0,value:n.getObjectField(i,t)}}},ownKeys(t){const[e,n]=t,r=e.getObject(n);let i=["length"];for(let t of Object.keys(r))i.push(t);return i}};function f(t,e,n,r){return new Proxy({context:t,objectId:e,path:n,readonly:r},h)}function d(t,e,n){const r=this.getObject(e);return Array.isArray(r)?function(t,e,n){return new Proxy([t,e,n],u)}(this,e,t):r instanceof a||r instanceof l?r.getWriteable(this,t):f(this,e,t,n)}t.exports={rootObjectProxy:function(t){return t.instantiateObject=d,f(t,"_root",[])}}},675:(t,e,n)=>{const{OBJECT_ID:r,CONFLICTS:i}=n(5870),{isObject:o,copyObject:s}=n(2847);function a(t,e,n){for(let r of t)if(e[r]!==n[r]){if("number"==typeof e[r]&&"number"==typeof n[r])return e[r]-n[r];{const t=""+e[r],i=""+n[r];if(t===i)continue;return t<i?-1:1}}return 0}class l{constructor(){this.entries=Object.freeze({}),this.opIds=Object.freeze({}),Object.freeze(this)}byId(t){return this.entries[t]}get ids(){return Object.keys(this.entries).filter((t=>{const e=this.entries[t];return o(e)&&e.id===t}))}get count(){return this.ids.length}get rows(){return this.ids.map((t=>this.byId(t)))}filter(t,e){return this.rows.filter(t,e)}find(t,e){return this.rows.find(t,e)}map(t,e){return this.rows.map(t,e)}sort(t){if("function"==typeof t)return this.rows.sort(t);if("string"==typeof t)return this.rows.sort(((e,n)=>a([t],e,n)));if(Array.isArray(t))return this.rows.sort(((e,n)=>a(t,e,n)));if(void 0===t)return this.rows.sort(((t,e)=>a(["id"],t,e)));throw new TypeError(`Unsupported sorting argument: ${t}`)}[Symbol.iterator](){let t=this.rows,e=-1;return{next:()=>(e+=1,e<t.length?{done:!1,value:t[e]}:{done:!0})}}_clone(){if(!this[r])throw new RangeError("clone() requires the objectId to be set");return h(this[r],s(this.entries),s(this.opIds))}_set(t,e,n){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");o(e)&&!Array.isArray(e)&&Object.defineProperty(e,"id",{value:t,enumerable:!0}),this.entries[t]=e,this.opIds[t]=n}remove(t){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");delete this.entries[t],delete this.opIds[t]}_freeze(){Object.freeze(this.entries),Object.freeze(this.opIds),Object.freeze(this)}getWriteable(t,e){if(!this[r])throw new RangeError("getWriteable() requires the objectId to be set");const n=Object.create(c.prototype);return n[r]=this[r],n.context=t,n.entries=this.entries,n.opIds=this.opIds,n.path=e,n}toJSON(){const t={};for(let e of this.ids)t[e]=this.byId(e);return t}}class c extends l{byId(t){if(o(this.entries[t])&&this.entries[t].id===t){const e=this.entries[t][r],n=this.path.concat([{key:t,objectId:e}]);return this.context.instantiateObject(n,e,["id"])}}add(t){return this.context.addTableRow(this.path,t)}remove(t){if(!o(this.entries[t])||this.entries[t].id!==t)throw new RangeError(`There is no row with ID ${t} in this table`);this.context.deleteTableRow(this.path,t,this.opIds[t])}}function h(t,e,n){const o=Object.create(l.prototype);if(!t)throw new RangeError("instantiateTable requires an objectId to be given");return o[r]=t,o[i]=Object.freeze({}),o.entries=e||{},o.opIds=n||{},o}t.exports={Table:l,instantiateTable:h}},5561:(t,e,n)=>{const{OBJECT_ID:r}=n(5870),{isObject:i}=n(2847);class o{constructor(t){if("string"==typeof t)return s(void 0,[...t].map((t=>({value:t}))));if(Array.isArray(t))return s(void 0,t.map((t=>({value:t}))));if(void 0===t)return s(void 0,[]);throw new TypeError(`Unsupported initial value for Text: ${t}`)}get length(){return this.elems.length}get(t){const e=this.elems[t].value;if(this.context&&i(e)){const n=e[r],i=this.path.concat([{key:t,objectId:n}]);return this.context.instantiateObject(i,n)}return e}getElemId(t){return this.elems[t].elemId}[Symbol.iterator](){let t=this.elems,e=-1;return{next:()=>(e+=1,e<t.length?{done:!1,value:t[e].value}:{done:!0})}}toString(){let t="";for(const e of this.elems)"string"==typeof e.value&&(t+=e.value);return t}toSpans(){let t=[],e="";for(const n of this.elems)"string"==typeof n.value?e+=n.value:(e.length>0&&(t.push(e),e=""),t.push(n.value));return e.length>0&&t.push(e),t}toJSON(){return this.toString()}getWriteable(t,e){if(!this[r])throw new RangeError("getWriteable() requires the objectId to be set");const n=s(this[r],this.elems);return n.context=t,n.path=e,n}set(t,e){if(this.context)this.context.setListIndex(this.path,t,e);else{if(this[r])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");this.elems[t].value=e}return this}insertAt(t,...e){if(this.context)this.context.splice(this.path,t,0,e);else{if(this[r])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");this.elems.splice(t,0,...e.map((t=>({value:t}))))}return this}deleteAt(t,e=1){if(this.context)this.context.splice(this.path,t,e,[]);else{if(this[r])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");this.elems.splice(t,e)}return this}}for(let t of["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString"])o.prototype[t]=function(...e){return[...this][t](...e)};function s(t,e){const n=Object.create(o.prototype);return n[r]=t,n.elems=e,n}t.exports={Text:o,instantiateText:s}},3774:(t,e,n)=>{"use strict";const{Deflate:r,deflate:i,deflateRaw:o,gzip:s}=n(4219),{Inflate:a,inflate:l,inflateRaw:c,ungzip:h}=n(7895),u=n(4248);t.exports.Deflate=r,t.exports.deflate=i,t.exports.deflateRaw=o,t.exports.gzip=s,t.exports.Inflate=a,t.exports.inflate=l,t.exports.inflateRaw=c,t.exports.ungzip=h,t.exports.constants=u},4219:(t,e,n)=>{"use strict";const r=n(6544),i=n(6421),o=n(894),s=n(3030),a=n(7923),l=Object.prototype.toString,{Z_NO_FLUSH:c,Z_SYNC_FLUSH:h,Z_FULL_FLUSH:u,Z_FINISH:f,Z_OK:d,Z_STREAM_END:p,Z_DEFAULT_COMPRESSION:g,Z_DEFAULT_STRATEGY:y,Z_DEFLATED:m}=n(4248);function b(t){this.options=i.assign({level:g,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:y},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==d)throw new Error(s[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=r.deflateSetDictionary(this.strm,t),n!==d)throw new Error(s[n]);this._dict_set=!0}}function v(t,e){const n=new b(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}b.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize;let s,a;if(this.ended)return!1;for(a=e===~~e?e:!0===e?f:c,"string"==typeof t?n.input=o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(a===h||a===u)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(s=r.deflate(n,a),s===p)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=r.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===d;if(0!==n.avail_out){if(a>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},b.prototype.onData=function(t){this.chunks.push(t)},b.prototype.onEnd=function(t){t===d&&(this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Deflate=b,t.exports.deflate=v,t.exports.deflateRaw=function(t,e){return(e=e||{}).raw=!0,v(t,e)},t.exports.gzip=function(t,e){return(e=e||{}).gzip=!0,v(t,e)},t.exports.constants=n(4248)},7895:(t,e,n)=>{"use strict";const r=n(571),i=n(6421),o=n(894),s=n(3030),a=n(7923),l=n(8),c=Object.prototype.toString,{Z_NO_FLUSH:h,Z_FINISH:u,Z_OK:f,Z_STREAM_END:d,Z_NEED_DICT:p,Z_STREAM_ERROR:g,Z_DATA_ERROR:y,Z_MEM_ERROR:m}=n(4248);function b(t){this.options=i.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let n=r.inflateInit2(this.strm,e.windowBits);if(n!==f)throw new Error(s[n]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary),n!==f)))throw new Error(s[n])}function v(t,e){const n=new b(e);if(n.push(t),n.err)throw n.msg||s[n.err];return n.result}b.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let a,l,b;if(this.ended)return!1;for(l=e===~~e?e:!0===e?u:h,"[object ArrayBuffer]"===c.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),a=r.inflate(n,l),a===p&&s&&(a=r.inflateSetDictionary(n,s),a===f?a=r.inflate(n,l):a===y&&(a=p));n.avail_in>0&&a===d&&n.state.wrap>0&&0!==t[n.next_in];)r.inflateReset(n),a=r.inflate(n,l);switch(a){case g:case y:case p:case m:return this.onEnd(a),this.ended=!0,!1}if(b=n.avail_out,n.next_out&&(0===n.avail_out||a===d))if("string"===this.options.to){let t=o.utf8border(n.output,n.next_out),e=n.next_out-t,r=o.buf2string(n.output,t);n.next_out=e,n.avail_out=i-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==f||0!==b){if(a===d)return a=r.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},b.prototype.onData=function(t){this.chunks.push(t)},b.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Inflate=b,t.exports.inflate=v,t.exports.inflateRaw=function(t,e){return(e=e||{}).raw=!0,v(t,e)},t.exports.ungzip=v,t.exports.constants=n(4248)},6421:t=>{"use strict";const e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);t.exports.assign=function(t){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const r=n.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const n in r)e(r,n)&&(t[n]=r[n])}}return t},t.exports.flattenChunks=t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,r=0,i=t.length;e<i;e++){let i=t[e];n.set(i,r),r+=i.length}return n}},894:t=>{"use strict";let e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){e=!1}const n=new Uint8Array(256);for(let t=0;t<256;t++)n[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;n[254]=n[254]=1,t.exports.string2buf=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},t.exports.buf2string=(t,r)=>{const i=r||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,r));let o,s;const a=new Array(2*i);for(s=0,o=0;o<i;){let e=t[o++];if(e<128){a[s++]=e;continue}let r=n[e];if(r>4)a[s++]=65533,o+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&o<i;)e=e<<6|63&t[o++],r--;r>1?a[s++]=65533:e<65536?a[s++]=e:(e-=65536,a[s++]=55296|e>>10&1023,a[s++]=56320|1023&e)}}return((t,n)=>{if(n<65534&&t.subarray&&e)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));let r="";for(let e=0;e<n;e++)r+=String.fromCharCode(t[e]);return r})(a,s)},t.exports.utf8border=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+n[t[r]]>e?r:e}},8641:t=>{"use strict";t.exports=(t,e,n,r)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+e[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},4248:t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},3262:t=>{"use strict";const e=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());t.exports=(t,n,r,i)=>{const o=e,s=i+r;t^=-1;for(let e=i;e<s;e++)t=t>>>8^o[255&(t^n[e])];return-1^t}},6544:(t,e,n)=>{"use strict";const{_tr_init:r,_tr_stored_block:i,_tr_flush_block:o,_tr_tally:s,_tr_align:a}=n(8409),l=n(8641),c=n(3262),h=n(3030),{Z_NO_FLUSH:u,Z_PARTIAL_FLUSH:f,Z_FULL_FLUSH:d,Z_FINISH:p,Z_BLOCK:g,Z_OK:y,Z_STREAM_END:m,Z_STREAM_ERROR:b,Z_DATA_ERROR:v,Z_BUF_ERROR:A,Z_DEFAULT_COMPRESSION:w,Z_FILTERED:_,Z_HUFFMAN_ONLY:I,Z_RLE:E,Z_FIXED:C,Z_DEFAULT_STRATEGY:S,Z_UNKNOWN:x,Z_DEFLATED:k}=n(4248),B=258,L=262,O=103,T=113,R=666,M=(t,e)=>(t.msg=h[e],e),N=t=>(t<<1)-(t>4?9:0),D=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let U=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const Q=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},j=(t,e)=>{o(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Q(t.strm)},F=(t,e)=>{t.pending_buf[t.pending++]=e},P=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},H=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=l(t.adler,e,i,n):2===t.state.wrap&&(t.adler=c(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},K=(t,e)=>{let n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-L?t.strstart-(t.w_size-L):0,c=t.window,h=t.w_mask,u=t.prev,f=t.strstart+B;let d=c[o+s-1],p=c[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,c[n+s]===p&&c[n+s-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=B-(f-o),o=f-B,r>s){if(t.match_start=e,s=r,r>=a)break;d=c[o+s-1],p=c[o+s]}}}while((e=u[e&h])>l&&0!=--i);return s<=t.lookahead?s:t.lookahead},z=t=>{const e=t.w_size;let n,r,i,o,s;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-L)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do{i=t.head[--n],t.head[n]=i>=e?i-e:0}while(--r);r=e,n=r;do{i=t.prev[--n],t.prev[n]=i>=e?i-e:0}while(--r);o+=e}if(0===t.strm.avail_in)break;if(r=H(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=U(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=U(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<L&&0!==t.strm.avail_in)},V=(t,e)=>{let n,r;for(;;){if(t.lookahead<L){if(z(t),t.lookahead<L&&e===u)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=U(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-L&&(t.match_length=K(t,n)),t.match_length>=3)if(r=s(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=U(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=U(t,t.ins_h,t.window[t.strstart+1]);else r=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(j(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===p?(j(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(j(t,!1),0===t.strm.avail_out)?1:2},Y=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<L){if(z(t),t.lookahead<L&&e===u)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=U(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-L&&(t.match_length=K(t,n),t.match_length<=5&&(t.strategy===_||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=s(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=U(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(j(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=s(t,0,t.window[t.strstart-1]),r&&j(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=s(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===p?(j(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(j(t,!1),0===t.strm.avail_out)?1:2};function W(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const q=[new W(0,0,0,0,((t,e)=>{let n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(z(t),0===t.lookahead&&e===u)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,j(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-L&&(j(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===p?(j(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(j(t,!1),t.strm.avail_out),1)})),new W(4,4,8,4,V),new W(4,5,16,8,V),new W(4,6,32,32,V),new W(4,4,16,16,Y),new W(8,16,32,32,Y),new W(8,16,128,128,Y),new W(8,32,128,256,Y),new W(32,128,258,1024,Y),new W(32,258,258,4096,Y)];function G(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const $=t=>{if(!t||!t.state)return M(t,b);t.total_in=t.total_out=0,t.data_type=x;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:T,t.adler=2===e.wrap?0:1,e.last_flush=u,r(e),y},J=t=>{const e=$(t);var n;return e===y&&((n=t.state).window_size=2*n.w_size,D(n.head),n.max_lazy_match=q[n.level].max_lazy,n.good_match=q[n.level].good_length,n.nice_match=q[n.level].nice_length,n.max_chain_length=q[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},X=(t,e,n,r,i,o)=>{if(!t)return b;let s=1;if(e===w&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==k||r<8||r>15||e<0||e>9||o<0||o>C)return M(t,b);8===r&&(r=9);const a=new G;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=n,J(t)};t.exports.deflateInit=(t,e)=>X(t,e,k,15,8,S),t.exports.deflateInit2=X,t.exports.deflateReset=J,t.exports.deflateResetKeep=$,t.exports.deflateSetHeader=(t,e)=>t&&t.state?2!==t.state.wrap?b:(t.state.gzhead=e,y):b,t.exports.deflate=(t,e)=>{let n,r;if(!t||!t.state||e>g||e<0)return t?M(t,b):b;const o=t.state;if(!t.output||!t.input&&0!==t.avail_in||o.status===R&&e!==p)return M(t,0===t.avail_out?A:b);o.strm=t;const l=o.last_flush;if(o.last_flush=e,42===o.status)if(2===o.wrap)t.adler=0,F(o,31),F(o,139),F(o,8),o.gzhead?(F(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),F(o,255&o.gzhead.time),F(o,o.gzhead.time>>8&255),F(o,o.gzhead.time>>16&255),F(o,o.gzhead.time>>24&255),F(o,9===o.level?2:o.strategy>=I||o.level<2?4:0),F(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(F(o,255&o.gzhead.extra.length),F(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=c(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(F(o,0),F(o,0),F(o,0),F(o,0),F(o,0),F(o,9===o.level?2:o.strategy>=I||o.level<2?4:0),F(o,3),o.status=T);else{let e=k+(o.w_bits-8<<4)<<8,n=-1;n=o.strategy>=I||o.level<2?0:o.level<6?1:6===o.level?2:3,e|=n<<6,0!==o.strstart&&(e|=32),e+=31-e%31,o.status=T,P(o,e),0!==o.strstart&&(P(o,t.adler>>>16),P(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(n=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),Q(t),n=o.pending,o.pending!==o.pending_buf_size));)F(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),Q(t),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}r=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,F(o,r)}while(0!==r);o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),0===r&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),Q(t),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}r=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,F(o,r)}while(0!==r);o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),0===r&&(o.status=O)}else o.status=O;if(o.status===O&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&Q(t),o.pending+2<=o.pending_buf_size&&(F(o,255&t.adler),F(o,t.adler>>8&255),t.adler=0,o.status=T)):o.status=T),0!==o.pending){if(Q(t),0===t.avail_out)return o.last_flush=-1,y}else if(0===t.avail_in&&N(e)<=N(l)&&e!==p)return M(t,A);if(o.status===R&&0!==t.avail_in)return M(t,A);if(0!==t.avail_in||0!==o.lookahead||e!==u&&o.status!==R){let n=o.strategy===I?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(z(t),0===t.lookahead)){if(e===u)return 1;break}if(t.match_length=0,n=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(j(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===p?(j(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(j(t,!1),0===t.strm.avail_out)?1:2})(o,e):o.strategy===E?((t,e)=>{let n,r,i,o;const a=t.window;for(;;){if(t.lookahead<=B){if(z(t),t.lookahead<=B&&e===u)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+B;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=B-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=s(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(j(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===p?(j(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(j(t,!1),0===t.strm.avail_out)?1:2})(o,e):q[o.level].func(o,e);if(3!==n&&4!==n||(o.status=R),1===n||3===n)return 0===t.avail_out&&(o.last_flush=-1),y;if(2===n&&(e===f?a(o):e!==g&&(i(o,0,0,!1),e===d&&(D(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),Q(t),0===t.avail_out))return o.last_flush=-1,y}return e!==p?y:o.wrap<=0?m:(2===o.wrap?(F(o,255&t.adler),F(o,t.adler>>8&255),F(o,t.adler>>16&255),F(o,t.adler>>24&255),F(o,255&t.total_in),F(o,t.total_in>>8&255),F(o,t.total_in>>16&255),F(o,t.total_in>>24&255)):(P(o,t.adler>>>16),P(o,65535&t.adler)),Q(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?y:m)},t.exports.deflateEnd=t=>{if(!t||!t.state)return b;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==O&&e!==T&&e!==R?M(t,b):(t.state=null,e===T?M(t,v):y)},t.exports.deflateSetDictionary=(t,e)=>{let n=e.length;if(!t||!t.state)return b;const r=t.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return b;if(1===i&&(t.adler=l(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,z(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=U(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,z(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,y},t.exports.deflateInfo="pako deflate (from Nodeca project)"},8:t=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},3156:t=>{"use strict";t.exports=function(t,e){let n,r,i,o,s,a,l,c,h,u,f,d,p,g,y,m,b,v,A,w,_,I,E,C;const S=t.state;n=t.next_in,E=t.input,r=n+(t.avail_in-5),i=t.next_out,C=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=S.dmax,l=S.wsize,c=S.whave,h=S.wnext,u=S.window,f=S.hold,d=S.bits,p=S.lencode,g=S.distcode,y=(1<<S.lenbits)-1,m=(1<<S.distbits)-1;t:do{d<15&&(f+=E[n++]<<d,d+=8,f+=E[n++]<<d,d+=8),b=p[f&y];e:for(;;){if(v=b>>>24,f>>>=v,d-=v,v=b>>>16&255,0===v)C[i++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=p[(65535&b)+(f&(1<<v)-1)];continue e}if(32&v){S.mode=12;break t}t.msg="invalid literal/length code",S.mode=30;break t}A=65535&b,v&=15,v&&(d<v&&(f+=E[n++]<<d,d+=8),A+=f&(1<<v)-1,f>>>=v,d-=v),d<15&&(f+=E[n++]<<d,d+=8,f+=E[n++]<<d,d+=8),b=g[f&m];n:for(;;){if(v=b>>>24,f>>>=v,d-=v,v=b>>>16&255,!(16&v)){if(0==(64&v)){b=g[(65535&b)+(f&(1<<v)-1)];continue n}t.msg="invalid distance code",S.mode=30;break t}if(w=65535&b,v&=15,d<v&&(f+=E[n++]<<d,d+=8,d<v&&(f+=E[n++]<<d,d+=8)),w+=f&(1<<v)-1,w>a){t.msg="invalid distance too far back",S.mode=30;break t}if(f>>>=v,d-=v,v=i-o,w>v){if(v=w-v,v>c&&S.sane){t.msg="invalid distance too far back",S.mode=30;break t}if(_=0,I=u,0===h){if(_+=l-v,v<A){A-=v;do{C[i++]=u[_++]}while(--v);_=i-w,I=C}}else if(h<v){if(_+=l+h-v,v-=h,v<A){A-=v;do{C[i++]=u[_++]}while(--v);if(_=0,h<A){v=h,A-=v;do{C[i++]=u[_++]}while(--v);_=i-w,I=C}}}else if(_+=h-v,v<A){A-=v;do{C[i++]=u[_++]}while(--v);_=i-w,I=C}for(;A>2;)C[i++]=I[_++],C[i++]=I[_++],C[i++]=I[_++],A-=3;A&&(C[i++]=I[_++],A>1&&(C[i++]=I[_++]))}else{_=i-w;do{C[i++]=C[_++],C[i++]=C[_++],C[i++]=C[_++],A-=3}while(A>2);A&&(C[i++]=C[_++],A>1&&(C[i++]=C[_++]))}break}}break}}while(n<r&&i<s);A=d>>3,n-=A,d-=A<<3,f&=(1<<d)-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=i<s?s-i+257:257-(i-s),S.hold=f,S.bits=d}},571:(t,e,n)=>{"use strict";const r=n(8641),i=n(3262),o=n(3156),s=n(1691),{Z_FINISH:a,Z_BLOCK:l,Z_TREES:c,Z_OK:h,Z_STREAM_END:u,Z_NEED_DICT:f,Z_STREAM_ERROR:d,Z_DATA_ERROR:p,Z_MEM_ERROR:g,Z_BUF_ERROR:y,Z_DEFLATED:m}=n(4248),b=12,v=30,A=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _=t=>{if(!t||!t.state)return d;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,h},I=t=>{if(!t||!t.state)return d;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,_(t)},E=(t,e)=>{let n;if(!t||!t.state)return d;const r=t.state;return e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?d:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,I(t))},C=(t,e)=>{if(!t)return d;const n=new w;t.state=n,n.window=null;const r=E(t,e);return r!==h&&(t.state=null),r};let S,x,k=!0;const B=t=>{if(k){S=new Int32Array(512),x=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,S,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,x,0,t.work,{bits:5}),k=!1}t.lencode=S,t.lenbits=9,t.distcode=x,t.distbits=5},L=(t,e,n,r)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};t.exports.inflateReset=I,t.exports.inflateReset2=E,t.exports.inflateResetKeep=_,t.exports.inflateInit=t=>C(t,15),t.exports.inflateInit2=C,t.exports.inflate=(t,e)=>{let n,w,_,I,E,C,S,x,k,O,T,R,M,N,D,U,Q,j,F,P,H,K,z=0;const V=new Uint8Array(4);let Y,W;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return d;n=t.state,n.mode===b&&(n.mode=13),E=t.next_out,_=t.output,S=t.avail_out,I=t.next_in,w=t.input,C=t.avail_in,x=n.hold,k=n.bits,O=C,T=S,K=h;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;k<16;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}if(2&n.wrap&&35615===x){n.check=0,V[0]=255&x,V[1]=x>>>8&255,n.check=i(n.check,V,2,0),x=0,k=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&x)<<8)+(x>>8))%31){t.msg="incorrect header check",n.mode=v;break}if((15&x)!==m){t.msg="unknown compression method",n.mode=v;break}if(x>>>=4,k-=4,H=8+(15&x),0===n.wbits)n.wbits=H;else if(H>n.wbits){t.msg="invalid window size",n.mode=v;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=512&x?10:b,x=0,k=0;break;case 2:for(;k<16;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}if(n.flags=x,(255&n.flags)!==m){t.msg="unknown compression method",n.mode=v;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=v;break}n.head&&(n.head.text=x>>8&1),512&n.flags&&(V[0]=255&x,V[1]=x>>>8&255,n.check=i(n.check,V,2,0)),x=0,k=0,n.mode=3;case 3:for(;k<32;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}n.head&&(n.head.time=x),512&n.flags&&(V[0]=255&x,V[1]=x>>>8&255,V[2]=x>>>16&255,V[3]=x>>>24&255,n.check=i(n.check,V,4,0)),x=0,k=0,n.mode=4;case 4:for(;k<16;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}n.head&&(n.head.xflags=255&x,n.head.os=x>>8),512&n.flags&&(V[0]=255&x,V[1]=x>>>8&255,n.check=i(n.check,V,2,0)),x=0,k=0,n.mode=5;case 5:if(1024&n.flags){for(;k<16;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}n.length=x,n.head&&(n.head.extra_len=x),512&n.flags&&(V[0]=255&x,V[1]=x>>>8&255,n.check=i(n.check,V,2,0)),x=0,k=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(R=n.length,R>C&&(R=C),R&&(n.head&&(H=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(w.subarray(I,I+R),H)),512&n.flags&&(n.check=i(n.check,w,R,I)),C-=R,I+=R,n.length-=R),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===C)break t;R=0;do{H=w[I+R++],n.head&&H&&n.length<65536&&(n.head.name+=String.fromCharCode(H))}while(H&&R<C);if(512&n.flags&&(n.check=i(n.check,w,R,I)),C-=R,I+=R,H)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===C)break t;R=0;do{H=w[I+R++],n.head&&H&&n.length<65536&&(n.head.comment+=String.fromCharCode(H))}while(H&&R<C);if(512&n.flags&&(n.check=i(n.check,w,R,I)),C-=R,I+=R,H)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;k<16;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}if(x!==(65535&n.check)){t.msg="header crc mismatch",n.mode=v;break}x=0,k=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=b;break;case 10:for(;k<32;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}t.adler=n.check=A(x),x=0,k=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=E,t.avail_out=S,t.next_in=I,t.avail_in=C,n.hold=x,n.bits=k,f;t.adler=n.check=1,n.mode=b;case b:if(e===l||e===c)break t;case 13:if(n.last){x>>>=7&k,k-=7&k,n.mode=27;break}for(;k<3;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}switch(n.last=1&x,x>>>=1,k-=1,3&x){case 0:n.mode=14;break;case 1:if(B(n),n.mode=20,e===c){x>>>=2,k-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=v}x>>>=2,k-=2;break;case 14:for(x>>>=7&k,k-=7&k;k<32;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}if((65535&x)!=(x>>>16^65535)){t.msg="invalid stored block lengths",n.mode=v;break}if(n.length=65535&x,x=0,k=0,n.mode=15,e===c)break t;case 15:n.mode=16;case 16:if(R=n.length,R){if(R>C&&(R=C),R>S&&(R=S),0===R)break t;_.set(w.subarray(I,I+R),E),C-=R,I+=R,S-=R,E+=R,n.length-=R;break}n.mode=b;break;case 17:for(;k<14;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}if(n.nlen=257+(31&x),x>>>=5,k-=5,n.ndist=1+(31&x),x>>>=5,k-=5,n.ncode=4+(15&x),x>>>=4,k-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=v;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;k<3;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}n.lens[q[n.have++]]=7&x,x>>>=3,k-=3}for(;n.have<19;)n.lens[q[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Y={bits:n.lenbits},K=s(0,n.lens,0,19,n.lencode,0,n.work,Y),n.lenbits=Y.bits,K){t.msg="invalid code lengths set",n.mode=v;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;z=n.lencode[x&(1<<n.lenbits)-1],D=z>>>24,U=z>>>16&255,Q=65535&z,!(D<=k);){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}if(Q<16)x>>>=D,k-=D,n.lens[n.have++]=Q;else{if(16===Q){for(W=D+2;k<W;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}if(x>>>=D,k-=D,0===n.have){t.msg="invalid bit length repeat",n.mode=v;break}H=n.lens[n.have-1],R=3+(3&x),x>>>=2,k-=2}else if(17===Q){for(W=D+3;k<W;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}x>>>=D,k-=D,H=0,R=3+(7&x),x>>>=3,k-=3}else{for(W=D+7;k<W;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}x>>>=D,k-=D,H=0,R=11+(127&x),x>>>=7,k-=7}if(n.have+R>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=v;break}for(;R--;)n.lens[n.have++]=H}}if(n.mode===v)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=v;break}if(n.lenbits=9,Y={bits:n.lenbits},K=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,Y),n.lenbits=Y.bits,K){t.msg="invalid literal/lengths set",n.mode=v;break}if(n.distbits=6,n.distcode=n.distdyn,Y={bits:n.distbits},K=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Y),n.distbits=Y.bits,K){t.msg="invalid distances set",n.mode=v;break}if(n.mode=20,e===c)break t;case 20:n.mode=21;case 21:if(C>=6&&S>=258){t.next_out=E,t.avail_out=S,t.next_in=I,t.avail_in=C,n.hold=x,n.bits=k,o(t,T),E=t.next_out,_=t.output,S=t.avail_out,I=t.next_in,w=t.input,C=t.avail_in,x=n.hold,k=n.bits,n.mode===b&&(n.back=-1);break}for(n.back=0;z=n.lencode[x&(1<<n.lenbits)-1],D=z>>>24,U=z>>>16&255,Q=65535&z,!(D<=k);){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}if(U&&0==(240&U)){for(j=D,F=U,P=Q;z=n.lencode[P+((x&(1<<j+F)-1)>>j)],D=z>>>24,U=z>>>16&255,Q=65535&z,!(j+D<=k);){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}x>>>=j,k-=j,n.back+=j}if(x>>>=D,k-=D,n.back+=D,n.length=Q,0===U){n.mode=26;break}if(32&U){n.back=-1,n.mode=b;break}if(64&U){t.msg="invalid literal/length code",n.mode=v;break}n.extra=15&U,n.mode=22;case 22:if(n.extra){for(W=n.extra;k<W;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}n.length+=x&(1<<n.extra)-1,x>>>=n.extra,k-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;z=n.distcode[x&(1<<n.distbits)-1],D=z>>>24,U=z>>>16&255,Q=65535&z,!(D<=k);){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}if(0==(240&U)){for(j=D,F=U,P=Q;z=n.distcode[P+((x&(1<<j+F)-1)>>j)],D=z>>>24,U=z>>>16&255,Q=65535&z,!(j+D<=k);){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}x>>>=j,k-=j,n.back+=j}if(x>>>=D,k-=D,n.back+=D,64&U){t.msg="invalid distance code",n.mode=v;break}n.offset=Q,n.extra=15&U,n.mode=24;case 24:if(n.extra){for(W=n.extra;k<W;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}n.offset+=x&(1<<n.extra)-1,x>>>=n.extra,k-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=v;break}n.mode=25;case 25:if(0===S)break t;if(R=T-S,n.offset>R){if(R=n.offset-R,R>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=v;break}R>n.wnext?(R-=n.wnext,M=n.wsize-R):M=n.wnext-R,R>n.length&&(R=n.length),N=n.window}else N=_,M=E-n.offset,R=n.length;R>S&&(R=S),S-=R,n.length-=R;do{_[E++]=N[M++]}while(--R);0===n.length&&(n.mode=21);break;case 26:if(0===S)break t;_[E++]=n.length,S--,n.mode=21;break;case 27:if(n.wrap){for(;k<32;){if(0===C)break t;C--,x|=w[I++]<<k,k+=8}if(T-=S,t.total_out+=T,n.total+=T,T&&(t.adler=n.check=n.flags?i(n.check,_,T,E-T):r(n.check,_,T,E-T)),T=S,(n.flags?x:A(x))!==n.check){t.msg="incorrect data check",n.mode=v;break}x=0,k=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;k<32;){if(0===C)break t;C--,x+=w[I++]<<k,k+=8}if(x!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=v;break}x=0,k=0}n.mode=29;case 29:K=u;break t;case v:K=p;break t;case 31:return g;default:return d}return t.next_out=E,t.avail_out=S,t.next_in=I,t.avail_in=C,n.hold=x,n.bits=k,(n.wsize||T!==t.avail_out&&n.mode<v&&(n.mode<27||e!==a))&&L(t,t.output,t.next_out,T-t.avail_out)?(n.mode=31,g):(O-=t.avail_in,T-=t.avail_out,t.total_in+=O,t.total_out+=T,n.total+=T,n.wrap&&T&&(t.adler=n.check=n.flags?i(n.check,_,T,t.next_out-T):r(n.check,_,T,t.next_out-T)),t.data_type=n.bits+(n.last?64:0)+(n.mode===b?128:0)+(20===n.mode||15===n.mode?256:0),(0===O&&0===T||e===a)&&K===h&&(K=y),K)},t.exports.inflateEnd=t=>{if(!t||!t.state)return d;let e=t.state;return e.window&&(e.window=null),t.state=null,h},t.exports.inflateGetHeader=(t,e)=>{if(!t||!t.state)return d;const n=t.state;return 0==(2&n.wrap)?d:(n.head=e,e.done=!1,h)},t.exports.inflateSetDictionary=(t,e)=>{const n=e.length;let i,o,s;return t&&t.state?(i=t.state,0!==i.wrap&&11!==i.mode?d:11===i.mode&&(o=1,o=r(o,e,n,0),o!==i.check)?p:(s=L(t,e,n,n),s?(i.mode=31,g):(i.havedict=1,h))):d},t.exports.inflateInfo="pako inflate (from Nodeca project)"},1691:t=>{"use strict";const e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),n=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),r=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),i=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);t.exports=(t,o,s,a,l,c,h,u)=>{const f=u.bits;let d,p,g,y,m,b,v=0,A=0,w=0,_=0,I=0,E=0,C=0,S=0,x=0,k=0,B=null,L=0;const O=new Uint16Array(16),T=new Uint16Array(16);let R,M,N,D=null,U=0;for(v=0;v<=15;v++)O[v]=0;for(A=0;A<a;A++)O[o[s+A]]++;for(I=f,_=15;_>=1&&0===O[_];_--);if(I>_&&(I=_),0===_)return l[c++]=20971520,l[c++]=20971520,u.bits=1,0;for(w=1;w<_&&0===O[w];w++);for(I<w&&(I=w),S=1,v=1;v<=15;v++)if(S<<=1,S-=O[v],S<0)return-1;if(S>0&&(0===t||1!==_))return-1;for(T[1]=0,v=1;v<15;v++)T[v+1]=T[v]+O[v];for(A=0;A<a;A++)0!==o[s+A]&&(h[T[o[s+A]]++]=A);if(0===t?(B=D=h,b=19):1===t?(B=e,L-=257,D=n,U-=257,b=256):(B=r,D=i,b=-1),k=0,A=0,v=w,m=c,E=I,C=0,g=-1,x=1<<I,y=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){R=v-C,h[A]<b?(M=0,N=h[A]):h[A]>b?(M=D[U+h[A]],N=B[L+h[A]]):(M=96,N=0),d=1<<v-C,p=1<<E,w=p;do{p-=d,l[m+(k>>C)+p]=R<<24|M<<16|N|0}while(0!==p);for(d=1<<v-1;k&d;)d>>=1;if(0!==d?(k&=d-1,k+=d):k=0,A++,0==--O[v]){if(v===_)break;v=o[s+h[A]]}if(v>I&&(k&y)!==g){for(0===C&&(C=I),m+=w,E=v-C,S=1<<E;E+C<_&&(S-=O[E+C],!(S<=0));)E++,S<<=1;if(x+=1<<E,1===t&&x>852||2===t&&x>592)return 1;g=k&y,l[g]=I<<24|E<<16|m-c|0}}return 0!==k&&(l[m+k]=v-C<<24|64<<16|0),u.bits=I,0}},3030:t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8409:t=>{"use strict";function e(t){let e=t.length;for(;--e>=0;)t[e]=0}const n=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),r=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);e(s);const a=new Array(60);e(a);const l=new Array(512);e(l);const c=new Array(256);e(c);const h=new Array(29);e(h);const u=new Array(30);function f(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let d,p,g;function y(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(u);const m=t=>t<256?l[t]:l[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},v=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},A=(t,e,n)=>{v(t,n[2*e],n[2*e+1])},w=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},_=(t,e,n)=>{const r=new Array(16);let i,o,s=0;for(i=1;i<=15;i++)r[i]=s=s+n[i-1]<<1;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=w(r[e]++,e))}},I=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},E=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},C=(t,e,n,r)=>{const i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},S=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&C(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!C(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},x=(t,e,i)=>{let o,s,a,l,f=0;if(0!==t.last_lit)do{o=t.pending_buf[t.d_buf+2*f]<<8|t.pending_buf[t.d_buf+2*f+1],s=t.pending_buf[t.l_buf+f],f++,0===o?A(t,s,e):(a=c[s],A(t,a+256+1,e),l=n[a],0!==l&&(s-=h[a],v(t,s,l)),o--,a=m(o),A(t,a,i),l=r[a],0!==l&&(o-=u[a],v(t,o,l)))}while(f<t.last_lit);A(t,256,e)},k=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,l,c=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,n[2*l]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=r[2*l+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)S(t,n,s);l=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],S(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*l]=n[2*s]+n[2*a],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=l,t.heap[1]=l++,S(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,h,u,f,d,p,g=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(n[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)h=t.heap[c],f=n[2*n[2*h+1]+1]+1,f>l&&(f=l,g++),n[2*h+1]=f,h>r||(t.bl_count[f]++,d=0,h>=a&&(d=s[h-a]),p=n[2*h],t.opt_len+=p*(f+d),o&&(t.static_len+=p*(i[2*h+1]+d)));if(0!==g){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,g-=2}while(g>0);for(f=l;0!==f;f--)for(h=t.bl_count[f];0!==h;)u=t.heap[--c],u>r||(n[2*u+1]!==f&&(t.opt_len+=(f-n[2*u+1])*n[2*u],n[2*u+1]=f),h--)}})(t,e),_(n,c,t.bl_count)},B=(t,e,n)=>{let r,i,o=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<l&&i===s||(a<c?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4))},L=(t,e,n)=>{let r,i,o=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<l&&i===s)){if(a<c)do{A(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(A(t,i,t.bl_tree),a--),A(t,16,t.bl_tree),v(t,a-3,2)):a<=10?(A(t,17,t.bl_tree),v(t,a-3,3)):(A(t,18,t.bl_tree),v(t,a-11,7));a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4)}};let O=!1;const T=(t,e,n,r)=>{v(t,0+(r?1:0),3),((t,e,n,r)=>{E(t),b(t,n),b(t,~n),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n})(t,e,n)};t.exports._tr_init=t=>{O||((()=>{let t,e,o,y,m;const b=new Array(16);for(o=0,y=0;y<28;y++)for(h[y]=o,t=0;t<1<<n[y];t++)c[o++]=y;for(c[o-1]=y,m=0,y=0;y<16;y++)for(u[y]=m,t=0;t<1<<r[y];t++)l[m++]=y;for(m>>=7;y<30;y++)for(u[y]=m<<7,t=0;t<1<<r[y]-7;t++)l[256+m++]=y;for(e=0;e<=15;e++)b[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,b[8]++;for(;t<=255;)s[2*t+1]=9,t++,b[9]++;for(;t<=279;)s[2*t+1]=7,t++,b[7]++;for(;t<=287;)s[2*t+1]=8,t++,b[8]++;for(_(s,287,b),t=0;t<30;t++)a[2*t+1]=5,a[2*t]=w(t,5);d=new f(s,n,257,286,15),p=new f(a,r,0,30,15),g=new f(new Array(0),i,0,19,7)})(),O=!0),t.l_desc=new y(t.dyn_ltree,d),t.d_desc=new y(t.dyn_dtree,p),t.bl_desc=new y(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,I(t)},t.exports._tr_stored_block=T,t.exports._tr_flush_block=(t,e,n,r)=>{let i,l,c=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),k(t,t.l_desc),k(t,t.d_desc),c=(t=>{let e;for(B(t,t.dyn_ltree,t.l_desc.max_code),B(t,t.dyn_dtree,t.d_desc.max_code),k(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*o[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=i&&(i=l)):i=l=n+5,n+4<=i&&-1!==e?T(t,e,n,r):4===t.strategy||l===i?(v(t,2+(r?1:0),3),x(t,s,a)):(v(t,4+(r?1:0),3),((t,e,n,r)=>{let i;for(v(t,e-257,5),v(t,n-1,5),v(t,r-4,4),i=0;i<r;i++)v(t,t.bl_tree[2*o[i]+1],3);L(t,t.dyn_ltree,e-1),L(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,c+1),x(t,t.dyn_ltree,t.dyn_dtree)),I(t),r&&E(t)},t.exports._tr_tally=(t,e,n)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(c[n]+256+1)]++,t.dyn_dtree[2*m(e)]++),t.last_lit===t.lit_bufsize-1),t.exports._tr_align=t=>{v(t,2,3),A(t,256,s),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},7923:t=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},5301:(t,e,n)=>{const r=n(4680),i=n(2049),{OPTIONS:o}=n(5870),{encodeChange:s,decodeChange:a}=n(2578),{isObject:l}=n(2847);let c=n(6690);function h(t){if("string"==typeof t)t={actorId:t};else if(void 0===t)t={};else if(!l(t))throw new TypeError(`Unsupported options for init(): ${t}`);return i.init(Object.assign({backend:c},t))}function u(t,e,n){const[r]=i.change(t,e,n);return r}function f(t){return c.getAllChanges(i.getBackendState(t,"getAllChanges"))}function d(t,e,n,r,s){const a=i.applyPatch(t,e,n),l=s.patchCallback||t[o].patchCallback;return l&&l(e,t,a,!1,r),a}function p(t,e,n={}){const r=i.getBackendState(t,"applyChanges"),[o,s]=c.applyChanges(r,e);return[d(t,s,o,e,n),s]}t.exports={init:h,from:function(t,e){return u(h(e),{message:"Initialization"},(e=>Object.assign(e,t)))},change:u,emptyChange:function(t,e){const[n]=i.emptyChange(t,e);return n},clone:function(t,e={}){const n=c.clone(i.getBackendState(t,"clone"));return d(h(e),c.getPatch(n),n,[],e)},free:function(t){c.free(i.getBackendState(t,"free"))},load:function(t,e={}){const n=c.load(t);return d(h(e),c.getPatch(n),n,[t],e)},save:function(t){return c.save(i.getBackendState(t,"save"))},merge:function(t,e){const n=i.getBackendState(t,"merge"),r=i.getBackendState(e,"merge","second"),o=c.getChangesAdded(n,r),[s]=p(t,o);return s},getChanges:function(t,e){const n=i.getBackendState(t,"getChanges"),r=i.getBackendState(e,"getChanges","second");return c.getChanges(r,c.getHeads(n))},getAllChanges:f,applyChanges:p,encodeChange:s,decodeChange:a,equals:function t(e,n){if(!l(e)||!l(n))return e===n;const r=Object.keys(e).sort(),i=Object.keys(n).sort();if(r.length!==i.length)return!1;for(let o=0;o<r.length;o++){if(r[o]!==i[o])return!1;if(!t(e[r[o]],n[i[o]]))return!1}return!0},getHistory:function(t){const e=i.getActorId(t),n=f(t);return n.map(((t,r)=>({get change(){return a(t)},get snapshot(){const t=c.loadChanges(c.init(),n.slice(0,r+1));return i.applyPatch(h(e),c.getPatch(t),t)}})))},uuid:r,Frontend:i,setDefaultBackend:function(t){c=t},generateSyncMessage:function(t,e){const n=i.getBackendState(t,"generateSyncMessage");return c.generateSyncMessage(n,e)},receiveSyncMessage:function(t,e,n){const r=i.getBackendState(t,"receiveSyncMessage"),[s,a,l]=c.receiveSyncMessage(r,e,n);if(!l)return[t,a,l];let h=null;return t[o].patchCallback&&(h=c.decodeSyncMessage(n).changes),[d(t,l,s,h,{}),a,l]},initSyncState:function(){return c.initSyncState()},get Backend(){return c}};for(let e of["getObjectId","getObjectById","getActorId","setActorId","getConflicts","getLastLocalChange","Text","Table","Counter","Observable","Int","Uint","Float64"])t.exports[e]=i[e]},2847:t=>{function e(t){return"object"==typeof t&&null!==t}t.exports={isObject:e,copyObject:function(t){if(!e(t))return{};let n={};for(let e of Object.keys(t))n[e]=t[e];return n},parseOpId:function(t){const e=/^(\d+)@(.*)$/.exec(t||"");if(!e)throw new RangeError(`Not a valid opId: ${t}`);return{counter:parseInt(e[1],10),actorId:e[2]}},equalBytes:function(t,e){if(!(t instanceof Uint8Array&&e instanceof Uint8Array))throw new TypeError("equalBytes can only compare Uint8Arrays");if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},createArrayOfNulls:function(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=null;return e}}},4680:(t,e,n)=>{const{v4:r}=n(5877);function i(){return r().replace(/-/g,"")}let o=i;function s(){return o()}s.setFactory=t=>{o=t},s.reset=()=>{o=i},t.exports=s},130:(t,e,n)=>{const r=n(9480),i=n(3195),o=n(9819),s=n(412),a=n(6157),l=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function c(t){switch(t){case"ascii":return r;case"base64":return i;case"hex":return o;case"utf8":case"utf-8":case void 0:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a;default:throw new Error(`Unknown encoding: ${t}`)}}function h(t){return t instanceof Uint8Array}function u(t,e,n){return"string"==typeof t?function(t,e){const n=c(e),r=new Uint8Array(n.byteLength(t));return n.write(r,t,0,r.byteLength),r}(t,e):Array.isArray(t)?function(t){const e=new Uint8Array(t.length);return e.set(t),e}(t):ArrayBuffer.isView(t)?function(t){const e=new Uint8Array(t.byteLength);return e.set(t),e}(t):function(t,e,n){return new Uint8Array(t,e,n)}(t,e,n)}function f(t,e,n,r,i){if(0===t.byteLength)return-1;if("string"==typeof n?(r=n,n=0):void 0===n?n=i?0:t.length-1:n<0&&(n+=t.byteLength),n>=t.byteLength){if(i)return-1;n=t.byteLength-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e)e=u(e,r);else if("number"==typeof e)return e&=255,i?t.indexOf(e,n):t.lastIndexOf(e,n);if(0===e.byteLength)return-1;if(i){let r=-1;for(let i=n;i<t.byteLength;i++)if(t[i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.byteLength)return r}else-1!==r&&(i-=i-r),r=-1}else{n+e.byteLength>t.byteLength&&(n=t.byteLength-e.byteLength);for(let r=n;r>=0;r--){let n=!0;for(let i=0;i<e.byteLength;i++)if(t[r+i]!==e[i]){n=!1;break}if(n)return r}}return-1}function d(t,e,n,r){return f(t,e,n,r,!0)}function p(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}t.exports={isBuffer:h,isEncoding:function(t){try{return c(t),!0}catch{return!1}},alloc:function(t,e,n){const r=new Uint8Array(t);return void 0!==e&&e(r,e,0,r.byteLength,n),r},allocUnsafe:function(t){return new Uint8Array(t)},allocUnsafeSlow:function(t){return new Uint8Array(t)},byteLength:function(t,e){return c(e).byteLength(t)},compare:function(t,e){if(t===e)return 0;const n=Math.min(t.byteLength,e.byteLength);t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let r=0;for(let i=n-n%4;r<i&&t.getUint32(r,l)===e.getUint32(r,l);r+=4);for(;r<n;r++){const n=t.getUint8(r),i=e.getUint8(r);if(n<i)return-1;if(n>i)return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0},concat:function(t,e){void 0===e&&(e=t.reduce(((t,e)=>t+e.byteLength),0));const n=new Uint8Array(e);return t.reduce(((t,e)=>(n.set(e,t),t+e.byteLength)),0),n},copy:function(t,e,n=0,r=0,i=t.byteLength){if(i>0&&i<r)return 0;if(i===r)return 0;if(0===t.byteLength||0===e.byteLength)return 0;if(n<0)throw new RangeError("targetStart is out of range");if(r<0||r>=t.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");n>=e.byteLength&&(n=e.byteLength),i>t.byteLength&&(i=t.byteLength),e.byteLength-n<i-r&&(i=e.length-n+r);const o=i-r;return t===e?e.copyWithin(n,r,i):e.set(t.subarray(r,i),n),o},equals:function(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;const n=t.byteLength;t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4)if(t.getUint32(r,l)!==e.getUint32(r,l))return!1;for(;r<n;r++)if(t.getUint8(r)!==e.getUint8(r))return!1;return!0},fill:function(t,e,n,r,i){if("string"==typeof e?"string"==typeof n?(i=n,n=0,r=t.byteLength):"string"==typeof r&&(i=r,r=t.byteLength):"number"==typeof val?e&=255:"boolean"==typeof val&&(e=+e),n<0||t.byteLength<n||t.byteLength<r)throw new RangeError("Out of range index");if(void 0===n&&(n=0),void 0===r&&(r=t.byteLength),r<=n)return t;if(e||(e=0),"number"==typeof e)for(let i=n;i<r;++i)t[i]=e;else{const o=(e=h(e)?e:u(e,i)).byteLength;for(let i=0;i<r-n;++i)t[i+n]=e[i%o]}return t},from:u,includes:function(t,e,n,r){return-1!==d(t,e,n,r)},indexOf:d,lastIndexOf:function(t,e,n,r){return f(t,e,n,r,!1)},swap16:function(t){const e=t.byteLength;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<e;n+=2)p(t,n,n+1);return t},swap32:function(t){const e=t.byteLength;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<e;n+=4)p(t,n,n+3),p(t,n+1,n+2);return t},swap64:function(t){const e=t.byteLength;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<e;n+=8)p(t,n,n+7),p(t,n+1,n+6),p(t,n+2,n+5),p(t,n+3,n+4);return t},toBuffer:function(t){return t},toString:function(t,e,n=0,r=t.byteLength){const i=t.byteLength;return n>=i||r<=n?"":(n<0&&(n=0),r>i&&(r=i),(0!==n||r<i)&&(t=t.subarray(n,r)),c(e).toString(t))},write:function(t,e,n,r,i){return void 0===n?i="utf8":void 0===r&&"string"==typeof n?(i=n,n=void 0):void 0===i&&"string"==typeof r&&(i=r,r=void 0),c(i).write(t,e,n,r)}}},9480:t=>{function e(t){return t.length}t.exports={byteLength:e,toString:function(t){const e=t.byteLength;let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},write:function(t,n,r=0,i=e(n)){const o=Math.min(i,t.byteLength-r);for(let e=0;e<o;e++)t[r+e]=n.charCodeAt(e);return o}}},3195:t=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256);for(let t=0;t<e.length;t++)n[e.charCodeAt(t)]=t;function r(t){let e=t.length;return 61===t.charCodeAt(e-1)&&e--,e>1&&61===t.charCodeAt(e-1)&&e--,3*e>>>2}n[45]=62,n[95]=63,t.exports={byteLength:r,toString:function(t){const n=t.byteLength;let r="";for(let i=0;i<n;i+=3)r+=e[t[i]>>2]+e[(3&t[i])<<4|t[i+1]>>4]+e[(15&t[i+1])<<2|t[i+2]>>6]+e[63&t[i+2]];return n%3==2?r=r.substring(0,r.length-1)+"=":n%3==1&&(r=r.substring(0,r.length-2)+"=="),r},write:function(t,e,i=0,o=r(e)){const s=Math.min(o,t.byteLength-i);for(let r=0,i=0;r<s;r+=4){const o=n[e.charCodeAt(r)],s=n[e.charCodeAt(r+1)],a=n[e.charCodeAt(r+2)],l=n[e.charCodeAt(r+3)];t[i++]=o<<2|s>>4,t[i++]=(15&s)<<4|a>>2,t[i++]=(3&a)<<6|63&l}return s}}},9819:t=>{function e(t){return t.length>>>1}function n(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:void 0}t.exports={byteLength:e,toString:function(t){const e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let n="",r=0;for(let i=e-e%4;r<i;r+=4)n+=t.getUint32(r).toString(16).padStart(8,"0");for(;r<e;r++)n+=t.getUint8(r).toString(16).padStart(2,"0");return n},write:function(t,r,i=0,o=e(r)){const s=Math.min(o,t.byteLength-i);for(let e=0;e<s;e++){const o=n(r.charCodeAt(2*e)),s=n(r.charCodeAt(2*e+1));if(void 0===o||void 0===s)return t.subarray(0,e);t[i+e]=o<<4|s}return s}}},6157:t=>{function e(t){return 2*t.length}t.exports={byteLength:e,toString:function(t){const e=t.byteLength;let n="";for(let r=0;r<e-1;r+=2)n+=String.fromCharCode(t[r]+256*t[r+1]);return n},write:function(t,n,r=0,i=e(n)){const o=Math.min(i,t.byteLength-r);let s=o;for(let e=0;e<n.length&&!((s-=2)<0);++e){const i=n.charCodeAt(e),o=i>>8,s=i%256;t[r+2*e]=s,t[r+2*e+1]=o}return o}}},412:t=>{function e(t){let e=0;for(let n=0,r=t.length;n<r;n++){const i=t.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<r){const r=t.charCodeAt(n+1);if(r>=56320&&r<=57343){e+=4,n++;continue}}e+=i<=127?1:i<=2047?2:3}return e}let n,r;if("undefined"!=typeof TextDecoder){const t=new TextDecoder;n=function(e){return t.decode(e)}}else n=function(t){const e=t.byteLength;let n="",r=0;for(;r<e;){let i=t[r];if(i<=127){n+=String.fromCharCode(i),r++;continue}let o=0,s=0;if(i<=223?(o=1,s=31&i):i<=239?(o=2,s=15&i):i<=244&&(o=3,s=7&i),e-r-o>0){let e=0;for(;e<o;)i=t[r+e+1],s=s<<6|63&i,e+=1}else s=65533,o=e-r;n+=String.fromCodePoint(s),r+=o+1}return n};if("undefined"!=typeof TextEncoder){const t=new TextEncoder;r=function(n,r,i=0,o=e(r)){const s=Math.min(o,n.byteLength-i);return t.encodeInto(r,n.subarray(i,i+s)),s}}else r=function(t,n,r=0,i=e(n)){const o=Math.min(i,t.byteLength-r);t=t.subarray(r,r+o);let s=0,a=0;for(;s<n.length;){const e=n.codePointAt(s);if(e<=127){t[a++]=e,s++;continue}let r=0,i=0;for(e<=2047?(r=6,i=192):e<=65535?(r=12,i=224):e<=2097151&&(r=18,i=240),t[a++]=i|e>>r,r-=6;r>=0;)t[a++]=128|e>>r&63,r-=6;s+=e>=65536?2:1}return o};t.exports={byteLength:e,toString:n,write:r}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=l(t),s=o[0],a=o[1],c=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),h=0,u=a>0?s-4:s;for(n=0;n<u;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[h++]=255&e),1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,l=r-i;a<l;a+=s)o.push(c(t,a,a+s>l?l:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7363:(t,e,n)=>{var r=n(4676),i=n(1909);t.exports=function t(e){var n={};return n.align=t,n.encode=function t(e,n,r){r||(r=0),n||(n=i(s(e)));var a=new o(e,n,r);return l(a),t.bytes=a.outputOffset-r,n},n.encode.bytes=0,n.encodingLength=s,n.decode=function t(e,n){n||(n=0);for(var o=i(a(e,n)),s=0;n<e.length;){var l=r.decode(e,n),c=1&l,h=c?(l-(3&l))/4:l/2;n+=r.decode.bytes,c?o.fill(2&l?255:0,s,s+h):(e.copy(o,s,n,n+h),n+=h),s+=h}return o.fill(0,s),t.bytes=e.length-n,o},n.decode.bytes=0,n.decodingLength=a,n;function o(t,e,n){this.inputOffset=0,this.inputLength=t.length,this.input=t,this.outputOffset=n,this.output=e}function s(t){var e=new o(t,null,0);return l(e),e.outputOffset}function a(t,n){n||(n=0);for(var i=0;n<t.length;){var o=r.decode(t,n);n+=r.decode.bytes;var s=1&o,a=s?(o-(3&o))/4:o/2;i+=a,s||(n+=a)}if(n>t.length)throw new Error("Invalid RLE bitfield");return i&e-1?i+(e-(i&e-1)):i}function l(t){for(var e=0,n=0,i=t.input;t.inputLength>0&&!i[t.inputLength-1];)t.inputLength--;for(var o=0;o<t.inputLength;o++)i[o]!==n?(e&&h(t,o,e,n),0===i[o]||255===i[o]?(n=i[o],e=1):e=0):e++;e&&h(t,t.inputLength,e,n),function(t){var e=t.inputLength-t.inputOffset;e&&(t.output?c(t,t.inputLength):t.outputOffset+=e+r.encodingLength(2*e),t.inputOffset=t.inputLength)}(t)}function c(t,e){var n=e-t.inputOffset;r.encode(2*n,t.output,t.outputOffset),t.outputOffset+=r.encode.bytes,t.input.copy(t.output,t.outputOffset,t.inputOffset,e),t.outputOffset+=n}function h(t,e,n,i){var o=e-n-t.inputOffset,s=4*n+(i?2:0)+1,a=(o?r.encodingLength(2*o)+o:0)+r.encodingLength(s);if(!(a>=r.encodingLength(2*(e-t.inputOffset))+e-t.inputOffset)){if(!t.output)return t.outputOffset+=a,void(t.inputOffset=e);o&&c(t,e-n),r.encode(s,t.output,t.outputOffset),t.outputOffset+=r.encode.bytes,t.inputOffset=e}}}(1)},6053:t=>{var e,n,r=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var n=e.length,r=new Uint8Array(3*(n-("="==e[n-1])-("="==e[n-2]))/4|0),i=0,o=0;i<n;){var s=t[e.charCodeAt(i++)],a=t[e.charCodeAt(i++)],l=t[e.charCodeAt(i++)],c=t[e.charCodeAt(i++)];r[o++]=s<<2|a>>4,r[o++]=a<<4|l>>2,r[o++]=l<<6|c}return r}})(),i=(e={"wasm-binary:./blake2b.wat"(t,e){e.exports=r("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}},function(){return n||(0,e[Object.keys(e)[0]])((n={exports:{}}).exports,n),n.exports})(),o=WebAssembly.compile(i);t.exports=async t=>(await WebAssembly.instantiate(await o,t)).exports},7060:(t,e,n)=>{var r=n(9204),i=n(130),o=null,s="undefined"!=typeof WebAssembly&&n(6053)().then((t=>{o=t})),a=64,l=[];t.exports=g;var c=t.exports.BYTES_MIN=16,h=t.exports.BYTES_MAX=64,u=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),f=t.exports.KEYBYTES_MAX=64,d=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),p=t.exports.PERSONALBYTES=16;function g(t,e,n,i,s){if(!(this instanceof g))return new g(t,e,n,i,s);if(!o)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),!0!==s&&(r(t>=c,"digestLength must be at least "+c+", was given "+t),r(t<=h,"digestLength must be at most "+h+", was given "+t),null!=e&&(r(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),r(e.length>=u,"key must be at least "+u+", was given "+e.length),r(e.length<=f,"key must be at least "+f+", was given "+e.length)),null!=n&&(r(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),r(n.length===d,"salt must be exactly "+d+", was given "+n.length)),null!=i&&(r(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),r(i.length===p,"personal must be exactly "+p+", was given "+i.length))),l.length||(l.push(a),a+=216),this.digestLength=t,this.finalized=!1,this.pointer=l.pop(),this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=e?e.length:0,this._memory[2]=1,this._memory[3]=1,n&&this._memory.set(n,32),i&&this._memory.set(i,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),o.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),this._memory.fill(0,a,a+e.length),this._memory[this.pointer+200]=128)}function y(){}g.prototype._realloc=function(t){o.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},g.prototype.update=function(t){return r(!1===this.finalized,"Hash instance finalized"),r(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),a+t.length>this._memory.length&&this._realloc(a+t.length),this._memory.set(t,a),o.blake2b_update(this.pointer,a,a+t.length),this},g.prototype.digest=function(t){if(r(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,l.push(this.pointer),o.blake2b_final(this.pointer),!t||"binary"===t)return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("string"==typeof t)return i.toString(this._memory,t,this.pointer+128,this.pointer+128+this.digestLength);r(t instanceof Uint8Array&&t.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=this._memory[this.pointer+128+e];return t},g.prototype.final=g.prototype.digest,g.WASM=o,g.SUPPORTED="undefined"!=typeof WebAssembly,g.ready=function(t){return t||(t=y),s?s.then((()=>t()),t):t(new Error("WebAssembly not supported"))},g.prototype.ready=g.ready,g.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},g.prototype.setPartialHash=function(t){this._memory.set(t,this.pointer)}},7462:(t,e,n)=>{var r=n(9204),i=n(7060);function o(t,e,n){var r=t[e]+t[n],i=t[e+1]+t[n+1];r>=4294967296&&i++,t[e]=r,t[e+1]=i}function s(t,e,n,r){var i=t[e]+n;n<0&&(i+=4294967296);var o=t[e+1]+r;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function a(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function l(t,e,n,r,i,a){var l=f[i],c=f[i+1],h=f[a],d=f[a+1];o(u,t,e),s(u,t,l,c);var p=u[r]^u[t],g=u[r+1]^u[t+1];u[r]=g,u[r+1]=p,o(u,n,r),p=u[e]^u[n],g=u[e+1]^u[n+1],u[e]=p>>>24^g<<8,u[e+1]=g>>>24^p<<8,o(u,t,e),s(u,t,h,d),p=u[r]^u[t],g=u[r+1]^u[t+1],u[r]=p>>>16^g<<16,u[r+1]=g>>>16^p<<16,o(u,n,r),p=u[e]^u[n],g=u[e+1]^u[n+1],u[e]=g>>>31^p<<1,u[e+1]=p>>>31^g<<1}var c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),h=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(t){return 2*t}))),u=new Uint32Array(32),f=new Uint32Array(32);function d(t,e){var n=0;for(n=0;n<16;n++)u[n]=t.h[n],u[n+16]=c[n];for(u[24]=u[24]^t.t,u[25]=u[25]^t.t/4294967296,e&&(u[28]=~u[28],u[29]=~u[29]),n=0;n<32;n++)f[n]=a(t.b,4*n);for(n=0;n<12;n++)l(0,8,16,24,h[16*n+0],h[16*n+1]),l(2,10,18,26,h[16*n+2],h[16*n+3]),l(4,12,20,28,h[16*n+4],h[16*n+5]),l(6,14,22,30,h[16*n+6],h[16*n+7]),l(0,10,20,30,h[16*n+8],h[16*n+9]),l(2,12,22,24,h[16*n+10],h[16*n+11]),l(4,14,16,26,h[16*n+12],h[16*n+13]),l(6,8,18,28,h[16*n+14],h[16*n+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^u[n]^u[n+16]}var p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function g(t,e,n,r){p.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,p[0]=t,e&&(p[1]=e.length),p[2]=1,p[3]=1,n&&p.set(n,32),r&&p.set(r,48);for(var i=0;i<16;i++)this.h[i]=c[i]^a(p,4*i);e&&(y(this,e),this.c=128)}function y(t,e){for(var n=0;n<e.length;n++)128===t.c&&(t.t+=t.c,d(t,!1),t.c=0),t.b[t.c++]=e[n]}g.prototype.update=function(t){return r(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),y(this,t),this},g.prototype.digest=function(t){var e=t&&"binary"!==t&&"hex"!==t?t:new Uint8Array(this.outlen);return r(e instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),r(e.length>=this.outlen,"out must have at least outlen bytes of space"),function(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;d(t,!0);for(var n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(3&n)}(this,e),"hex"===t?function(t){for(var e="",n=0;n<t.length;n++)e+=(r=t[n])<16?"0"+r.toString(16):r.toString(16);var r;return e}(e):e},g.prototype.final=g.prototype.digest,g.ready=function(t){i.ready((function(){t()}))};var m=g;t.exports=function(t,e,n,i,o){return!0!==o&&(r(t>=b,"outlen must be at least "+b+", was given "+t),r(t<=v,"outlen must be at most "+v+", was given "+t),null!=e&&(r(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),r(e.length>=A,"key must be at least "+A+", was given "+e.length),r(e.length<=w,"key must be at most "+w+", was given "+e.length)),null!=n&&(r(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),r(n.length===_,"salt must be exactly "+_+", was given "+n.length)),null!=i&&(r(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),r(i.length===I,"personal must be exactly "+I+", was given "+i.length))),new m(t,e,n,i)},t.exports.ready=function(t){i.ready((function(){t()}))},t.exports.WASM_SUPPORTED=i.SUPPORTED,t.exports.WASM_LOADED=!1;var b=t.exports.BYTES_MIN=16,v=t.exports.BYTES_MAX=64,A=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),w=t.exports.KEYBYTES_MAX=64,_=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),I=t.exports.PERSONALBYTES=16;i.ready((function(e){e||(t.exports.WASM_LOADED=!0,t.exports=i)}))},1909:(t,e,n)=>{var r=n(8764).Buffer;t.exports=function(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');return r.allocUnsafe?r.allocUnsafe(t):new r(t)}},2822:(t,e,n)=>{var r=n(8764).Buffer,i=n(7676),o=n(1909);t.exports=function(t,e,n){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');if(r.alloc)return r.alloc(t,e,n);var s=o(t);return 0===t?s:void 0===e?i(s,0):("string"!=typeof n&&(n=void 0),i(s,e,n))}},7676:(t,e,n)=>{var r=n(8764).Buffer,i=function(){try{if(!r.isEncoding("latin1"))return!1;var t=r.alloc?r.alloc(4):new r(4);return t.fill("ab","ucs2"),"61006200"===t.toString("hex")}catch(t){return!1}}();function o(t,e,n,r){if(n<0||r>t.length)throw new RangeError("Out of range index");return n>>>=0,(r=void 0===r?t.length:r>>>0)>n&&t.fill(e,n,r),t}t.exports=function(t,e,n,s,a){if(i)return t.fill(e,n,s,a);if("number"==typeof e)return o(t,e,n,s);if("string"==typeof e){if("string"==typeof n?(a=n,n=0,s=t.length):"string"==typeof s&&(a=s,s=t.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("latin1"===a&&(a="binary"),"string"==typeof a&&!r.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(""===e)return o(t,0,n,s);if(function(t){return 1===t.length&&t.charCodeAt(0)<256}(e))return o(t,e.charCodeAt(0),n,s);e=new r(e,a)}return r.isBuffer(e)?function(t,e,n,r){if(n<0||r>t.length)throw new RangeError("Out of range index");if(r<=n)return t;n>>>=0,r=void 0===r?t.length:r>>>0;for(var i=n,o=e.length;i<=r-o;)e.copy(t,i),i+=o;return i!==r&&e.copy(t,i,0,r-i),t}(t,e,n,s):o(t,0,n,s)}},8764:(t,e,n)=>{"use strict";const r=n(9742),i=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return u(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return l.from(r,e,n);const i=function(t){if(l.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||$(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return h(t),a(t<0?0:0|p(t))}function f(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,l.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(i)return r?-1:Y(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return B(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){let o,s=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(t,o+r)!==c(e,r)){n=!1;break}if(n)return o}return-1}function A(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if($(r))return s;t[n+s]=r}return s}function w(t,e,n,r){return q(Y(e,t.length-n),t,n,r)}function _(t,e,n,r){return q(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function I(t,e,n,r){return q(W(e),t,n,r)}function E(t,e,n,r){return q(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,l;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(l=(31&e)<<6|63&n,l>127&&(o=l));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(l=(15&e)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(l=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=x));return n}(r)}e.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(t,e,n){return function(t,e,n){return h(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},l.allocUnsafe=function(t){return u(t)},l.allocUnsafeSlow=function(t){return u(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(G(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=l.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(G(e,Uint8Array))i+e.length>r.length?(l.isBuffer(e)||(e=l.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},l.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(t,e,n,r,i){if(G(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(r,i),h=t.slice(e,n);for(let t=0;t<a;++t)if(c[t]!==h[t]){o=c[t],s=h[t];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return A(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":case"latin1":case"binary":return _(this,t,e,n);case"base64":return I(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function k(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function B(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function L(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=J[t[r]];return i}function O(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function T(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function M(t,e,n,r,i){H(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function N(t,e,n,r,i){H(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return e=+e,n>>>=0,o||D(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function Q(t,e,n,r,o){return e=+e,n>>>=0,o||D(t,0,n,8),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||T(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||T(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=X((function(t){K(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=X((function(t){K(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||T(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||T(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||T(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){t>>>=0,e||T(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=X((function(t){K(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),l.prototype.readBigInt64BE=X((function(t){K(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),l.prototype.readFloatLE=function(t,e){return t>>>=0,e||T(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||T(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||T(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||T(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||R(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||R(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigUInt64LE=X((function(t,e=0){return M(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=X((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigInt64LE=X((function(t,e=0){return M(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=X((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return Q(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return Q(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=l.isBuffer(t)?t:l.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const j={};function F(t,e,n){j[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function P(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function H(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){K(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||z(e,t.length-(n+1))}(r,i,o)}function K(t,e){if("number"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,"number",t)}function z(t,e,n){if(Math.floor(t)!==t)throw K(t,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=P(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=P(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function Y(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function X(t){return"undefined"==typeof BigInt?Z:t}function Z(){throw new Error("BigInt not supported")}},1924:(t,e,n)=>{"use strict";var r=n(210),i=n(5559),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&o(t,".prototype.")>-1?i(n):n}},5559:(t,e,n)=>{"use strict";var r=n(8612),i=n(210),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),l=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),h=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=a(r,s,arguments);if(l&&c){var n=l(e,"length");n.configurable&&c(e,"length",{value:1+h(0,t.length-(arguments.length-1))})}return e};var u=function(){return a(r,o,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u},4551:(t,e,n)=>{const r=n(9204);t.exports=o;const i=[1634760805,857760878,2036477234,1797285236];function o(t,e,n){r(32===e.byteLength),r(8===t.byteLength||12===t.byteLength);const o=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4),s=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4);n||(n=0),r(n<Number.MAX_SAFE_INTEGER),this.finalized=!1,this.pos=0,this.state=new Uint32Array(16);for(let t=0;t<4;t++)this.state[t]=i[t];for(let t=0;t<8;t++)this.state[4+t]=s[t];return this.state[12]=4294967295&n,8===o.byteLength?(this.state[13]=(n&&0xffffffff00000000)>>32,this.state[14]=o[0],this.state[15]=o[1]):(this.state[13]=o[0],this.state[14]=o[1],this.state[15]=o[2]),this}function s(t){const e=new Uint32Array(16);for(let n=16;n--;)e[n]=t[n];for(let t=0;t<20;t+=2)l(e,0,4,8,12),l(e,1,5,9,13),l(e,2,6,10,14),l(e,3,7,11,15),l(e,0,5,10,15),l(e,1,6,11,12),l(e,2,7,8,13),l(e,3,4,9,14);for(let n=0;n<16;n++)e[n]+=t[n];return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function a(t,e){return t<<e|t>>>32-e}function l(t,e,n,r,i){t[e]+=t[n],t[i]^=t[e],t[i]=a(t[i],16),t[r]+=t[i],t[n]^=t[r],t[n]=a(t[n],12),t[e]+=t[n],t[i]^=t[e],t[i]=a(t[i],8),t[r]+=t[i],t[n]^=t[r],t[n]=a(t[n],7)}o.prototype.update=function(t,e){r(!this.finalized,"cipher finalized."),r(t.byteLength>=e.byteLength,"output cannot be shorter than input.");let n=e.length,i=this.pos%64;this.pos+=n;let o=0,a=s(this.state);for(;i>0&&n>0;)t[o]=e[o++]^a[i],i=i+1&63,i||this.state[12]++,n--;for(;n>0;){if(a=s(this.state),n<64){for(let r=0;r<n;r++)t[o]=e[o++]^a[i++],i&=63;return}for(;i<64;)t[o]=e[o++]^a[i++];this.state[12]++,i=0,n-=64}},o.prototype.final=function(){this.state.fill(0),this.pos=0,this.finalized=!0}},6313:(t,e,n)=>{var r=n(8764).Buffer,i=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,i;try{e=Map}catch(t){e=function(){}}try{n=Set}catch(t){n=function(){}}try{i=Promise}catch(t){i=function(){}}function o(s,l,c,h,u){"object"==typeof l&&(c=l.depth,h=l.prototype,u=l.includeNonEnumerable,l=l.circular);var f=[],d=[],p=void 0!==r;return void 0===l&&(l=!0),void 0===c&&(c=1/0),function s(c,g){if(null===c)return null;if(0===g)return c;var y,m;if("object"!=typeof c)return c;if(t(c,e))y=new e;else if(t(c,n))y=new n;else if(t(c,i))y=new i((function(t,e){c.then((function(e){t(s(e,g-1))}),(function(t){e(s(t,g-1))}))}));else if(o.__isArray(c))y=[];else if(o.__isRegExp(c))y=new RegExp(c.source,a(c)),c.lastIndex&&(y.lastIndex=c.lastIndex);else if(o.__isDate(c))y=new Date(c.getTime());else{if(p&&r.isBuffer(c))return y=r.allocUnsafe?r.allocUnsafe(c.length):new r(c.length),c.copy(y),y;t(c,Error)?y=Object.create(c):void 0===h?(m=Object.getPrototypeOf(c),y=Object.create(m)):(y=Object.create(h),m=h)}if(l){var b=f.indexOf(c);if(-1!=b)return d[b];f.push(c),d.push(y)}for(var v in t(c,e)&&c.forEach((function(t,e){var n=s(e,g-1),r=s(t,g-1);y.set(n,r)})),t(c,n)&&c.forEach((function(t){var e=s(t,g-1);y.add(e)})),c){var A;m&&(A=Object.getOwnPropertyDescriptor(m,v)),A&&null==A.set||(y[v]=s(c[v],g-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);for(v=0;v<w.length;v++){var _=w[v];(!(E=Object.getOwnPropertyDescriptor(c,_))||E.enumerable||u)&&(y[_]=s(c[_],g-1),E.enumerable||Object.defineProperty(y,_,{enumerable:!1}))}}if(u){var I=Object.getOwnPropertyNames(c);for(v=0;v<I.length;v++){var E,C=I[v];(E=Object.getOwnPropertyDescriptor(c,C))&&E.enumerable||(y[C]=s(c[C],g-1),Object.defineProperty(y,C,{enumerable:!1}))}}return y}(s,c)}function s(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=s,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===s(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===s(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===s(t)},o.__getRegExpFlags=a,o}();t.exports&&(t.exports=i)},7092:(t,e,n)=>{var r=n(8764).Buffer;function i(t,e){if("object"==typeof t&&t&&t.encode&&t.decode)return t;switch(t){case"ndjson":return i.ndjson;case"json":return i.json;case"ascii":return i.ascii;case"utf-8":case"utf8":return i.utf8;case"hex":return i.hex;case"base64":return i.base64;case"ucs-2":case"ucs2":return i.ucs2;case"utf16-le":case"utf16le":return i.utf16le}return void 0!==e?e:i.binary}function o(t){return{name:t?"ndjson":"json",encode:t?function(t){return r.from(JSON.stringify(t)+"\n")}:function(t){return r.from(JSON.stringify(t))},decode:function(t){return JSON.parse(t.toString())}}}function s(t){return{name:t,encode:function(e){return"string"!=typeof e&&(e=e.toString()),r.from(e,t)},decode:function(e){return e.toString(t)}}}t.exports=i,i.ascii=s("ascii"),i.utf8=s("utf-8"),i.hex=s("hex"),i.base64=s("base64"),i.ucs2=s("ucs2"),i.utf16le=s("utf16le"),i.ndjson=o(!0),i.json=o(!1),i.binary={name:"binary",encode:function(t){return"string"==typeof t?r.from(t,"utf-8"):r.isBuffer(t)?t:r.from(t.buffer,t.byteOffset,t.byteLength)},decode:function(t){return r.isBuffer(t)?t:r.from(t.buffer,t.byteOffset,t.byteLength)}}},4631:function(t){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),s=r||i||o,a=s&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(t),c=l&&/Qt\/\d+\.\d+/.test(t),h=!o&&/Chrome\//.test(t),u=/Opera\//.test(t),f=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),p=/PhantomJS/.test(t),g=f&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),y=/Android/.test(t),m=g||y||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),b=g||/Mac/.test(e),v=/\bCrOS\b/.test(t),A=/win/i.test(e),w=u&&t.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(u=!1,l=!0);var _=b&&(c||u&&(null==w||w<12.11)),I=n||s&&a>=9;function E(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var C,S=function(t,e){var n=t.className,r=E(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function x(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function k(t,e){return x(t).appendChild(e)}function B(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function L(t,e,n,r){var i=B(t,e,n,r);return i.setAttribute("role","presentation"),i}function O(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function T(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function R(t,e){var n=t.className;E(e).test(n)||(t.className+=(n?" ":"")+e)}function M(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!E(n[r]).test(e)&&(e+=" "+n[r]);return e}C=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var N=function(t){t.select()};function D(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function U(t,e,n){for(var r in e||(e={}),t)!t.hasOwnProperty(r)||!1===n&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function Q(t,e,n,r,i){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=r||0,s=i||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}}g?N=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:s&&(N=function(t){try{t.select()}catch(t){}});var j=function(){this.id=null,this.f=null,this.time=0,this.handler=D(this.onTimeout,this)};function F(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}j.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},j.prototype.set=function(t,e){this.f=e;var n=+new Date+t;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=n)};var P={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},K={origin:"*mouse"},z={origin:"+move"};function V(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);-1==o&&(o=t.length);var s=o-r;if(o==t.length||i+s>=e)return r+Math.min(s,e-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=e)return r}}var Y=[""];function W(t){for(;Y.length<=t;)Y.push(q(Y)+" ");return Y[t]}function q(t){return t[t.length-1]}function G(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function $(){}function J(t,e){var n;return Object.create?n=Object.create(t):($.prototype=t,n=new $),e&&U(e,n),n}var X=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Z(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||X.test(t))}function tt(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Z(t))||e.test(t):Z(t)}function et(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var nt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function rt(t){return t.charCodeAt(0)>=768&&nt.test(t)}function it(t,e,n){for(;(n<0?e>0:e<t.length)&&rt(t.charAt(e));)e+=n;return e}function ot(t,e,n){for(var r=e>n?-1:1;;){if(e==n)return e;var i=(e+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+r}}var st=null;function at(t,e,n){var r;st=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;o.to==e&&(o.from!=o.to&&"before"==n?r=i:st=i),o.from==e&&(o.from!=o.to&&"before"!=n?r=i:st=i)}return null!=r?r:st}var lt=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function o(t,e,n){this.level=t,this.from=e,this.to=n}return function(s,a){var l,c="ltr"==a?"L":"R";if(0==s.length||"ltr"==a&&!t.test(s))return!1;for(var h=s.length,u=[],f=0;f<h;++f)u.push((l=s.charCodeAt(f))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(l):1424<=l&&l<=1524?"R":1536<=l&&l<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(l-1536):1774<=l&&l<=2220?"r":8192<=l&&l<=8203?"w":8204==l?"b":"L");for(var d=0,p=c;d<h;++d){var g=u[d];"m"==g?u[d]=p:p=g}for(var y=0,m=c;y<h;++y){var b=u[y];"1"==b&&"r"==m?u[y]="n":n.test(b)&&(m=b,"r"==b&&(u[y]="R"))}for(var v=1,A=u[0];v<h-1;++v){var w=u[v];"+"==w&&"1"==A&&"1"==u[v+1]?u[v]="1":","!=w||A!=u[v+1]||"1"!=A&&"n"!=A||(u[v]=A),A=w}for(var _=0;_<h;++_){var I=u[_];if(","==I)u[_]="N";else if("%"==I){var E=void 0;for(E=_+1;E<h&&"%"==u[E];++E);for(var C=_&&"!"==u[_-1]||E<h&&"1"==u[E]?"1":"N",S=_;S<E;++S)u[S]=C;_=E-1}}for(var x=0,k=c;x<h;++x){var B=u[x];"L"==k&&"1"==B?u[x]="L":n.test(B)&&(k=B)}for(var L=0;L<h;++L)if(e.test(u[L])){var O=void 0;for(O=L+1;O<h&&e.test(u[O]);++O);for(var T="L"==(L?u[L-1]:c),R=T==("L"==(O<h?u[O]:c))?T?"L":"R":c,M=L;M<O;++M)u[M]=R;L=O-1}for(var N,D=[],U=0;U<h;)if(r.test(u[U])){var Q=U;for(++U;U<h&&r.test(u[U]);++U);D.push(new o(0,Q,U))}else{var j=U,F=D.length,P="rtl"==a?1:0;for(++U;U<h&&"L"!=u[U];++U);for(var H=j;H<U;)if(i.test(u[H])){j<H&&(D.splice(F,0,new o(1,j,H)),F+=P);var K=H;for(++H;H<U&&i.test(u[H]);++H);D.splice(F,0,new o(2,K,H)),F+=P,j=H}else++H;j<U&&D.splice(F,0,new o(1,j,U))}return"ltr"==a&&(1==D[0].level&&(N=s.match(/^\s+/))&&(D[0].from=N[0].length,D.unshift(new o(0,0,N[0].length))),1==q(D).level&&(N=s.match(/\s+$/))&&(q(D).to-=N[0].length,D.push(new o(0,h-N[0].length,h)))),"rtl"==a?D.reverse():D}}();function ct(t,e){var n=t.order;return null==n&&(n=t.order=lt(t.text,e)),n}var ht=[],ut=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||ht).concat(n)}};function ft(t,e){return t._handlers&&t._handlers[e]||ht}function dt(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers,i=r&&r[e];if(i){var o=F(i,n);o>-1&&(r[e]=i.slice(0,o).concat(i.slice(o+1)))}}}function pt(t,e){var n=ft(t,e);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function gt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),pt(t,n||e.type,t,e),wt(e)||e.codemirrorIgnore}function yt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==F(n,e[r])&&n.push(e[r])}function mt(t,e){return ft(t,e).length>0}function bt(t){t.prototype.on=function(t,e){ut(this,t,e)},t.prototype.off=function(t,e){dt(this,t,e)}}function vt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function At(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function wt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function _t(t){vt(t),At(t)}function It(t){return t.target||t.srcElement}function Et(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),b&&t.ctrlKey&&1==e&&(e=3),e}var Ct,St,xt=function(){if(s&&a<9)return!1;var t=B("div");return"draggable"in t||"dragDrop"in t}();function kt(t){if(null==Ct){var e=B("span","​");k(t,B("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ct=e.offsetWidth<=1&&e.offsetHeight>2&&!(s&&a<8))}var n=Ct?B("span","​"):B("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Bt(t){if(null!=St)return St;var e=k(t,document.createTextNode("AخA")),n=C(e,0,1).getBoundingClientRect(),r=C(e,1,2).getBoundingClientRect();return x(t),!(!n||n.left==n.right)&&(St=r.right-n.right<3)}var Lt,Ot=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Tt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Rt="oncopy"in(Lt=B("div"))||(Lt.setAttribute("oncopy","return;"),"function"==typeof Lt.oncopy),Mt=null;var Nt={},Dt={};function Ut(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Nt[t]=e}function Qt(t){if("string"==typeof t&&Dt.hasOwnProperty(t))t=Dt[t];else if(t&&"string"==typeof t.name&&Dt.hasOwnProperty(t.name)){var e=Dt[t.name];"string"==typeof e&&(e={name:e}),(t=J(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Qt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Qt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function jt(t,e){e=Qt(e);var n=Nt[e.name];if(!n)return jt(t,"text/plain");var r=n(t,e);if(Ft.hasOwnProperty(e.name)){var i=Ft[e.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)r[s]=e.modeProps[s];return r}var Ft={};function Pt(t,e){U(e,Ft.hasOwnProperty(t)?Ft[t]:Ft[t]={})}function Ht(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Kt(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function zt(t,e,n){return!t.startState||t.startState(e,n)}var Vt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Yt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function Wt(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,(function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i})),r}function qt(t,e,n){var r=[];return t.iter(e,n,(function(t){r.push(t.text)})),r}function Gt(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function $t(t){if(null==t.parent)return null;for(var e=t.parent,n=F(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function Jt(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s].height;if(e<a)break;e-=a}return n+s}function Xt(t,e){return e>=t.first&&e<t.first+t.size}function Zt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function te(t,e,n){if(void 0===n&&(n=null),!(this instanceof te))return new te(t,e,n);this.line=t,this.ch=e,this.sticky=n}function ee(t,e){return t.line-e.line||t.ch-e.ch}function ne(t,e){return t.sticky==e.sticky&&0==ee(t,e)}function re(t){return te(t.line,t.ch)}function ie(t,e){return ee(t,e)<0?e:t}function oe(t,e){return ee(t,e)<0?t:e}function se(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function ae(t,e){if(e.line<t.first)return te(t.first,0);var n=t.first+t.size-1;return e.line>n?te(n,Yt(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?te(t.line,e):n<0?te(t.line,0):t}(e,Yt(t,e.line).text.length)}function le(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=ae(t,e[r]);return n}Vt.prototype.eol=function(){return this.pos>=this.string.length},Vt.prototype.sol=function(){return this.pos==this.lineStart},Vt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Vt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Vt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Vt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Vt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Vt.prototype.skipToEnd=function(){this.pos=this.string.length},Vt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Vt.prototype.backUp=function(t){this.pos-=t},Vt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Q(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Q(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.indentation=function(){return Q(this.string,null,this.tabSize)-(this.lineStart?Q(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.match=function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t};if(i(this.string.substr(this.pos,t.length))==i(t))return!1!==e&&(this.pos+=t.length),!0},Vt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Vt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Vt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Vt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ce=function(t,e){this.state=t,this.lookAhead=e},he=function(t,e,n,r){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function ue(t,e,n,r){var i=[t.state.modeGen],o={};Ae(t,e.text,t.doc.mode,n,(function(t,e){return i.push(t,e)}),o,r);for(var s=n.state,a=function(r){n.baseTokens=i;var a=t.state.overlays[r],l=1,c=0;n.state=!0,Ae(t,e.text,a.mode,n,(function(t,e){for(var n=l;c<t;){var r=i[l];r>t&&i.splice(l,1,t,i[l+1],r),l+=2,c=Math.min(t,r)}if(e)if(a.opaque)i.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+e}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)a(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function fe(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=de(t,$t(e)),i=e.text.length>t.options.maxHighlightLength&&Ht(t.doc.mode,r.state),o=ue(t,e,r);i&&(r.state=i),e.stateAfter=r.save(!i),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function de(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return new he(r,!0,e);var o=function(t,e,n){for(var r,i,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=Yt(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof ce?c.lookAhead:0)<=o.modeFrontier))return a;var h=Q(l.text,null,t.options.tabSize);(null==i||r>h)&&(i=a-1,r=h)}return i}(t,e,n),s=o>r.first&&Yt(r,o-1).stateAfter,a=s?he.fromSaved(r,s,o):new he(r,zt(r.mode),o);return r.iter(o,e,(function(n){pe(t,n.text,a);var r=a.line;n.stateAfter=r==e-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine()})),n&&(r.modeFrontier=a.line),a}function pe(t,e,n,r){var i=t.doc.mode,o=new Vt(e,t.options.tabSize,n);for(o.start=o.pos=r||0,""==e&&ge(i,n.state);!o.eol();)ye(i,o,n.state),o.start=o.pos}function ge(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Kt(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function ye(t,e,n,r){for(var i=0;i<10;i++){r&&(r[0]=Kt(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}he.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},he.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},he.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},he.fromSaved=function(t,e,n){return e instanceof ce?new he(t,Ht(t.mode,e.state),n,e.lookAhead):new he(t,Ht(t.mode,e),n)},he.prototype.save=function(t){var e=!1!==t?Ht(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ce(e,this.maxLookAhead):e};var me=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function be(t,e,n,r){var i,o,s=t.doc,a=s.mode,l=Yt(s,(e=ae(s,e)).line),c=de(t,e.line,n),h=new Vt(l.text,t.options.tabSize,c);for(r&&(o=[]);(r||h.pos<e.ch)&&!h.eol();)h.start=h.pos,i=ye(a,h,c.state),r&&o.push(new me(h,i,Ht(s.mode,c.state)));return r?o:new me(h,i,c.state)}function ve(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(e[r])||(e[r]+=" "+n[2])}return t}function Ae(t,e,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,h=null,u=new Vt(e,t.options.tabSize,r),f=t.options.addModeClass&&[null];for(""==e&&ve(ge(n,r.state),o);!u.eol();){if(u.pos>t.options.maxHighlightLength?(a=!1,s&&pe(t,e,r,u.pos),u.pos=e.length,l=null):l=ve(ye(n,u,r.state,f),o),f){var d=f[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!a||h!=l){for(;c<u.start;)i(c=Math.min(u.start,c+5e3),h);h=l}u.start=u.pos}for(;c<u.pos;){var p=Math.min(u.pos,c+5e3);i(p,h),c=p}}var we=!1,_e=!1;function Ie(t,e,n){this.marker=t,this.from=e,this.to=n}function Ee(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Ce(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function Se(t,e){if(e.full)return null;var n=Xt(t,e.from.line)&&Yt(t,e.from.line).markedSpans,r=Xt(t,e.to.line)&&Yt(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,s=0==ee(e.from,e.to),a=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new Ie(s,o.from,a?null:o.to))}}return r}(n,i,s),l=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new Ie(s,a?null:o.from-e,null==o.to?null:o.to-e))}}return r}(r,o,s),c=1==e.text.length,h=q(e.text).length+(c?i:0);if(a)for(var u=0;u<a.length;++u){var f=a[u];if(null==f.to){var d=Ee(l,f.marker);d?c&&(f.to=null==d.to?null:d.to+h):f.to=i}}if(l)for(var p=0;p<l.length;++p){var g=l[p];null!=g.to&&(g.to+=h),null==g.from?Ee(a,g.marker)||(g.from=h,c&&(a||(a=[])).push(g)):(g.from+=h,c&&(a||(a=[])).push(g))}a&&(a=xe(a)),l&&l!=a&&(l=xe(l));var y=[a];if(!c){var m,b=e.text.length-2;if(b>0&&a)for(var v=0;v<a.length;++v)null==a[v].to&&(m||(m=[])).push(new Ie(a[v].marker,null,null));for(var A=0;A<b;++A)y.push(m);y.push(l)}return y}function xe(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function ke(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Be(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Le(t){return t.inclusiveLeft?-1:0}function Oe(t){return t.inclusiveRight?1:0}function Te(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=ee(r.from,i.from)||Le(t)-Le(e);return o?-o:ee(r.to,i.to)||Oe(t)-Oe(e)||e.id-t.id}function Re(t,e){var n,r=_e&&t.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(e?i.from:i.to)&&(!n||Te(n,i.marker)<0)&&(n=i.marker);return n}function Me(t){return Re(t,!0)}function Ne(t){return Re(t,!1)}function De(t,e){var n,r=_e&&t.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Te(n,o.marker)<0)&&(n=o.marker)}return n}function Ue(t,e,n,r,i){var o=Yt(t,e),s=_e&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),h=ee(c.from,n)||Le(l.marker)-Le(i),u=ee(c.to,r)||Oe(l.marker)-Oe(i);if(!(h>=0&&u<=0||h<=0&&u>=0)&&(h<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ee(c.to,n)>=0:ee(c.to,n)>0)||h>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ee(c.from,r)<=0:ee(c.from,r)<0)))return!0}}}function Qe(t){for(var e;e=Me(t);)t=e.find(-1,!0).line;return t}function je(t,e){var n=Yt(t,e),r=Qe(n);return n==r?e:$t(r)}function Fe(t,e){if(e>t.lastLine())return e;var n,r=Yt(t,e);if(!Pe(t,r))return e;for(;n=Ne(r);)r=n.find(1,!0).line;return $t(r)+1}function Pe(t,e){var n=_e&&e.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&He(t,e,r))return!0}}function He(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return He(t,r.line,Ee(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i=void 0,o=0;o<e.markedSpans.length;++o)if((i=e.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&He(t,e,i))return!0}function Ke(t){for(var e=0,n=(t=Qe(t)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;e+=a.height}return e}function ze(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=Me(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=Ne(r);){var o=e.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Ve(t){var e=t.display,n=t.doc;e.maxLine=Yt(n,n.first),e.maxLineLength=ze(e.maxLine),e.maxLineChanged=!0,n.iter((function(t){var n=ze(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)}))}var Ye=function(t,e,n){this.text=t,Be(this,e),this.height=n?n(this):1};function We(t){t.parent=null,ke(t)}Ye.prototype.lineNo=function(){return $t(this)},bt(Ye);var qe={},Ge={};function $e(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Ge:qe;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Je(t,e){var n=L("span",null,null,l?"padding-right: .1px":null),r={pre:L("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o=i?e.rest[i-1]:e.line,s=void 0;r.pos=0,r.addToken=Ze,Bt(t.display.measure)&&(s=ct(o,t.doc.direction))&&(r.addToken=tn(r.addToken,s)),r.map=[],nn(o,r,fe(t,o,e!=t.display.externalMeasured&&$t(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=M(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=M(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(kt(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var a=r.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return pt(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=M(r.pre.className,r.textClass||"")),r}function Xe(t){var e=B("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Ze(t,e,n,r,i,o,l){if(e){var c,h=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!n||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}(e,t.trailingSpace):e,u=t.cm.state.specialChars,f=!1;if(u.test(e)){c=document.createDocumentFragment();for(var d=0;;){u.lastIndex=d;var p=u.exec(e),g=p?p.index-d:e.length-d;if(g){var y=document.createTextNode(h.slice(d,d+g));s&&a<9?c.appendChild(B("span",[y])):c.appendChild(y),t.map.push(t.pos,t.pos+g,y),t.col+=g,t.pos+=g}if(!p)break;d+=g+1;var m=void 0;if("\t"==p[0]){var b=t.cm.options.tabSize,v=b-t.col%b;(m=c.appendChild(B("span",W(v),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),t.col+=v}else"\r"==p[0]||"\n"==p[0]?((m=c.appendChild(B("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((m=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),s&&a<9?c.appendChild(B("span",[m])):c.appendChild(m),t.col+=1);t.map.push(t.pos,t.pos+1,m),t.pos++}}else t.col+=e.length,c=document.createTextNode(h),t.map.push(t.pos,t.pos+e.length,c),s&&a<9&&(f=!0),t.pos+=e.length;if(t.trailingSpace=32==h.charCodeAt(e.length-1),n||r||i||f||o||l){var A=n||"";r&&(A+=r),i&&(A+=i);var w=B("span",[c],A,o);if(l)for(var _ in l)l.hasOwnProperty(_)&&"style"!=_&&"class"!=_&&w.setAttribute(_,l[_]);return t.content.appendChild(w)}t.content.appendChild(c)}}function tn(t,e){return function(n,r,i,o,s,a,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,h=c+r.length;;){for(var u=void 0,f=0;f<e.length&&!((u=e[f]).to>c&&u.from<=c);f++);if(u.to>=h)return t(n,r,i,o,s,a,l);t(n,r.slice(0,u.to-c),i,o,null,a,l),o=null,r=r.slice(u.to-c),c=u.to}}}function en(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function nn(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var s,a,l,c,h,u,f,d=i.length,p=0,g=1,y="",m=0;;){if(m==p){l=c=h=a="",f=null,u=null,m=1/0;for(var b=[],v=void 0,A=0;A<r.length;++A){var w=r[A],_=w.marker;if("bookmark"==_.type&&w.from==p&&_.widgetNode)b.push(_);else if(w.from<=p&&(null==w.to||w.to>p||_.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&m>w.to&&(m=w.to,c=""),_.className&&(l+=" "+_.className),_.css&&(a=(a?a+";":"")+_.css),_.startStyle&&w.from==p&&(h+=" "+_.startStyle),_.endStyle&&w.to==m&&(v||(v=[])).push(_.endStyle,w.to),_.title&&((f||(f={})).title=_.title),_.attributes)for(var I in _.attributes)(f||(f={}))[I]=_.attributes[I];_.collapsed&&(!u||Te(u.marker,_)<0)&&(u=w)}else w.from>p&&m>w.from&&(m=w.from)}if(v)for(var E=0;E<v.length;E+=2)v[E+1]==m&&(c+=" "+v[E]);if(!u||u.from==p)for(var C=0;C<b.length;++C)en(e,0,b[C]);if(u&&(u.from||0)==p){if(en(e,(null==u.to?d+1:u.to)-p,u.marker,null==u.from),null==u.to)return;u.to==p&&(u=!1)}}if(p>=d)break;for(var S=Math.min(d,m);;){if(y){var x=p+y.length;if(!u){var k=x>S?y.slice(0,S-p):y;e.addToken(e,k,s?s+l:l,h,p+k.length==m?c:"",a,f)}if(x>=S){y=y.slice(S-p),p=S;break}p=x,h=""}y=i.slice(o,o=n[g++]),s=$e(n[g++],e.cm.options)}}else for(var B=1;B<n.length;B+=2)e.addToken(e,i.slice(o,o=n[B]),$e(n[B+1],e.cm.options))}function rn(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=Ne(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?$t(q(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Pe(t,e)}function on(t,e,n){for(var r,i=[],o=e;o<n;o=r){var s=new rn(t.doc,Yt(t.doc,o),o);r=o+s.size,i.push(s)}return i}var sn=null;var an=null;function ln(t,e){var n=ft(t,e);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);sn?r=sn.delayedCallbacks:an?r=an:(r=an=[],setTimeout(cn,0));for(var o=function(t){r.push((function(){return n[t].apply(null,i)}))},s=0;s<n.length;++s)o(s)}}function cn(){var t=an;an=null;for(var e=0;e<t.length;++e)t[e]()}function hn(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?dn(t,e):"gutter"==o?gn(t,e,n,r):"class"==o?pn(t,e):"widget"==o&&yn(t,e,r)}e.changes=null}function un(t){return t.node==t.text&&(t.node=B("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),s&&a<8&&(t.node.style.zIndex=2)),t.node}function fn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Je(t,e)}function dn(t,e){var n=e.text.className,r=fn(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,pn(t,e)):n&&(e.text.className=n)}function pn(t,e){(function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var r=un(e);e.background=r.insertBefore(B("div",null,n),r.firstChild),t.display.input.setUneditable(e.background)}})(t,e),e.line.wrapClass?un(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function gn(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=un(e);e.gutterBackground=B("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var s=un(e),a=e.gutter=B("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(B("div",Zt(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var c=t.display.gutterSpecs[l].className,h=o.hasOwnProperty(c)&&o[c];h&&a.appendChild(B("div",[h],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function yn(t,e,n){e.alignable&&(e.alignable=null);for(var r=E("CodeMirror-linewidget"),i=e.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&e.node.removeChild(i);bn(t,e,n)}function mn(t,e,n,r){var i=fn(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),pn(t,e),gn(t,e,n,r),bn(t,e,r),e.node}function bn(t,e,n){if(vn(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)vn(t,e.rest[r],e,n,!1)}function vn(t,e,n,r,i){if(e.widgets)for(var o=un(n),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=B("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),An(l,c,n,r),t.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),ln(l,"redraw")}}function An(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function wn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!O(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),k(e.display.measure,B("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function _n(t,e){for(var n=It(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function In(t){return t.lineSpace.offsetTop}function En(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Cn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=k(t.measure,B("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Sn(t){return 50-t.display.nativeBarWidth}function xn(t){return t.display.scroller.clientWidth-Sn(t)-t.display.barWidth}function kn(t){return t.display.scroller.clientHeight-Sn(t)-t.display.barHeight}function Bn(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var i=0;i<t.rest.length;i++)if($t(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Ln(t,e,n,r){return Rn(t,Tn(t,e),n,r)}function On(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[hr(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Tn(t,e){var n=$t(e),r=On(t,n);r&&!r.text?r=null:r&&r.changes&&(hn(t,r,n,or(t)),t.curOp.forceUpdate=!0),r||(r=function(t,e){var n=$t(e=Qe(e)),r=t.display.externalMeasured=new rn(t.doc,e,n);r.lineN=n;var i=r.built=Je(t,r);return r.text=i.pre,k(t.display.lineMeasure,i.pre),r}(t,e));var i=Bn(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Rn(t,e,n,r,i){e.before&&(n=-1);var o,l=n+(r||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var r=t.options.lineWrapping,i=r&&xn(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,n,r){var i,o=Dn(e.map,n,r),l=o.node,c=o.start,h=o.end,u=o.collapse;if(3==l.nodeType){for(var f=0;f<4;f++){for(;c&&rt(e.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+h<o.coverEnd&&rt(e.line.text.charAt(o.coverStart+h));)++h;if((i=s&&a<9&&0==c&&h==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Un(C(l,c,h).getClientRects(),r)).left||i.right||0==c)break;h=c,c-=1,u="right"}s&&a<11&&(i=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Mt)return Mt;var e=k(t,B("span","x")),n=e.getBoundingClientRect(),r=C(e,0,1).getBoundingClientRect();return Mt=Math.abs(n.left-r.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}(t.display.measure,i))}else{var d;c>0&&(u=r="right"),i=t.options.lineWrapping&&(d=l.getClientRects()).length>1?d["right"==r?d.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+ir(t.display),top:p.top,bottom:p.bottom}:Nn}for(var g=i.top-e.rect.top,y=i.bottom-e.rect.top,m=(g+y)/2,b=e.view.measure.heights,v=0;v<b.length-1&&!(m<b[v]);v++);var A=v?b[v-1]:0,w=b[v],_={left:("right"==u?i.right:i.left)-e.rect.left,right:("left"==u?i.left:i.right)-e.rect.left,top:A,bottom:w};return i.left||i.right||(_.bogus=!0),t.options.singleCursorHeightPerLine||(_.rtop=g,_.rbottom=y),_}(t,e,n,r)).bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Mn,Nn={left:0,right:0,top:0,bottom:0};function Dn(t,e,n){for(var r,i,o,s,a,l,c=0;c<t.length;c+=3)if(a=t[c],l=t[c+1],e<a?(i=0,o=1,s="left"):e<l?o=1+(i=e-a):(c==t.length-3||e==l&&t[c+3]>e)&&(i=(o=l-a)-1,e>=l&&(s="right")),null!=i){if(r=t[c+2],a==l&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)r=t[2+(c-=3)],s="left";if("right"==n&&i==l-a)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)r=t[(c+=3)+2],s="right";break}return{node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:l}}function Un(t,e){var n=Nn;if("left"==e)for(var r=0;r<t.length&&(n=t[r]).left==n.right;r++);else for(var i=t.length-1;i>=0&&(n=t[i]).left==n.right;i--);return n}function Qn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function jn(t){t.display.externalMeasure=null,x(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Qn(t.display.view[e])}function Fn(t){jn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Pn(){return h&&y?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Hn(){return h&&y?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Kn(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=wn(t.widgets[n]));return e}function zn(t,e,n,r,i){if(!i){var o=Kn(e);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=Ke(e);if("local"==r?s+=In(t.display):s-=t.display.viewOffset,"page"==r||"window"==r){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:Hn());var l=a.left+("window"==r?0:Pn());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Vn(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=Pn(),i-=Hn();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function Yn(t,e,n,r,i){return r||(r=Yt(t.doc,e.line)),zn(t,r,Ln(t,r,e.ch,i),n)}function Wn(t,e,n,r,i,o){function s(e,s){var a=Rn(t,i,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,zn(t,r,a,n)}r=r||Yt(t.doc,e.line),i||(i=Tn(t,r));var a=ct(r,t.doc.direction),l=e.ch,c=e.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function h(t,e,n){return s(n?t-1:t,1==a[e].level!=n)}var u=at(a,l,c),f=st,d=h(l,u,"before"==c);return null!=f&&(d.other=h(l,f,"before"!=c)),d}function qn(t,e){var n=0;e=ae(t.doc,e),t.options.lineWrapping||(n=ir(t.display)*e.ch);var r=Yt(t.doc,e.line),i=Ke(r)+In(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Gn(t,e,n,r,i){var o=te(t,e,n);return o.xRel=i,r&&(o.outside=r),o}function $n(t,e,n){var r=t.doc;if((n+=t.display.viewOffset)<0)return Gn(r.first,0,null,-1,-1);var i=Jt(r,n),o=r.first+r.size-1;if(i>o)return Gn(r.first+r.size-1,Yt(r,o).text.length,null,1,1);e<0&&(e=0);for(var s=Yt(r,i);;){var a=tr(t,s,i,e,n),l=De(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==i)return c;s=Yt(r,i=c.line)}}function Jn(t,e,n,r){r-=Kn(e);var i=e.text.length,o=ot((function(e){return Rn(t,n,e-1).bottom<=r}),i,0);return{begin:o,end:i=ot((function(e){return Rn(t,n,e).top>r}),o,i)}}function Xn(t,e,n,r){return n||(n=Tn(t,e)),Jn(t,e,n,zn(t,e,Rn(t,n,r),"line").top)}function Zn(t,e,n,r){return!(t.bottom<=n)&&(t.top>n||(r?t.left:t.right)>e)}function tr(t,e,n,r,i){i-=Ke(e);var o=Tn(t,e),s=Kn(e),a=0,l=e.text.length,c=!0,h=ct(e,t.doc.direction);if(h){var u=(t.options.lineWrapping?nr:er)(t,e,n,o,h,r,i);a=(c=1!=u.level)?u.from:u.to-1,l=c?u.to:u.from-1}var f,d,p=null,g=null,y=ot((function(e){var n=Rn(t,o,e);return n.top+=s,n.bottom+=s,!!Zn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=e,g=n),!0)}),a,l),m=!1;if(g){var b=r-g.left<g.right-r,v=b==c;y=p+(v?0:1),d=v?"after":"before",f=b?g.left:g.right}else{c||y!=l&&y!=a||y++,d=0==y?"after":y==e.text.length?"before":Rn(t,o,y-(c?1:0)).bottom+s<=i==c?"after":"before";var A=Wn(t,te(n,y,d),"line",e,o);f=A.left,m=i<A.top?-1:i>=A.bottom?1:0}return Gn(n,y=it(e.text,y,1),d,m,r-f)}function er(t,e,n,r,i,o,s){var a=ot((function(a){var l=i[a],c=1!=l.level;return Zn(Wn(t,te(n,c?l.to:l.from,c?"before":"after"),"line",e,r),o,s,!0)}),0,i.length-1),l=i[a];if(a>0){var c=1!=l.level,h=Wn(t,te(n,c?l.from:l.to,c?"after":"before"),"line",e,r);Zn(h,o,s,!0)&&h.top>s&&(l=i[a-1])}return l}function nr(t,e,n,r,i,o,s){var a=Jn(t,e,r,s),l=a.begin,c=a.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var h=null,u=null,f=0;f<i.length;f++){var d=i[f];if(!(d.from>=c||d.to<=l)){var p=Rn(t,r,1!=d.level?Math.min(c,d.to)-1:Math.max(l,d.from)).right,g=p<o?o-p+1e9:p-o;(!h||u>g)&&(h=d,u=g)}}return h||(h=i[i.length-1]),h.from<l&&(h={from:l,to:h.to,level:h.level}),h.to>c&&(h={from:h.from,to:c,level:h.level}),h}function rr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Mn){Mn=B("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Mn.appendChild(document.createTextNode("x")),Mn.appendChild(B("br"));Mn.appendChild(document.createTextNode("x"))}k(t.measure,Mn);var n=Mn.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),x(t.measure),n||1}function ir(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=B("span","xxxxxxxxxx"),n=B("pre",[e],"CodeMirror-line-like");k(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function or(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=t.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+i,r[a]=o.clientWidth}return{fixedPos:sr(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function sr(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function ar(t){var e=rr(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/ir(t.display)-3);return function(i){if(Pe(t.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function lr(t){var e=t.doc,n=ar(t);e.iter((function(t){var e=n(t);e!=t.height&&Gt(t,e)}))}function cr(t,e,n,r){var i=t.display;if(!n&&"true"==It(e).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(t){return null}var l,c=$n(t,o,s);if(r&&c.xRel>0&&(l=Yt(t.doc,c.line).text).length==c.ch){var h=Q(l,l.length,t.options.tabSize)-l.length;c=te(c.line,Math.max(0,Math.round((o-Cn(t.display).left)/ir(t.display))-h))}return c}function hr(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if((e-=n[r].size)<0)return r}function ur(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)_e&&je(t.doc,e)<i.viewTo&&dr(t);else if(n<=i.viewFrom)_e&&Fe(t.doc,n+r)>i.viewFrom?dr(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)dr(t);else if(e<=i.viewFrom){var o=pr(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):dr(t)}else if(n>=i.viewTo){var s=pr(t,e,e,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):dr(t)}else{var a=pr(t,e,e,-1),l=pr(t,n,n+r,1);a&&l?(i.view=i.view.slice(0,a.index).concat(on(t,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):dr(t)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:e<c.lineN+c.size&&(i.externalMeasured=null))}function fr(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[hr(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==F(s,n)&&s.push(n)}}}function dr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function pr(t,e,n,r){var i,o=hr(t,e),s=t.display.view;if(!_e||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=t.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=e){if(r>0){if(o==s.length-1)return null;i=a+s[o].size-e,o++}else i=a-e;e+=i,n+=i}for(;je(t.doc,n)!=n;){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function gr(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function yr(t){t.display.input.showSelection(t.display.input.prepareSelection())}function mr(t,e){void 0===e&&(e=!0);for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(e||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&br(t,a.head,i),l||Ar(t,a,o)}}return r}function br(t,e,n){var r=Wn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(B("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild(B("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function vr(t,e){return t.top-e.top||t.left-e.left}function Ar(t,e,n){var r=t.display,i=t.doc,o=document.createDocumentFragment(),s=Cn(t.display),a=s.left,l=Math.max(r.sizerWidth,xn(t)-r.sizer.offsetLeft)-s.right,c="ltr"==i.direction;function h(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),o.appendChild(B("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(r-e)+"px"))}function u(e,n,r){var o,s,u=Yt(i,e),f=u.text.length;function d(n,r){return Yn(t,te(e,n),"div",u,r)}function p(e,n,r){var i=Xn(t,u,null,e),o="ltr"==n==("after"==r)?"left":"right";return d("after"==r?i.begin:i.end-(/\s/.test(u.text.charAt(i.end-1))?2:1),o)[o]}var g=ct(u,i.direction);return function(t,e,n,r){if(!t)return r(e,n,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(r(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),i=!0)}i||r(e,n,"ltr")}(g,n||0,null==r?f:r,(function(t,e,i,u){var y="ltr"==i,m=d(t,y?"left":"right"),b=d(e-1,y?"right":"left"),v=null==n&&0==t,A=null==r&&e==f,w=0==u,_=!g||u==g.length-1;if(b.top-m.top<=3){var I=(c?A:v)&&_,E=(c?v:A)&&w?a:(y?m:b).left,C=I?l:(y?b:m).right;h(E,m.top,C-E,m.bottom)}else{var S,x,k,B;y?(S=c&&v&&w?a:m.left,x=c?l:p(t,i,"before"),k=c?a:p(e,i,"after"),B=c&&A&&_?l:b.right):(S=c?p(t,i,"before"):a,x=!c&&v&&w?l:m.right,k=!c&&A&&_?a:b.left,B=c?p(e,i,"after"):l),h(S,m.top,x-S,m.bottom),m.bottom<b.top&&h(a,m.bottom,null,b.top),h(k,b.top,B-k,b.bottom)}(!o||vr(m,o)<0)&&(o=m),vr(b,o)<0&&(o=b),(!s||vr(m,s)<0)&&(s=m),vr(b,s)<0&&(s=b)})),{start:o,end:s}}var f=e.from(),d=e.to();if(f.line==d.line)u(f.line,f.ch,d.ch);else{var p=Yt(i,f.line),g=Yt(i,d.line),y=Qe(p)==Qe(g),m=u(f.line,f.ch,y?p.text.length+1:null).end,b=u(d.line,y?0:null,d.ch).start;y&&(m.top<b.top-2?(h(m.right,m.top,null,m.bottom),h(a,b.top,b.left,b.bottom)):h(m.right,m.top,b.left-m.right,m.bottom)),m.bottom<b.top&&h(a,m.bottom,null,b.top)}n.appendChild(o)}function wr(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){t.hasFocus()||Cr(t),e.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function _r(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||Er(t))}function Ir(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Cr(t))}),100)}function Er(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(pt(t,"focus",t,e),t.state.focused=!0,R(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),wr(t))}function Cr(t,e){t.state.delayingBlurEvent||(t.state.focused&&(pt(t,"blur",t,e),t.state.focused=!1,S(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Sr(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i=e.view[r],o=t.options.lineWrapping,l=void 0,c=0;if(!i.hidden){if(s&&a<8){var h=i.node.offsetTop+i.node.offsetHeight;l=h-n,n=h}else{var u=i.node.getBoundingClientRect();l=u.bottom-u.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-u.left-1)}var f=i.line.height-l;if((f>.005||f<-.005)&&(Gt(i.line,l),xr(i.line),i.rest))for(var d=0;d<i.rest.length;d++)xr(i.rest[d]);if(c>t.display.sizerWidth){var p=Math.ceil(c/ir(t.display));p>t.display.maxLineLength&&(t.display.maxLineLength=p,t.display.maxLine=i.line,t.display.maxLineChanged=!0)}}}}function xr(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function kr(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-In(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=Jt(e,r),s=Jt(e,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=Jt(e,Ke(Yt(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=Jt(e,Ke(Yt(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Br(t,e){var n=t.display,r=rr(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=kn(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+En(n),l=e.top<r,c=e.bottom>a-r;if(e.top<i)s.scrollTop=l?0:e.top;else if(e.bottom>i+o){var h=Math.min(e.top,(c?a:e.bottom)-o);h!=i&&(s.scrollTop=h)}var u=t.options.fixedGutter?0:n.gutters.offsetWidth,f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft-u,d=xn(t)-n.gutters.offsetWidth,p=e.right-e.left>d;return p&&(e.right=e.left+d),e.left<10?s.scrollLeft=0:e.left<f?s.scrollLeft=Math.max(0,e.left+u-(p?0:10)):e.right>d+f-3&&(s.scrollLeft=e.right+(p?0:10)-d),s}function Lr(t,e){null!=e&&(Rr(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Or(t){Rr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Tr(t,e,n){null==e&&null==n||Rr(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Rr(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,Mr(t,qn(t,e.from),qn(t,e.to),e.margin))}function Mr(t,e,n,r){var i=Br(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-r,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+r});Tr(t,i.scrollLeft,i.scrollTop)}function Nr(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||li(t,{top:e}),Dr(t,e,!0),n&&li(t),ri(t,100))}function Dr(t,e,n){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Ur(t,e,n,r){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,ui(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Qr(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+En(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Sn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var jr=function(t,e,n){this.cm=n;var r=this.vert=B("div",[B("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=B("div",[B("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,t(r),t(i),ut(r,"scroll",(function(){r.clientHeight&&e(r.scrollTop,"vertical")})),ut(i,"scroll",(function(){i.clientWidth&&e(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};jr.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},jr.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},jr.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},jr.prototype.zeroWidthHack=function(){var t=b&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new j,this.disableVert=new j},jr.prototype.enableZeroWidthBar=function(t,e,n){t.style.pointerEvents="auto",e.set(1e3,(function r(){var i=t.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,r)}))},jr.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Fr=function(){};function Pr(t,e){e||(e=Qr(t));var n=t.display.barWidth,r=t.display.barHeight;Hr(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&Sr(t),Hr(t,Qr(t)),n=t.display.barWidth,r=t.display.barHeight}function Hr(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}Fr.prototype.update=function(){return{bottom:0,right:0}},Fr.prototype.setScrollLeft=function(){},Fr.prototype.setScrollTop=function(){},Fr.prototype.clear=function(){};var Kr={native:jr,null:Fr};function zr(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&S(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Kr[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),ut(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,n){"horizontal"==n?Ur(t,e):Nr(t,e)}),t),t.display.scrollbars.addClass&&R(t.display.wrapper,t.display.scrollbars.addClass)}var Vr=0;function Yr(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vr},e=t.curOp,sn?sn.ops.push(e):e.ownsGroup=sn={ops:[e],delayedCallbacks:[]}}function Wr(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}(n)}finally{sn=null,e(n)}}(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)qr(e[n]);for(var r=0;r<e.length;r++)Gr(e[r]);for(var i=0;i<e.length;i++)$r(e[i]);for(var o=0;o<e.length;o++)Jr(e[o]);for(var s=0;s<e.length;s++)Xr(e[s])}(t)}))}function qr(t){var e=t.cm,n=e.display;(function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Sn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Sn(t)+"px",e.scrollbarsClipped=!0)})(e),t.updateMaxLine&&Ve(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new oi(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Gr(t){t.updatedDisplay=t.mustUpdate&&si(t.cm,t.update)}function $r(t){var e=t.cm,n=e.display;t.updatedDisplay&&Sr(e),t.barMeasure=Qr(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Ln(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Sn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-xn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Jr(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Ur(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==T();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Pr(e,t.barMeasure),t.updatedDisplay&&hi(e,t.barMeasure),t.selectionChanged&&wr(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&_r(t.cm)}function Xr(t){var e=t.cm,n=e.display,r=e.doc;t.updatedDisplay&&ai(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Dr(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Ur(e,t.scrollLeft,!0,!0),t.scrollToPos&&function(t,e){if(!gt(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=B("div","​",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-In(t.display))+"px;\n                         height: "+(e.bottom-e.top+Sn(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}(e,function(t,e,n,r){var i;null==r&&(r=0),t.options.lineWrapping||e!=n||(n="before"==(e=e.ch?te(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e).sticky?te(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var s=!1,a=Wn(t,e),l=n&&n!=e?Wn(t,n):a,c=Br(t,i={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r}),h=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=c.scrollTop&&(Nr(t,c.scrollTop),Math.abs(t.doc.scrollTop-h)>1&&(s=!0)),null!=c.scrollLeft&&(Ur(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-u)>1&&(s=!0)),!s)break}return i}(e,ae(r,t.scrollToPos.from),ae(r,t.scrollToPos.to),t.scrollToPos.margin));var i=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(i)for(var s=0;s<i.length;++s)i[s].lines.length||pt(i[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&pt(o[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&pt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Zr(t,e){if(t.curOp)return e();Yr(t);try{return e()}finally{Wr(t)}}function ti(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Yr(t);try{return e.apply(t,arguments)}finally{Wr(t)}}}function ei(t){return function(){if(this.curOp)return t.apply(this,arguments);Yr(this);try{return t.apply(this,arguments)}finally{Wr(this)}}}function ni(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Yr(e);try{return t.apply(this,arguments)}finally{Wr(e)}}}function ri(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,D(ii,t))}function ii(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=de(t,e.highlightFrontier),i=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(r.line>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength?Ht(e.mode,r.state):null,l=ue(t,o,r,!0);a&&(r.state=a),o.styles=l.styles;var c=o.styleClasses,h=l.classes;h?o.styleClasses=h:c&&(o.styleClasses=null);for(var u=!s||s.length!=o.styles.length||c!=h&&(!c||!h||c.bgClass!=h.bgClass||c.textClass!=h.textClass),f=0;!u&&f<s.length;++f)u=s[f]!=o.styles[f];u&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=t.options.maxHighlightLength&&pe(t,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ri(t,t.options.workDelay),!0})),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),i.length&&Zr(t,(function(){for(var e=0;e<i.length;e++)fr(t,i[e],"text")}))}}var oi=function(t,e,n){var r=t.display;this.viewport=e,this.visible=kr(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=xn(t),this.force=n,this.dims=or(t),this.events=[]};function si(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return dr(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==gr(t))return!1;fi(t)&&(dr(t),e.dims=or(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),s=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),_e&&(o=je(t.doc,o),s=Fe(t.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;(function(t,e,n){var r=t.display;0==r.view.length||e>=r.viewTo||n<=r.viewFrom?(r.view=on(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=on(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(hr(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(on(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,hr(t,n)))),r.viewTo=n})(t,o,s),n.viewOffset=Ke(Yt(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var c=gr(t);if(!a&&0==c&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var h=function(t){if(t.hasFocus())return null;var e=T();if(!e||!O(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&O(t.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(t);return c>4&&(n.lineDiv.style.display="none"),function(t,e,n){var r=t.display,i=t.options.lineNumbers,o=r.lineDiv,s=o.firstChild;function a(e){var n=e.nextSibling;return l&&b&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var c=r.view,h=r.viewFrom,u=0;u<c.length;u++){var f=c[u];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;s!=f.node;)s=a(s);var d=i&&null!=e&&e<=h&&f.lineNumber;f.changes&&(F(f.changes,"gutter")>-1&&(d=!1),hn(t,f,h,n)),d&&(x(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(Zt(t.options,h)))),s=f.node.nextSibling}else{var p=mn(t,f,h,n);o.insertBefore(p,s)}h+=f.size}for(;s;)s=a(s)}(t,n.updateLineNumbers,e.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=T()&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&O(document.body,t.anchorNode)&&O(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}(h),x(n.cursorDiv),x(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,ri(t,400)),n.updateLineNumbers=null,!0}function ai(t,e){for(var n=e.viewport,r=!0;;r=!1){if(r&&t.options.lineWrapping&&e.oldDisplayWidth!=xn(t))r&&(e.visible=kr(t.display,t.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(t.doc.height+En(t.display)-kn(t),n.top)}),e.visible=kr(t.display,t.doc,n),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!si(t,e))break;Sr(t);var i=Qr(t);yr(t),Pr(t,i),hi(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function li(t,e){var n=new oi(t,e);if(si(t,n)){Sr(t),ai(t,n);var r=Qr(t);yr(t),Pr(t,r),hi(t,r),n.finish()}}function ci(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",ln(t,"gutterChanged",t)}function hi(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Sn(t)+"px"}function ui(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=sr(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function fi(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=Zt(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(B("div",[B("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ci(t.display),!0}return!1}function di(t,e){for(var n=[],r=!1,i=0;i<t.length;i++){var o=t[i],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;r=!0}n.push({className:o,style:s})}return e&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function pi(t){var e=t.gutters,n=t.gutterSpecs;x(e),t.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,s=i.style,a=e.appendChild(B("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(t.lineGutter=a,a.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",ci(t)}function gi(t){pi(t.display),ur(t),ui(t)}function yi(t,e,r,i){var o=this;this.input=r,o.scrollbarFiller=B("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=B("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=L("div",null,"CodeMirror-code"),o.selectionDiv=B("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=B("div",null,"CodeMirror-cursors"),o.measure=B("div",null,"CodeMirror-measure"),o.lineMeasure=B("div",null,"CodeMirror-measure"),o.lineSpace=L("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=L("div",[o.lineSpace],"CodeMirror-lines");o.mover=B("div",[c],null,"position: relative"),o.sizer=B("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=B("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=B("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=B("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=B("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&m||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=di(i.gutters,i.lineNumbers),pi(o),r.init(o)}oi.prototype.signal=function(t,e){mt(t,e)&&this.events.push(arguments)},oi.prototype.finish=function(){for(var t=0;t<this.events.length;t++)pt.apply(null,this.events[t])};var mi=0,bi=null;function vi(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function Ai(t){var e=vi(t);return e.x*=bi,e.y*=bi,e}function wi(t,e){var r=vi(e),i=r.x,o=r.y,s=t.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,h=a.scrollHeight>a.clientHeight;if(i&&c||o&&h){if(o&&b&&l)t:for(var f=e.target,d=s.view;f!=a;f=f.parentNode)for(var p=0;p<d.length;p++)if(d[p].node==f){t.display.currentWheelTarget=f;break t}if(i&&!n&&!u&&null!=bi)return o&&h&&Nr(t,Math.max(0,a.scrollTop+o*bi)),Ur(t,Math.max(0,a.scrollLeft+i*bi)),(!o||o&&h)&&vt(e),void(s.wheelStartX=null);if(o&&null!=bi){var g=o*bi,y=t.doc.scrollTop,m=y+s.wrapper.clientHeight;g<0?y=Math.max(0,y+g-50):m=Math.min(t.doc.height,m+g+50),li(t,{top:y,bottom:m})}mi<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=i,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var t=a.scrollLeft-s.wheelStartX,e=a.scrollTop-s.wheelStartY,n=e&&s.wheelDY&&e/s.wheelDY||t&&s.wheelDX&&t/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(bi=(bi*mi+n)/(mi+1),++mi)}}),200)):(s.wheelDX+=i,s.wheelDY+=o))}}s?bi=-.53:n?bi=15:h?bi=-.7:f&&(bi=-1/3);var _i=function(t,e){this.ranges=t,this.primIndex=e};_i.prototype.primary=function(){return this.ranges[this.primIndex]},_i.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(!ne(n.anchor,r.anchor)||!ne(n.head,r.head))return!1}return!0},_i.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Ii(re(this.ranges[e].anchor),re(this.ranges[e].head));return new _i(t,this.primIndex)},_i.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},_i.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ee(e,r.from())>=0&&ee(t,r.to())<=0)return n}return-1};var Ii=function(t,e){this.anchor=t,this.head=e};function Ei(t,e,n){var r=t&&t.options.selectionsMayTouch,i=e[n];e.sort((function(t,e){return ee(t.from(),e.from())})),n=F(e,i);for(var o=1;o<e.length;o++){var s=e[o],a=e[o-1],l=ee(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var c=oe(a.from(),s.from()),h=ie(a.to(),s.to()),u=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,e.splice(--o,2,new Ii(u?h:c,u?c:h))}}return new _i(e,n)}function Ci(t,e){return new _i([new Ii(t,e||t)],0)}function Si(t){return t.text?te(t.from.line+t.text.length-1,q(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function xi(t,e){if(ee(t,e.from)<0)return t;if(ee(t,e.to)<=0)return Si(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Si(e).ch-e.to.ch),te(n,r)}function ki(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new Ii(xi(i.anchor,e),xi(i.head,e)))}return Ei(t.cm,n,t.sel.primIndex)}function Bi(t,e,n){return t.line==e.line?te(n.line,t.ch-e.ch+n.ch):te(n.line+(t.line-e.line),t.ch)}function Li(t){t.doc.mode=jt(t.options,t.doc.modeOption),Oi(t)}function Oi(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ri(t,100),t.state.modeGen++,t.curOp&&ur(t)}function Ti(t,e){return 0==e.from.ch&&0==e.to.ch&&""==q(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Ri(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){(function(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),ke(t),Be(t,n);var i=r?r(t):1;i!=t.height&&Gt(t,i)})(t,n,i,r),ln(t,"change",t,e)}function s(t,e){for(var n=[],o=t;o<e;++o)n.push(new Ye(c[o],i(o),r));return n}var a=e.from,l=e.to,c=e.text,h=Yt(t,a.line),u=Yt(t,l.line),f=q(c),d=i(c.length-1),p=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(Ti(t,e)){var g=s(0,c.length-1);o(u,u.text,d),p&&t.remove(a.line,p),g.length&&t.insert(a.line,g)}else if(h==u)if(1==c.length)o(h,h.text.slice(0,a.ch)+f+h.text.slice(l.ch),d);else{var y=s(1,c.length-1);y.push(new Ye(f+h.text.slice(l.ch),d,r)),o(h,h.text.slice(0,a.ch)+c[0],i(0)),t.insert(a.line+1,y)}else if(1==c.length)o(h,h.text.slice(0,a.ch)+c[0]+u.text.slice(l.ch),i(0)),t.remove(a.line+1,p);else{o(h,h.text.slice(0,a.ch)+c[0],i(0)),o(u,f+u.text.slice(l.ch),d);var m=s(1,c.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,m)}ln(t,"change",t,e)}function Mi(t,e,n){!function t(r,i,o){if(r.linked)for(var s=0;s<r.linked.length;++s){var a=r.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;n&&!l||(e(a.doc,l),t(a.doc,r,l))}}}(t,null,!0)}function Ni(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,lr(t),Li(t),Di(t),t.options.lineWrapping||Ve(t),t.options.mode=e.modeOption,ur(t)}function Di(t){("rtl"==t.doc.direction?R:S)(t.display.lineDiv,"CodeMirror-rtl")}function Ui(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Qi(t,e){var n={from:re(e.from),to:Si(e),text:Wt(t,e.from,e.to)};return Ki(t,n,e.from.line,e.to.line+1),Mi(t,(function(t){return Ki(t,n,e.from.line,e.to.line+1)}),!0),n}function ji(t){for(;t.length&&q(t).ranges;)t.pop()}function Fi(t,e,n,r){var i=t.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&i.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(ji(t.done),q(t.done)):t.done.length&&!q(t.done).ranges?q(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),q(t.done)):void 0}(i,i.lastOp==r)))s=q(o.changes),0==ee(e.from,e.to)&&0==ee(e.from,s.to)?s.to=Si(e):o.changes.push(Qi(t,e));else{var l=q(i.done);for(l&&l.ranges||Hi(t.sel,i.done),o={changes:[Qi(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,s||pt(t,"historyAdded")}function Pi(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,q(i.done),e))?i.done[i.done.length-1]=e:Hi(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ji(i.undone)}function Hi(t,e){var n=q(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Ki(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),(function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o}))}function zi(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Vi(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=[],i=0;i<e.text.length;++i)r.push(zi(n[i]));return r}(t,e),r=Se(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(n[i]=s)}return n}function Yi(t,e,n){for(var r=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?_i.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],h=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var u in c)(h=u.match(/^spans_(\d+)$/))&&F(e,Number(h[1]))>-1&&(q(a)[u]=c[u],delete c[u])}}}return r}function Wi(t,e,n,r){if(r){var i=t.anchor;if(n){var o=ee(e,i)<0;o!=ee(n,i)<0?(i=e,e=n):o!=ee(e,n)<0&&(e=n)}return new Ii(i,e)}return new Ii(n||e,e)}function qi(t,e,n,r,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),Zi(t,new _i([Wi(t.sel.primary(),e,n,i)],0),r)}function Gi(t,e,n){for(var r=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)r[o]=Wi(t.sel.ranges[o],e[o],null,i);Zi(t,Ei(t.cm,r,t.sel.primIndex),n)}function $i(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,Zi(t,Ei(t.cm,i,t.sel.primIndex),r)}function Ji(t,e,n,r){Zi(t,Ci(e,n),r)}function Xi(t,e,n){var r=t.history.done,i=q(r);i&&i.ranges?(r[r.length-1]=e,to(t,e,n)):Zi(t,e,n)}function Zi(t,e,n){to(t,e,n),Pi(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function to(t,e,n){(mt(t,"beforeSelectionChange")||t.cm&&mt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new Ii(ae(t,e[n].anchor),ae(t,e[n].head))},origin:n&&n.origin};return pt(t,"beforeSelectionChange",t,r),t.cm&&pt(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?Ei(t.cm,r.ranges,r.ranges.length-1):e}(t,e,n));var r=n&&n.bias||(ee(e.primary().head,t.sel.primary().head)<0?-1:1);eo(t,ro(t,e,r,!0)),n&&!1===n.scroll||!t.cm||"nocursor"==t.cm.getOption("readOnly")||Or(t.cm)}function eo(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,yt(t.cm)),ln(t,"cursorActivity",t))}function no(t){eo(t,ro(t,t.sel,null,!1))}function ro(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=oo(t,s.anchor,a&&a.anchor,n,r),c=oo(t,s.head,a&&a.head,n,r);(i||l!=s.anchor||c!=s.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new Ii(l,c))}return i?Ei(t.cm,i,e.primIndex):e}function io(t,e,n,r,i){var o=Yt(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,h="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(h?a.to>=e.ch:a.to>e.ch))){if(i&&(pt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var u=l.find(r<0?1:-1),f=void 0;if((r<0?h:c)&&(u=so(t,u,-r,u&&u.line==e.line?o:null)),u&&u.line==e.line&&(f=ee(u,n))&&(r<0?f<0:f>0))return io(t,u,e,r,i)}var d=l.find(r<0?-1:1);return(r<0?c:h)&&(d=so(t,d,r,d.line==e.line?o:null)),d?io(t,d,e,r,i):null}}return e}function oo(t,e,n,r,i){var o=r||1;return io(t,e,n,o,i)||!i&&io(t,e,n,o,!0)||io(t,e,n,-o,i)||!i&&io(t,e,n,-o,!0)||(t.cantEdit=!0,te(t.first,0))}function so(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?ae(t,te(e.line-1)):null:n>0&&e.ch==(r||Yt(t,e.line)).text.length?e.line<t.first+t.size-1?te(e.line+1,0):null:new te(e.line,e.ch+n)}function ao(t){t.setSelection(te(t.firstLine(),0),te(t.lastLine()),H)}function lo(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(e,n,i,o){e&&(r.from=ae(t,e)),n&&(r.to=ae(t,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),pt(t,"beforeChange",t,r),t.cm&&pt(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function co(t,e,n){if(t.cm){if(!t.cm.curOp)return ti(t.cm,co)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(mt(t,"beforeChange")||t.cm&&mt(t.cm,"beforeChange"))||(e=lo(t,e,!0))){var r=we&&!n&&function(t,e,n){var r=null;if(t.iter(e.line,n.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=F(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var c=i[l];if(!(ee(c.to,a.from)<0||ee(c.from,a.to)>0)){var h=[l,1],u=ee(c.from,a.from),f=ee(c.to,a.to);(u<0||!s.inclusiveLeft&&!u)&&h.push({from:c.from,to:a.from}),(f>0||!s.inclusiveRight&&!f)&&h.push({from:a.to,to:c.to}),i.splice.apply(i,h),l+=h.length-3}}return i}(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)ho(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text,origin:e.origin});else ho(t,e)}}function ho(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ee(e.from,e.to)){var n=ki(t,e);Fi(t,e,n,t.cm?t.cm.curOp.id:NaN),po(t,e,n,Se(t,e));var r=[];Mi(t,(function(t,n){n||-1!=F(r,t.history)||(bo(t.history,e),r.push(t.history)),po(t,e,null,Se(t,e))}))}}function uo(t,e,n){var r=t.cm&&t.cm.state.suppressEdits;if(!r||n){for(var i,o=t.history,s=t.sel,a="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,c=0;c<a.length&&(i=a[c],n?!i.ranges||i.equals(t.sel):i.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=a.pop()).ranges){if(r)return void a.push(i);break}if(Hi(i,l),n&&!i.equals(t.sel))return void Zi(t,i,{clearRedo:!1});s=i}var h=[];Hi(s,l),l.push({changes:h,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var u=mt(t,"beforeChange")||t.cm&&mt(t.cm,"beforeChange"),f=function(n){var r=i.changes[n];if(r.origin=e,u&&!lo(t,r,!1))return a.length=0,{};h.push(Qi(t,r));var o=n?ki(t,r):q(a);po(t,r,o,Vi(t,r)),!n&&t.cm&&t.cm.scrollIntoView({from:r.from,to:Si(r)});var s=[];Mi(t,(function(t,e){e||-1!=F(s,t.history)||(bo(t.history,r),s.push(t.history)),po(t,r,null,Vi(t,r))}))},d=i.changes.length-1;d>=0;--d){var p=f(d);if(p)return p.v}}}}function fo(t,e){if(0!=e&&(t.first+=e,t.sel=new _i(G(t.sel.ranges,(function(t){return new Ii(te(t.anchor.line+e,t.anchor.ch),te(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){ur(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)fr(t.cm,r,"gutter")}}function po(t,e,n,r){if(t.cm&&!t.cm.curOp)return ti(t.cm,po)(t,e,n,r);if(e.to.line<t.first)fo(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);fo(t,i),e={from:te(t.first,0),to:te(e.to.line+i,e.to.ch),text:[q(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:te(o,Yt(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Wt(t,e.from,e.to),n||(n=ki(t,e)),t.cm?function(t,e,n){var r=t.doc,i=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=$t(Qe(Yt(r,o.line))),r.iter(l,s.line+1,(function(t){if(t==i.maxLine)return a=!0,!0}))),r.sel.contains(e.from,e.to)>-1&&yt(t),Ri(r,e,n,ar(t)),t.options.lineWrapping||(r.iter(l,o.line+e.text.length,(function(t){var e=ze(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,a=!1)})),a&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,r=e-1;r>n;r--){var i=Yt(t,r).stateAfter;if(i&&(!(i instanceof ce)||r+i.lookAhead<e)){n=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(r,o.line),ri(t,400);var c=e.text.length-(s.line-o.line)-1;e.full?ur(t):o.line!=s.line||1!=e.text.length||Ti(t.doc,e)?ur(t,o.line,s.line+1,c):fr(t,o.line,"text");var h=mt(t,"changes"),u=mt(t,"change");if(u||h){var f={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};u&&ln(t,"change",t,f),h&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}(t.cm,e,r):Ri(t,e,r),to(t,n,H),t.cantEdit&&oo(t,te(t.firstLine(),0))&&(t.cantEdit=!1)}}function go(t,e,n,r,i){var o;r||(r=n),ee(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof e&&(e=t.splitLines(e)),co(t,{from:n,to:r,text:e,origin:i})}function yo(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function mo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],s=!0;if(o.ranges){o.copied||((o=t[i]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)yo(o.ranges[a].anchor,e,n,r),yo(o.ranges[a].head,e,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=te(c.from.line+r,c.from.ch),c.to=te(c.to.line+r,c.to.ch);else if(e<=c.to.line){s=!1;break}}s||(t.splice(0,i+1),i=0)}}}function bo(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;mo(t.done,n,r,i),mo(t.undone,n,r,i)}function vo(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=Yt(t,se(t,e)):i=$t(e),null==i?null:(r(o,i)&&t.cm&&fr(t.cm,i,n),o)}function Ao(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function wo(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}Ii.prototype.from=function(){return oe(this.anchor,this.head)},Ii.prototype.to=function(){return ie(this.anchor,this.head)},Ii.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Ao.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var i=this.lines[n];this.height-=i.height,We(i),ln(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},wo.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(t<i){var o=Math.min(e,i-t),s=r.height;if(r.removeInner(t,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Ao))){var a=[];this.collapse(a),this.children=[new Ao(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,a=s;a<i.lines.length;){var l=new Ao(i.lines.slice(a,a+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new wo(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=F(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var r=new wo(t.children);r.parent=t,t.children=[r,e],t=r}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var s=Math.min(e,o-t);if(i.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var _o=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};function Io(t,e,n){Ke(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Lr(t,n)}_o.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=$t(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=wn(this);Gt(n,Math.max(0,n.height-o)),t&&(Zr(t,(function(){Io(t,n,-o),fr(t,r,"widget")})),ln(t,"lineWidgetCleared",t,this,r))}},_o.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=wn(this)-e;i&&(Pe(this.doc,r)||Gt(r,r.height+i),n&&Zr(n,(function(){n.curOp.forceUpdate=!0,Io(n,r,i),ln(n,"lineWidgetChanged",n,t,$t(r))})))},bt(_o);var Eo=0,Co=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Eo};function So(t,e,n,r,i){if(r&&r.shared)return function(t,e,n,r,i){(r=U(r)).shared=!1;var o=[So(t,e,n,r,i)],s=o[0],a=r.widgetNode;return Mi(t,(function(t){a&&(r.widgetNode=a.cloneNode(!0)),o.push(So(t,ae(t,e),ae(t,n),r,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=q(o)})),new xo(o,s)}(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return ti(t.cm,So)(t,e,n,r,i);var o=new Co(t,i),s=ee(e,n);if(r&&U(r,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=L("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Ue(t,e.line,e,n,o)||e.line!=n.line&&Ue(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");_e=!0}o.addToHistory&&Fi(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,n.line+1,(function(t){c&&o.collapsed&&!c.options.lineWrapping&&Qe(t)==c.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&Gt(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new Ie(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&t.iter(e.line,n.line+1,(function(e){Pe(t,e)&&Gt(e,0)})),o.clearOnEnter&&ut(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(we=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++Eo,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)ur(c,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var h=e.line;h<=n.line;h++)fr(c,h,"text");o.atomic&&no(c.doc),ln(c,"markerAdded",c,o)}return o}Co.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Yr(t),mt(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Ee(s.markedSpans,this);t&&!this.collapsed?fr(t,$t(s),"text"):t&&(null!=a.to&&(i=$t(s)),null!=a.from&&(r=$t(s))),s.markedSpans=Ce(s.markedSpans,a),null==a.from&&this.collapsed&&!Pe(this.doc,s)&&t&&Gt(s,rr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Qe(this.lines[l]),h=ze(c);h>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=h,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&ur(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&no(t.doc)),t&&ln(t,"markerCleared",t,this,r,i),e&&Wr(t),this.parent&&this.parent.clear()}},Co.prototype.find=function(t,e){var n,r;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],s=Ee(o.markedSpans,this);if(null!=s.from&&(n=te(e?o:$t(o),s.from),-1==t))return n;if(null!=s.to&&(r=te(e?o:$t(o),s.to),1==t))return r}return n&&{from:n,to:r}},Co.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,r=this.doc.cm;e&&r&&Zr(r,(function(){var i=e.line,o=$t(e.line),s=On(r,o);if(s&&(Qn(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Pe(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var l=wn(n)-a;l&&Gt(i,i.height+l)}ln(r,"markerChanged",r,t)}))},Co.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=F(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Co.prototype.detachLine=function(t){if(this.lines.splice(F(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},bt(Co);var xo=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function ko(t){return t.findMarks(te(t.first,0),t.clipPos(te(t.lastLine())),(function(t){return t.parent}))}function Bo(t){for(var e=function(e){var n=t[e],r=[n.primary.doc];Mi(n.primary.doc,(function(t){return r.push(t)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==F(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<t.length;n++)e(n)}xo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();ln(this,"clear")}},xo.prototype.find=function(t,e){return this.primary.find(t,e)},bt(xo);var Lo=0,Oo=function(t,e,n,r,i){if(!(this instanceof Oo))return new Oo(t,e,n,r,i);null==n&&(n=0),wo.call(this,[new Ao([new Ye("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=te(n,0);this.sel=Ci(o),this.history=new Ui(null),this.id=++Lo,this.modeOption=e,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Ri(this,{from:o,to:o,text:t}),Zi(this,Ci(o),H)};Oo.prototype=J(wo.prototype,{constructor:Oo,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=qt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:ni((function(t){var e=te(this.first,0),n=this.first+this.size-1;co(this,{from:e,to:te(n,Yt(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Tr(this.cm,0,0),Zi(this,Ci(e),H)})),replaceRange:function(t,e,n,r){go(this,t,e=ae(this,e),n=n?ae(this,n):e,r)},getRange:function(t,e,n){var r=Wt(this,ae(this,t),ae(this,e));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(Xt(this,t))return Yt(this,t)},getLineNumber:function(t){return $t(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Yt(this,t)),Qe(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return ae(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ni((function(t,e,n){Ji(this,ae(this,"number"==typeof t?te(t,e||0):t),null,n)})),setSelection:ni((function(t,e,n){Ji(this,ae(this,t),ae(this,e||t),n)})),extendSelection:ni((function(t,e,n){qi(this,ae(this,t),e&&ae(this,e),n)})),extendSelections:ni((function(t,e){Gi(this,le(this,t),e)})),extendSelectionsBy:ni((function(t,e){Gi(this,le(this,G(this.sel.ranges,t)),e)})),setSelections:ni((function(t,e,n){if(t.length){for(var r=[],i=0;i<t.length;i++)r[i]=new Ii(ae(this,t[i].anchor),ae(this,t[i].head||t[i].anchor));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Zi(this,Ei(this.cm,r,e),n)}})),addSelection:ni((function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new Ii(ae(this,t),ae(this,e||t))),Zi(this,Ei(this.cm,r,r.length-1),n)})),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=Wt(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Wt(this,n[r].from(),n[r].to());!1!==t&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:ni((function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];r[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:n}}for(var a=e&&"end"!=e&&function(t,e,n){for(var r=[],i=te(t.first,0),o=i,s=0;s<e.length;s++){var a=e[s],l=Bi(a.from,i,o),c=Bi(Si(a),i,o);if(i=a.to,o=c,"around"==n){var h=t.sel.ranges[s],u=ee(h.head,h.anchor)<0;r[s]=new Ii(u?c:l,u?l:c)}else r[s]=new Ii(l,l)}return new _i(r,t.sel.primIndex)}(this,r,e),l=r.length-1;l>=0;l--)co(this,r[l]);a?Xi(this,a):this.cm&&Or(this.cm)})),undo:ni((function(){uo(this,"undo")})),redo:ni((function(){uo(this,"redo")})),undoSelection:ni((function(){uo(this,"undo",!0)})),redoSelection:ni((function(){uo(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){var t=this;this.history=new Ui(this.history),Mi(this,(function(e){return e.history=t.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Yi(this.history.done),undone:Yi(this.history.undone)}},setHistory:function(t){var e=this.history=new Ui(this.history);e.done=Yi(t.done.slice(0),null,!0),e.undone=Yi(t.undone.slice(0),null,!0)},setGutterMarker:ni((function(t,e,n){return vo(this,t,"gutter",(function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&et(r)&&(t.gutterMarkers=null),!0}))})),clearGutter:ni((function(t){var e=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[t]&&vo(e,n,"gutter",(function(){return n.gutterMarkers[t]=null,et(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!Xt(this,t))return null;if(e=t,!(t=Yt(this,t)))return null}else if(null==(e=$t(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:ni((function(t,e,n){return vo(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(E(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0}))})),removeLineClass:ni((function(t,e,n){return vo(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(E(n));if(!o)return!1;var s=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0}))})),addLineWidget:ni((function(t,e,n){return function(t,e,n,r){var i=new _o(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),vo(t,e,"widget",(function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!Pe(t,e)){var r=Ke(e)<t.scrollTop;Gt(e,e.height+wn(i)),r&&Lr(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&ln(o,"lineWidgetAdded",o,i,"number"==typeof e?e:$t(e)),i}(this,t,e,n)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return So(this,ae(this,t),ae(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return So(this,t=ae(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Yt(this,(t=ae(this,t)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=ae(this,t),e=ae(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&i==t.line&&t.ch>=l.to||null==l.from&&i!=t.line||null!=l.from&&i==e.line&&l.from>=e.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var t=[];return this.iter((function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)})),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>t)return e=t,!0;t-=o,++n})),ae(this,te(n,e))},indexFromPos:function(t){var e=(t=ae(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+n})),e},copy:function(t){var e=new Oo(qt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new Oo(qt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),s=t.clipPos(i.to);if(ee(o,s)){var a=So(t,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}(r,ko(this)),r},unlinkDoc:function(t){if(t instanceof xs&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Bo(ko(this));break}if(t.history==this.history){var n=[t.id];Mi(t,(function(t){return n.push(t.id)}),!0),t.history=new Ui(null),t.history.done=Yi(this.history.done,n),t.history.undone=Yi(this.history.undone,n)}},iterLinkedDocs:function(t){Mi(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Ot(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ni((function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&Zr(e=this.cm,(function(){Di(e),ur(e)})))}))}),Oo.prototype.eachLine=Oo.prototype.iter;var To=0;function Ro(t){var e=this;if(Mo(e),!gt(e,t)&&!_n(e.display,t)){vt(t),s&&(To=+new Date);var n=cr(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,l=function(){++a==i&&ti(e,(function(){var t={from:n=ae(e.doc,n),to:n,text:e.doc.splitLines(o.filter((function(t){return null!=t})).join(e.doc.lineSeparator())),origin:"paste"};co(e.doc,t),Xi(e.doc,Ci(ae(e.doc,n),ae(e.doc,Si(t))))}))()},c=function(t,n){if(e.options.allowDropFileTypes&&-1==F(e.options.allowDropFileTypes,t.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var t=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)||(o[n]=t),l()},r.readAsText(t)}},h=0;h<r.length;h++)c(r[h],h);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var u=t.dataTransfer.getData("Text");if(u){var f;if(e.state.draggingText&&!e.state.draggingText.copy&&(f=e.listSelections()),to(e.doc,Ci(n,n)),f)for(var d=0;d<f.length;++d)go(e.doc,"",f[d].anchor,f[d].head,"drag");e.replaceSelection(u,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Mo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function No(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<e.length;r++){var i=e[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var e=0;e<n.length;e++)t(n[e])}))}}var Do=!1;function Uo(){var t;Do||(ut(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,No(Qo)}),100))})),ut(window,"blur",(function(){return No(Cr)})),Do=!0)}function Qo(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var jo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Fo=0;Fo<10;Fo++)jo[Fo+48]=jo[Fo+96]=String(Fo);for(var Po=65;Po<=90;Po++)jo[Po]=String.fromCharCode(Po);for(var Ho=1;Ho<=12;Ho++)jo[Ho+111]=jo[Ho+63235]="F"+Ho;var Ko={};function zo(t){var e,n,r,i,o=t.split(/-(?!$)/);t=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Vo(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=G(n.split(" "),zo),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var c in e)t[c]=e[c];return t}function Yo(t,e,n,r){var i=(e=$o(e)).call?e.call(t,r):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Yo(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var s=Yo(t,e.fallthrough[o],n,r);if(s)return s}}}function Wo(t){var e="string"==typeof t?t:jo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function qo(t,e,n){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(_?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(_?e.ctrlKey:e.metaKey)&&"Mod"!=r&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function Go(t,e){if(u&&34==t.keyCode&&t.char)return!1;var n=jo[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),qo(n,t,e))}function $o(t){return"string"==typeof t?Ko[t]:t}function Jo(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&ee(o.from,q(r).to)<=0;){var s=r.pop();if(ee(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}Zr(t,(function(){for(var e=r.length-1;e>=0;e--)go(t.doc,"",r[e].from,r[e].to,"+delete");Or(t)}))}function Xo(t,e,n){var r=it(t.text,e+n,n);return r<0||r>t.text.length?null:r}function Zo(t,e,n){var r=Xo(t,e.ch,n);return null==r?null:new te(e.line,r,n<0?"after":"before")}function ts(t,e,n,r,i){if(t){"rtl"==e.doc.direction&&(i=-i);var o=ct(n,e.doc.direction);if(o){var s,a=i<0?q(o):o[0],l=i<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var c=Tn(e,n);s=i<0?n.text.length-1:0;var h=Rn(e,c,s).top;s=ot((function(t){return Rn(e,c,t).top==h}),i<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Xo(n,s,1))}else s=i<0?a.to:a.from;return new te(r,s,l)}}return new te(r,i<0?n.text.length:0,i<0?"before":"after")}Ko.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ko.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ko.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ko.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ko.default=b?Ko.macDefault:Ko.pcDefault;var es={selectAll:ao,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),H)},killLine:function(t){return Jo(t,(function(e){if(e.empty()){var n=Yt(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:te(e.head.line+1,0)}:{from:e.head,to:te(e.head.line,n)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return Jo(t,(function(e){return{from:te(e.from().line,0),to:ae(t.doc,te(e.to().line+1,0))}}))},delLineLeft:function(t){return Jo(t,(function(t){return{from:te(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return Jo(t,(function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}}))},delWrappedLineRight:function(t){return Jo(t,(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(te(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(te(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return ns(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return rs(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return function(t,e){var n=Yt(t.doc,e),r=function(t){for(var e;e=Ne(t);)t=e.find(1,!0).line;return t}(n);return r!=n&&(e=$t(r)),ts(!0,t,n,e,-1)}(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")}),z)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")}),z)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?rs(t,e.head):r}),z)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=Q(t.getLine(o.line),o.ch,r);e.push(W(r-s%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Zr(t,(function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++)if(e[r].empty()){var i=e[r].head,o=Yt(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new te(i.line,i.ch-1)),i.ch>0)i=new te(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),te(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var s=Yt(t.doc,i.line-1).text;s&&(i=new te(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),te(i.line-1,s.length-1),i,"+transpose"))}n.push(new Ii(i,i))}t.setSelections(n)}))},newlineAndIndent:function(t){return Zr(t,(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);Or(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function ns(t,e){var n=Yt(t.doc,e),r=Qe(n);return r!=n&&(e=$t(r)),ts(!0,t,r,e,1)}function rs(t,e){var n=ns(t,e.line),r=Yt(t.doc,n.line),i=ct(r,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;return te(n.line,s?0:o,n.sticky)}return n}function is(t,e,n){if("string"==typeof e&&!(e=es[e]))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=P}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}var os=new j;function ss(t,e,n,r){var i=t.state.keySeq;if(i){if(Wo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:os.set(50,(function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())})),as(t,i+" "+e,n,r))return!0}return as(t,e,n,r)}function as(t,e,n,r){var i=function(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=Yo(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&Yo(e,t.options.extraKeys,n,t)||Yo(e,t.options.keyMap,n,t)}(t,e,r);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&ln(t,"keyHandled",t,e,n),"handled"!=i&&"multi"!=i||(vt(n),wr(t)),!!i}function ls(t,e){var n=Go(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?ss(t,"Shift-"+n,e,(function(e){return is(t,e,!0)}))||ss(t,n,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return is(t,e)})):ss(t,n,e,(function(e){return is(t,e)})))}var cs=null;function hs(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||(e.curOp.focus=T(),gt(e,t)))){s&&a<11&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.display.shift=16==r||t.shiftKey;var i=ls(e,t);u&&(cs=i?r:null,i||88!=r||Rt||!(b?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),n&&!b&&!i&&46==r&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(S(e,"CodeMirror-crosshair"),dt(document,"keyup",n),dt(document,"mouseover",n))}R(e,"CodeMirror-crosshair"),ut(document,"keyup",n),ut(document,"mouseover",n)}(e)}}function us(t){16==t.keyCode&&(this.doc.sel.shift=!1),gt(this,t)}function fs(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||_n(e.display,t)||gt(e,t)||t.ctrlKey&&!t.altKey||b&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(u&&n==cs)return cs=null,void vt(t);if(!u||t.which&&!(t.which<10)||!ls(e,t)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(t,e,n){return ss(t,"'"+n+"'",e,(function(e){return is(t,e,!0)}))}(e,t,i)||e.display.input.onKeyPress(t))}}}var ds,ps,gs=function(t,e,n){this.time=t,this.pos=e,this.button=n};function ys(t){var e=this,n=e.display;if(!(gt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,_n(n,t))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!vs(e,t)){var r=cr(e,t),i=Et(t),o=r?function(t,e){var n=+new Date;return ps&&ps.compare(n,t,e)?(ds=ps=null,"triple"):ds&&ds.compare(n,t,e)?(ps=new gs(n,t,e),ds=null,"double"):(ds=new gs(n,t,e),ps=null,"single")}(r,i):"single";window.focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),r&&function(t,e,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),ss(t,qo(o=(1==e?"Left":2==e?"Middle":"Right")+o,i),i,(function(e){if("string"==typeof e&&(e=es[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,n)!=P}finally{t.state.suppressEdits=!1}return r}))}(e,i,r,o,t)||(1==i?r?function(t,e,n,r){s?setTimeout(D(_r,t),0):t.curOp.focus=T();var i,o=function(t,e,n){var r=t.getOption("configureMouse"),i=r?r(t,e,n):{};if(null==i.unit){var o=v?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=b?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(b?n.altKey:n.ctrlKey)),i}(t,n,r),c=t.doc.sel;t.options.dragDrop&&xt&&!t.isReadOnly()&&"single"==n&&(i=c.contains(e))>-1&&(ee((i=c.ranges[i]).from(),e)<0||e.xRel>0)&&(ee(i.to(),e)>0||e.xRel<0)?function(t,e,n,r){var i=t.display,o=!1,c=ti(t,(function(e){l&&(i.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Ir(t)),dt(i.wrapper.ownerDocument,"mouseup",c),dt(i.wrapper.ownerDocument,"mousemove",h),dt(i.scroller,"dragstart",u),dt(i.scroller,"drop",c),o||(vt(e),r.addNew||qi(t.doc,n,null,null,r.extend),l&&!f||s&&9==a?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),h=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},u=function(){return o=!0};l&&(i.scroller.draggable=!0),t.state.draggingText=c,c.copy=!r.moveOnDrag,ut(i.wrapper.ownerDocument,"mouseup",c),ut(i.wrapper.ownerDocument,"mousemove",h),ut(i.scroller,"dragstart",u),ut(i.scroller,"drop",c),t.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}(t,r,e,o):function(t,e,n,r){s&&Ir(t);var i=t.display,o=t.doc;vt(e);var a,l,c=o.sel,h=c.ranges;if(r.addNew&&!r.extend?(l=o.sel.contains(n),a=l>-1?h[l]:new Ii(n,n)):(a=o.sel.primary(),l=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new Ii(n,n)),n=cr(t,e,!0,!0),l=-1;else{var u=ms(t,n,r.unit);a=r.extend?Wi(a,u.anchor,u.head,r.extend):u}r.addNew?-1==l?(l=h.length,Zi(o,Ei(t,h.concat([a]),l),{scroll:!1,origin:"*mouse"})):h.length>1&&h[l].empty()&&"char"==r.unit&&!r.extend?(Zi(o,Ei(t,h.slice(0,l).concat(h.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):$i(o,l,a,K):(l=0,Zi(o,new _i([a],0),K),c=o.sel);var f=n;function d(e){if(0!=ee(f,e))if(f=e,"rectangle"==r.unit){for(var i=[],s=t.options.tabSize,h=Q(Yt(o,n.line).text,n.ch,s),u=Q(Yt(o,e.line).text,e.ch,s),d=Math.min(h,u),p=Math.max(h,u),g=Math.min(n.line,e.line),y=Math.min(t.lastLine(),Math.max(n.line,e.line));g<=y;g++){var m=Yt(o,g).text,b=V(m,d,s);d==p?i.push(new Ii(te(g,b),te(g,b))):m.length>b&&i.push(new Ii(te(g,b),te(g,V(m,p,s))))}i.length||i.push(new Ii(n,n)),Zi(o,Ei(t,c.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var v,A=a,w=ms(t,e,r.unit),_=A.anchor;ee(w.anchor,_)>0?(v=w.head,_=oe(A.from(),w.anchor)):(v=w.anchor,_=ie(A.to(),w.head));var I=c.ranges.slice(0);I[l]=function(t,e){var n=e.anchor,r=e.head,i=Yt(t.doc,n.line);if(0==ee(n,r)&&n.sticky==r.sticky)return e;var o=ct(i);if(!o)return e;var s=at(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return e;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return e;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var h=at(o,r.ch,r.sticky),u=h-s||(r.ch-n.ch)*(1==a.level?-1:1);l=h==c-1||h==c?u<0:u>0}var f=o[c+(l?-1:0)],d=l==(1==f.level),p=d?f.from:f.to,g=d?"after":"before";return n.ch==p&&n.sticky==g?e:new Ii(new te(n.line,p,g),r)}(t,new Ii(ae(o,_),v)),Zi(o,Ei(t,I,l),K)}}var p=i.wrapper.getBoundingClientRect(),g=0;function y(e){var n=++g,s=cr(t,e,!0,"rectangle"==r.unit);if(s)if(0!=ee(s,f)){t.curOp.focus=T(),d(s);var a=kr(i,o);(s.line>=a.to||s.line<a.from)&&setTimeout(ti(t,(function(){g==n&&y(e)})),150)}else{var l=e.clientY<p.top?-20:e.clientY>p.bottom?20:0;l&&setTimeout(ti(t,(function(){g==n&&(i.scroller.scrollTop+=l,y(e))})),50)}}function m(e){t.state.selectingText=!1,g=1/0,e&&(vt(e),i.input.focus()),dt(i.wrapper.ownerDocument,"mousemove",b),dt(i.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var b=ti(t,(function(t){0!==t.buttons&&Et(t)?y(t):m(t)})),v=ti(t,m);t.state.selectingText=v,ut(i.wrapper.ownerDocument,"mousemove",b),ut(i.wrapper.ownerDocument,"mouseup",v)}(t,r,e,o)}(e,r,o,t):It(t)==n.scroller&&vt(t):2==i?(r&&qi(e.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(I?e.display.input.onContextMenu(t):Ir(e)))}}function ms(t,e,n){if("char"==n)return new Ii(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new Ii(te(e.line,0),ae(t.doc,te(e.line+1,0)));var r=n(t,e);return new Ii(r.from,r.to)}function bs(t,e,n,r){var i,o;if(e.touches)i=e.touches[0].clientX,o=e.touches[0].clientY;else try{i=e.clientX,o=e.clientY}catch(t){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&vt(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!mt(t,n))return wt(e);o-=a.top-s.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i)return pt(t,n,t,Jt(t.doc,o),t.display.gutterSpecs[l].className,e),wt(e)}}function vs(t,e){return bs(t,e,"gutterClick",!0)}function As(t,e){_n(t.display,e)||function(t,e){return!!mt(t,"gutterContextMenu")&&bs(t,e,"gutterContextMenu",!1)}(t,e)||gt(t,e,"contextmenu")||I||t.display.input.onContextMenu(e)}function ws(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Fn(t)}gs.prototype.compare=function(t,e,n){return this.time+400>t&&0==ee(e,this.pos)&&n==this.button};var _s={toString:function(){return"CodeMirror.Init"}},Is={},Es={};function Cs(t,e,n){if(!e!=!(n&&n!=_s)){var r=t.display.dragFunctions,i=e?ut:dt;i(t.display.scroller,"dragstart",r.start),i(t.display.scroller,"dragenter",r.enter),i(t.display.scroller,"dragover",r.over),i(t.display.scroller,"dragleave",r.leave),i(t.display.scroller,"drop",r.drop)}}function Ss(t){t.options.lineWrapping?(R(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(S(t.display.wrapper,"CodeMirror-wrap"),Ve(t)),lr(t),ur(t),Fn(t),setTimeout((function(){return Pr(t)}),100)}function xs(t,e){var n=this;if(!(this instanceof xs))return new xs(t,e);this.options=e=e?U(e):{},U(Is,e,!1);var r=e.value;"string"==typeof r?r=new Oo(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var i=new xs.inputStyles[e.inputStyle](this),o=this.display=new yi(t,r,i,e);for(var c in o.wrapper.CodeMirror=this,ws(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),zr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},e.autofocus&&!m&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(t){var e=t.display;ut(e.scroller,"mousedown",ti(t,ys)),ut(e.scroller,"dblclick",s&&a<11?ti(t,(function(e){if(!gt(t,e)){var n=cr(t,e);if(n&&!vs(t,e)&&!_n(t.display,e)){vt(e);var r=t.findWordAt(n);qi(t.doc,r.anchor,r.head)}}})):function(e){return gt(t,e)||vt(e)}),ut(e.scroller,"contextmenu",(function(e){return As(t,e)})),ut(e.input.getField(),"contextmenu",(function(n){e.scroller.contains(n.target)||As(t,n)}));var n,r={end:0};function i(){e.activeTouch&&(n=setTimeout((function(){return e.activeTouch=null}),1e3),(r=e.activeTouch).end=+new Date)}function o(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function l(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}ut(e.scroller,"touchstart",(function(i){if(!gt(t,i)&&!o(i)&&!vs(t,i)){e.input.ensurePolled(),clearTimeout(n);var s=+new Date;e.activeTouch={start:s,moved:!1,prev:s-r.end<=300?r:null},1==i.touches.length&&(e.activeTouch.left=i.touches[0].pageX,e.activeTouch.top=i.touches[0].pageY)}})),ut(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),ut(e.scroller,"touchend",(function(n){var r=e.activeTouch;if(r&&!_n(e,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,s=t.coordsChar(e.activeTouch,"page");o=!r.prev||l(r,r.prev)?new Ii(s,s):!r.prev.prev||l(r,r.prev.prev)?t.findWordAt(s):new Ii(te(s.line,0),ae(t.doc,te(s.line+1,0))),t.setSelection(o.anchor,o.head),t.focus(),vt(n)}i()})),ut(e.scroller,"touchcancel",i),ut(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(Nr(t,e.scroller.scrollTop),Ur(t,e.scroller.scrollLeft,!0),pt(t,"scroll",t))})),ut(e.scroller,"mousewheel",(function(e){return wi(t,e)})),ut(e.scroller,"DOMMouseScroll",(function(e){return wi(t,e)})),ut(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){gt(t,e)||_t(e)},over:function(e){gt(t,e)||(function(t,e){var n=cr(t,e);if(n){var r=document.createDocumentFragment();br(t,n,r),t.display.dragCursor||(t.display.dragCursor=B("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),k(t.display.dragCursor,r)}}(t,e),_t(e))},start:function(e){return function(t,e){if(s&&(!t.state.draggingText||+new Date-To<100))_t(e);else if(!gt(t,e)&&!_n(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!f)){var n=B("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),u&&n.parentNode.removeChild(n)}}(t,e)},drop:ti(t,Ro),leave:function(e){gt(t,e)||Mo(t)}};var c=e.input.getField();ut(c,"keyup",(function(e){return us.call(t,e)})),ut(c,"keydown",ti(t,hs)),ut(c,"keypress",ti(t,fs)),ut(c,"focus",(function(e){return Er(t,e)})),ut(c,"blur",(function(e){return Cr(t,e)}))}(this),Uo(),Yr(this),this.curOp.forceUpdate=!0,Ni(this,r),e.autofocus&&!m||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Er(n)}),20):Cr(this),Es)Es.hasOwnProperty(c)&&Es[c](this,e[c],_s);fi(this),e.finishInit&&e.finishInit(this);for(var h=0;h<ks.length;++h)ks[h](this);Wr(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}xs.defaults=Is,xs.optionHandlers=Es;var ks=[];function Bs(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=de(t,e).state:n="prev");var s=t.options.tabSize,a=Yt(o,e),l=Q(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,h=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(i,a.text.slice(h.length),a.text))==P||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?Q(Yt(o,e-1).text,null,s):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var u="",f=0;if(t.options.indentWithTabs)for(var d=Math.floor(c/s);d;--d)f+=s,u+="\t";if(f<c&&(u+=W(c-f)),u!=h)return go(o,u,te(e,0),te(e,h.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==e&&g.head.ch<h.length){var y=te(e,h.length);$i(o,p,new Ii(y,y));break}}}xs.defineInitHook=function(t){return ks.push(t)};var Ls=null;function Os(t){Ls=t}function Ts(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var s=+new Date-200,a="paste"==i||t.state.pasteIncoming>s,l=Ot(e),c=null;if(a&&r.ranges.length>1)if(Ls&&Ls.text.join("\n")==e){if(r.ranges.length%Ls.text.length==0){c=[];for(var h=0;h<Ls.text.length;h++)c.push(o.splitLines(Ls.text[h]))}}else l.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(c=G(l,(function(t){return[t]})));for(var u=t.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var d=r.ranges[f],p=d.from(),g=d.to();d.empty()&&(n&&n>0?p=te(p.line,p.ch-n):t.state.overwrite&&!a?g=te(g.line,Math.min(Yt(o,g.line).text.length,g.ch+q(l).length)):a&&Ls&&Ls.lineWise&&Ls.text.join("\n")==l.join("\n")&&(p=g=te(p.line,0)));var y={from:p,to:g,text:c?c[f%c.length]:l,origin:i||(a?"paste":t.state.cutIncoming>s?"cut":"+input")};co(t.doc,y),ln(t,"inputRead",t,y)}e&&!a&&Ms(t,e),Or(t),t.curOp.updateInput<2&&(t.curOp.updateInput=u),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Rs(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Zr(e,(function(){return Ts(e,n,0,null,"paste")})),!0}function Ms(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Bs(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Yt(t.doc,i.head.line).text.slice(0,i.head.ch))&&(s=Bs(t,i.head.line,"smart"));s&&ln(t,"electricInput",t,i.head.line)}}}function Ns(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:te(i,0),head:te(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function Ds(t,e,n,r){t.setAttribute("autocorrect",n?"":"off"),t.setAttribute("autocapitalize",r?"":"off"),t.setAttribute("spellcheck",!!e)}function Us(){var t=B("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=B("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),Ds(t),e}function Qs(t,e,n,r,i){var o=e,s=n,a=Yt(t,e.line),l=i&&"rtl"==t.direction?-n:n;function c(o){var s,c;if("codepoint"==r){var h=a.text.charCodeAt(e.ch+(n>0?0:-1));if(isNaN(h))s=null;else{var u=n>0?h>=55296&&h<56320:h>=56320&&h<57343;s=new te(e.line,Math.max(0,Math.min(a.text.length,e.ch+n*(u?2:1))),-n)}}else s=i?function(t,e,n,r){var i=ct(e,t.doc.direction);if(!i)return Zo(e,n,r);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=at(i,n.ch,n.sticky),s=i[o];if("ltr"==t.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return Zo(e,n,r);var a,l=function(t,n){return Xo(e,t instanceof te?t.ch:t,n)},c=function(n){return t.options.lineWrapping?(a=a||Tn(t,e),Xn(t,e,a,n)):{begin:0,end:e.text.length}},h=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==s.level){var u=1==s.level==r<0,f=l(n,u?1:-1);if(null!=f&&(u?f<=s.to&&f<=h.end:f>=s.from&&f>=h.begin)){var d=u?"before":"after";return new te(n.line,f,d)}}var p=function(t,e,r){for(var o=function(t,e){return e?new te(n.line,l(t,1),"before"):new te(n.line,t,"after")};t>=0&&t<i.length;t+=e){var s=i[t],a=e>0==(1!=s.level),c=a?r.begin:l(r.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),r.begin<=c&&c<r.end)return o(c,a)}},g=p(o+r,r,h);if(g)return g;var y=r>0?h.end:l(h.begin,-1);return null==y||r>0&&y==e.text.length||!(g=p(r>0?0:i.length-1,r,c(y)))?null:g}(t.cm,a,e,n):Zo(a,e,n);if(null==s){if(o||((c=e.line+l)<t.first||c>=t.first+t.size||(e=new te(c,e.ch,e.sticky),!(a=Yt(t,c)))))return!1;e=ts(i,t.cm,a,e.line,l)}else e=s;return!0}if("char"==r||"codepoint"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var h=null,u="group"==r,f=t.cm&&t.cm.getHelper(e,"wordChars"),d=!0;!(n<0)||c(!d);d=!1){var p=a.text.charAt(e.ch)||"\n",g=tt(p,f)?"w":u&&"\n"==p?"n":!u||/\s/.test(p)?null:"p";if(!u||d||g||(g="s"),h&&h!=g){n<0&&(n=1,c(),e.sticky="after");break}if(g&&(h=g),n>0&&!c(!d))break}var y=oo(t,e,o,s,!0);return ne(o,y)&&(y.hitSide=!0),y}function js(t,e,n,r){var i,o,s=t.doc,a=e.left;if("page"==r){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*rr(t.display),3);i=(n>0?e.bottom:e.top)+n*c}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;(o=$n(t,a,i)).outside;){if(n<0?i<=0:i>=s.height){o.hitSide=!0;break}i+=5*n}return o}var Fs=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ps(t,e){var n=On(t,e.line);if(!n||n.hidden)return null;var r=Yt(t.doc,e.line),i=Bn(n,r,e.line),o=ct(r,t.doc.direction),s="left";o&&(s=at(o,e.ch)%2?"right":"left");var a=Dn(i.map,e.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Hs(t,e){return e&&(t.bad=!0),t}function Ks(t,e,n){var r;if(e==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[n]))return Hs(t.clipPos(te(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return zs(o,e,n)}}function zs(t,e,n){var r=t.text.firstChild,i=!1;if(!e||!O(r,e))return Hs(te($t(t.line),0),!0);if(e==r&&(i=!0,e=r.childNodes[n],n=0,!e)){var o=t.rest?q(t.rest):t.line;return Hs(te($t(o),o.text.length),i)}var s=3==e.nodeType?e:null,a=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var l=t.measure,c=l.maps;function h(e,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==n){var h=$t(i<0?t.line:t.rest[i]),u=o[s]+r;return(r<0||a!=e)&&(u=o[s+(r?1:0)]),te(h,u)}}}var u=h(s,a,n);if(u)return Hs(u,i);for(var f=a.nextSibling,d=s?s.nodeValue.length-n:0;f;f=f.nextSibling){if(u=h(f,f.firstChild,0))return Hs(te(u.line,u.ch-d),i);d+=f.textContent.length}for(var p=a.previousSibling,g=n;p;p=p.previousSibling){if(u=h(p,p.firstChild,-1))return Hs(te(u.line,u.ch+g),i);g+=p.textContent.length}}Fs.prototype.init=function(t){var e=this,n=this,r=n.cm,i=n.div=t.lineDiv;function o(t){for(var e=t.target;e;e=e.parentNode){if(e==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(e.className))break}return!1}function s(t){if(o(t)&&!gt(r,t)){if(r.somethingSelected())Os({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Ns(r);Os({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation((function(){r.setSelections(e.ranges,0,H),r.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var s=Ls.text.join("\n");if(t.clipboardData.setData("Text",s),t.clipboardData.getData("Text")==s)return void t.preventDefault()}var a=Us(),l=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),l.value=Ls.text.join("\n");var c=T();N(l),setTimeout((function(){r.display.lineSpace.removeChild(a),c.focus(),c==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,Ds(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),ut(i,"paste",(function(t){!o(t)||gt(r,t)||Rs(t,r)||a<=11&&setTimeout(ti(r,(function(){return e.updateFromDOM()})),20)})),ut(i,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),ut(i,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),ut(i,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),ut(i,"touchstart",(function(){return n.forceCompositionEnd()})),ut(i,"input",(function(){e.composing||e.readFromDOMSoon()})),ut(i,"copy",s),ut(i,"cut",s)},Fs.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Fs.prototype.prepareSelection=function(){var t=mr(this.cm,!1);return t.focus=T()==this.div,t},Fs.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Fs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Fs.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),i=r.from(),o=r.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var s=Ks(e,t.anchorNode,t.anchorOffset),a=Ks(e,t.focusNode,t.focusOffset);if(!s||s.bad||!a||a.bad||0!=ee(oe(s,a),i)||0!=ee(ie(s,a),o)){var l=e.display.view,c=i.line>=e.display.viewFrom&&Ps(e,i)||{node:l[0].measure.map[2],offset:0},h=o.line<e.display.viewTo&&Ps(e,o);if(!h){var u=l[l.length-1].measure,f=u.maps?u.maps[u.maps.length-1]:u.map;h={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(c&&h){var d,p=t.rangeCount&&t.getRangeAt(0);try{d=C(c.node,c.offset,h.offset,h.node)}catch(t){}d&&(!n&&e.state.focused?(t.collapse(c.node,c.offset),d.collapsed||(t.removeAllRanges(),t.addRange(d))):(t.removeAllRanges(),t.addRange(d)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Fs.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},Fs.prototype.showMultipleSelections=function(t){k(this.cm.display.cursorDiv,t.cursors),k(this.cm.display.selectionDiv,t.selection)},Fs.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Fs.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return O(this.div,e)},Fs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&T()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Fs.prototype.blur=function(){this.div.blur()},Fs.prototype.getField=function(){return this.div},Fs.prototype.supportsTouch=function(){return!0},Fs.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Zr(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}))},Fs.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Fs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(y&&h&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ks(e,t.anchorNode,t.anchorOffset),r=Ks(e,t.focusNode,t.focusOffset);n&&r&&Zr(e,(function(){Zi(e.doc,Ci(n,r),H),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)}))}}},Fs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>r.firstLine()&&(s=te(s.line-1,Yt(r.doc,s.line-1).length)),a.ch==Yt(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=te(a.line+1,0)),s.line<i.viewFrom||a.line>i.viewTo-1)return!1;s.line==i.viewFrom||0==(t=hr(r,s.line))?(e=$t(i.view[0].line),n=i.view[0].node):(e=$t(i.view[t].line),n=i.view[t-1].node.nextSibling);var l,c,h=hr(r,a.line);if(h==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=$t(i.view[h+1].line)-1,c=i.view[h+1].node.previousSibling),!n)return!1;for(var u=r.doc.splitLines(function(t,e,n,r,i){var o="",s=!1,a=t.doc.lineSeparator(),l=!1;function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function h(t){t&&(c(),o+=t)}function u(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void h(n);var o,f=e.getAttribute("cm-marker");if(f){var d=t.findMarks(te(r,0),te(i+1,0),(y=+f,function(t){return t.id==y}));return void(d.length&&(o=d[0].find(0))&&h(Wt(t.doc,o.from,o.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&c();for(var g=0;g<e.childNodes.length;g++)u(e.childNodes[g]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),p&&(s=!0)}else 3==e.nodeType&&h(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var y}for(;u(e),e!=n;)e=e.nextSibling,l=!1;return o}(r,n,c,e,l)),f=Wt(r.doc,te(e,0),te(l,Yt(r.doc,l).text.length));u.length>1&&f.length>1;)if(q(u)==q(f))u.pop(),f.pop(),l--;else{if(u[0]!=f[0])break;u.shift(),f.shift(),e++}for(var d=0,p=0,g=u[0],y=f[0],m=Math.min(g.length,y.length);d<m&&g.charCodeAt(d)==y.charCodeAt(d);)++d;for(var b=q(u),v=q(f),A=Math.min(b.length-(1==u.length?d:0),v.length-(1==f.length?d:0));p<A&&b.charCodeAt(b.length-p-1)==v.charCodeAt(v.length-p-1);)++p;if(1==u.length&&1==f.length&&e==s.line)for(;d&&d>s.ch&&b.charCodeAt(b.length-p-1)==v.charCodeAt(v.length-p-1);)d--,p++;u[u.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),u[0]=u[0].slice(d).replace(/\u200b+$/,"");var w=te(e,d),_=te(l,f.length?q(f).length-p:0);return u.length>1||u[0]||ee(w,_)?(go(r.doc,u,w,_,"+input"),!0):void 0},Fs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Fs.prototype.reset=function(){this.forceCompositionEnd()},Fs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Fs.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},Fs.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Zr(this.cm,(function(){return ur(t.cm)}))},Fs.prototype.setUneditable=function(t){t.contentEditable="false"},Fs.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||ti(this.cm,Ts)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Fs.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Fs.prototype.onContextMenu=function(){},Fs.prototype.resetPosition=function(){},Fs.prototype.needsContentAttribute=!0;var Vs=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null};Vs.prototype.init=function(t){var e=this,n=this,r=this.cm;this.createField(t);var i=this.textarea;function o(t){if(!gt(r,t)){if(r.somethingSelected())Os({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=Ns(r);Os({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,H):(n.prevInput="",i.value=e.text.join("\n"),N(i))}"cut"==t.type&&(r.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(i.style.width="0px"),ut(i,"input",(function(){s&&a>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()})),ut(i,"paste",(function(t){gt(r,t)||Rs(t,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),ut(i,"cut",o),ut(i,"copy",o),ut(t.scroller,"paste",(function(e){if(!_n(t,e)&&!gt(r,e)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,i.dispatchEvent(o)}})),ut(t.lineSpace,"selectstart",(function(e){_n(t,e)||vt(e)})),ut(i,"compositionstart",(function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}})),ut(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Vs.prototype.createField=function(t){this.wrapper=Us(),this.textarea=this.wrapper.firstChild},Vs.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Vs.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,r=mr(t);if(t.options.moveInputWithCursor){var i=Wn(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},Vs.prototype.showSelection=function(t){var e=this.cm.display;k(e.cursorDiv,t.cursors),k(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Vs.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&N(this.textarea),s&&a>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},Vs.prototype.getField=function(){return this.textarea},Vs.prototype.supportsTouch=function(){return!1},Vs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||T()!=this.textarea))try{this.textarea.focus()}catch(t){}},Vs.prototype.blur=function(){this.textarea.blur()},Vs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Vs.prototype.receivedFocus=function(){this.slowPoll()},Vs.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},Vs.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,(function n(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))}))},Vs.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||Tt(n)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=n.value;if(i==r&&!e.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===i||b&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,i.length);l<c&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Zr(e,(function(){Ts(e,i.slice(l),r.length-l,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Vs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Vs.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Vs.prototype.onContextMenu=function(t){var e=this,n=e.cm,r=n.display,i=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=cr(n,t),c=r.scroller.scrollTop;if(o&&!u){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&ti(n,Zi)(n.doc,Ci(o),H);var h,f=i.style.cssText,d=e.wrapper.style.cssText,p=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(h=window.scrollY),r.input.focus(),l&&window.scrollTo(null,h),r.input.reset(),n.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=m,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),s&&a>=9&&y(),I){_t(t);var g=function(){dt(window,"mouseup",g),setTimeout(m,20)};ut(window,"mouseup",g)}else setTimeout(m,50)}function y(){if(null!=i.selectionStart){var t=n.somethingSelected(),o="​"+(t?i.value:"");i.value="⇚",i.value=o,e.prevInput=t?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function m(){if(e.contextMenuPending==m&&(e.contextMenuPending=!1,e.wrapper.style.cssText=d,i.style.cssText=f,s&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!s||s&&a<9)&&y();var t=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==e.prevInput?ti(n,ao)(n):t++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},Vs.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t,this.textarea.readOnly=!!t},Vs.prototype.setUneditable=function(){},Vs.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,r,i,o){t.defaults[n]=r,i&&(e[n]=o?function(t,e,n){n!=_s&&i(t,e,n)}:i)}t.defineOption=n,t.Init=_s,n("value","",(function(t,e){return t.setValue(e)}),!0),n("mode",null,(function(t,e){t.doc.modeOption=e,Li(t)}),!0),n("indentUnit",2,Li,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(t){Oi(t),Fn(t),ur(t)}),!0),n("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter((function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,n.push(te(r,o))}r++}));for(var i=n.length-1;i>=0;i--)go(t.doc,e,n[i],te(n[i].line,n[i].ch+e.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=_s&&t.refresh()})),n("specialCharPlaceholder",Xe,(function(t){return t.refresh()}),!0),n("electricChars",!0),n("inputStyle",m?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),n("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),n("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),n("rtlMoveVisually",!A),n("wholeLineUpdateBefore",!0),n("theme","default",(function(t){ws(t),gi(t)}),!0),n("keyMap","default",(function(t,e,n){var r=$o(e),i=n!=_s&&$o(n);i&&i.detach&&i.detach(t,r),r.attach&&r.attach(t,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ss,!0),n("gutters",[],(function(t,e){t.display.gutterSpecs=di(e,t.options.lineNumbers),gi(t)}),!0),n("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?sr(t.display)+"px":"0",t.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(t){return Pr(t)}),!0),n("scrollbarStyle","native",(function(t){zr(t),Pr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=di(t.options.gutters,e),gi(t)}),!0),n("firstLineNumber",1,gi,!0),n("lineNumberFormatter",(function(t){return t}),gi,!0),n("showCursorWhenSelecting",!1,yr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(t,e){"nocursor"==e&&(Cr(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),n("screenReaderLabel",null,(function(t,e){e=""===e?null:e,t.display.input.screenReaderLabelChanged(e)})),n("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),n("dragDrop",!0,Cs),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,yr,!0),n("singleCursorHeightPerLine",!0,yr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Oi,!0),n("addModeClass",!1,Oi,!0),n("pollInterval",100),n("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),n("historyEventDelay",1250),n("viewportMargin",10,(function(t){return t.refresh()}),!0),n("maxHighlightLength",1e4,Oi,!0),n("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),n("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),n("autofocus",null),n("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),n("phrases",null)}(xs),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var r=this.options,i=r[t];r[t]==n&&"mode"!=t||(r[t]=n,e.hasOwnProperty(t)&&ti(this,e[t])(this,n,i),pt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"]($o(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:ei((function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");(function(t,e,n){for(var r=0,i=n(e);r<t.length&&n(t[r])<=i;)r++;t.splice(r,0,e)})(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(t){return t.priority})),this.state.modeGen++,ur(this)})),removeOverlay:ei((function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void ur(this)}})),indentLine:ei((function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Xt(this.doc,t)&&Bs(this,t,e,n)})),indentSelection:ei((function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Bs(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Or(this));else{var o=i.from(),s=i.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Bs(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[r].from().ch>0&&$i(this.doc,r,new Ii(o,c[r].to()),H)}}})),getTokenAt:function(t,e){return be(this,t,e)},getLineTokens:function(t,e){return be(this,te(t),e,!0)},getTokenTypeAt:function(t){t=ae(this.doc,t);var e,n=fe(this,Yt(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}r=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!n.hasOwnProperty(e))return r;var i=n[e],o=this.getModeAt(t);if("string"==typeof o[e])i[o[e]]&&r.push(i[o[e]]);else if(o[e])for(var s=0;s<o[e].length;s++){var a=i[o[e][s]];a&&r.push(a)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==F(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(t,e){var n=this.doc;return de(this,(t=se(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return Wn(this,null==t?n.head:"object"==typeof t?ae(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Yn(this,ae(this.doc,t),e||"page")},coordsChar:function(t,e){return $n(this,(t=Vn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Vn(this,{top:t,left:0},e||"page").top,Jt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var r,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),r=Yt(this.doc,t)}else r=t;return zn(this,r,{top:0,left:0},e||"page",n||i).top+(i?this.doc.height-Ke(r):0)},defaultTextHeight:function(){return rr(this.display)},defaultCharWidth:function(){return ir(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o,s,a,l=this.display,c=(t=Wn(this,ae(this.doc,t))).bottom,h=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),l.sizer.appendChild(e),"over"==r)c=t.top;else if("above"==r||"near"==r){var u=Math.max(l.wrapper.clientHeight,this.doc.height),f=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>u)&&t.top>e.offsetHeight?c=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=u&&(c=t.bottom),h+e.offsetWidth>f&&(h=f-e.offsetWidth)}e.style.top=c+"px",e.style.left=e.style.right="","right"==i?(h=l.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?h=0:"middle"==i&&(h=(l.sizer.clientWidth-e.offsetWidth)/2),e.style.left=h+"px"),n&&(o=this,s={left:h,top:c,right:h+e.offsetWidth,bottom:c+e.offsetHeight},null!=(a=Br(o,s)).scrollTop&&Nr(o,a.scrollTop),null!=a.scrollLeft&&Ur(o,a.scrollLeft))},triggerOnKeyDown:ei(hs),triggerOnKeyPress:ei(fs),triggerOnKeyUp:us,triggerOnMouseDown:ei(ys),execCommand:function(t){if(es.hasOwnProperty(t))return es[t].call(null,this)},triggerElectric:ei((function(t){Ms(this,t)})),findPosH:function(t,e,n,r){var i=1;e<0&&(i=-1,e=-e);for(var o=ae(this.doc,t),s=0;s<e&&!(o=Qs(this.doc,o,i,n,r)).hitSide;++s);return o},moveH:ei((function(t,e){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Qs(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()}),z)})),deleteH:ei((function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Jo(this,(function(n){var i=Qs(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(t,e,n,r){var i=1,o=r;e<0&&(i=-1,e=-e);for(var s=ae(this.doc,t),a=0;a<e;++a){var l=Wn(this,s,"div");if(null==o?o=l.left:l.left=o,(s=js(this,l,i,n)).hitSide)break}return s},moveV:ei((function(t,e){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(s){if(o)return t<0?s.from():s.to();var a=Wn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=js(n,a,t,e);return"page"==e&&s==r.sel.primary()&&Lr(n,Yn(n,l,"div").top-a.top),l}),z),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]})),findWordAt:function(t){var e=Yt(this.doc,t.line).text,n=t.ch,r=t.ch;if(e){var i=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=e.length||!n?++r:--n;for(var o=e.charAt(n),s=tt(o,i)?function(t){return tt(t,i)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!tt(t)};n>0&&s(e.charAt(n-1));)--n;for(;r<e.length&&s(e.charAt(r));)++r}return new Ii(te(t.line,n),te(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):S(this.display.cursorDiv,"CodeMirror-overwrite"),pt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==T()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ei((function(t,e){Tr(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Sn(this)-this.display.barHeight,width:t.scrollWidth-Sn(this)-this.display.barWidth,clientHeight:kn(this),clientWidth:xn(this)}},scrollIntoView:ei((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:te(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Rr(t),t.curOp.scrollToPos=e}(this,t):Mr(this,t.from,t.to,t.margin)})),setSize:ei((function(t,e){var n=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&jn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){fr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,pt(this,"refresh",this)})),operation:function(t){return Zr(this,t)},startOperation:function(){return Yr(this)},endOperation:function(){return Wr(this)},refresh:ei((function(){var t=this.display.cachedTextHeight;ur(this),this.curOp.forceUpdate=!0,Fn(this),Tr(this,this.doc.scrollLeft,this.doc.scrollTop),ci(this.display),(null==t||Math.abs(t-rr(this.display))>.5||this.options.lineWrapping)&&lr(this),pt(this,"refresh",this)})),swapDoc:ei((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Ni(this,t),Fn(this),this.display.input.reset(),Tr(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},bt(t),t.registerHelper=function(e,r,i){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][r]=i},t.registerGlobalHelper=function(e,r,i,o){t.registerHelper(e,r,o),n[e]._global.push({pred:i,val:o})}}(xs);var Ys="iter insert remove copy getEditor constructor".split(" ");for(var Ws in Oo.prototype)Oo.prototype.hasOwnProperty(Ws)&&F(Ys,Ws)<0&&(xs.prototype[Ws]=function(t){return function(){return t.apply(this.doc,arguments)}}(Oo.prototype[Ws]));return bt(Oo),xs.inputStyles={textarea:Vs,contenteditable:Fs},xs.defineMode=function(t){xs.defaults.mode||"null"==t||(xs.defaults.mode=t),Ut.apply(this,arguments)},xs.defineMIME=function(t,e){Dt[t]=e},xs.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),xs.defineMIME("text/plain","null"),xs.defineExtension=function(t,e){xs.prototype[t]=e},xs.defineDocExtension=function(t,e){Oo.prototype[t]=e},xs.fromTextArea=function(t,e){if((e=e?U(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=T();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function r(){t.value=a.getValue()}var i;if(t.form&&(ut(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(t){}}e.finishInit=function(n){n.save=r,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,r(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(dt(t.form,"submit",r),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=i))}},t.style.display="none";var a=xs((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return a},function(t){t.off=dt,t.on=ut,t.wheelEventPixels=Ai,t.Doc=Oo,t.splitLines=Ot,t.countColumn=Q,t.findColumn=V,t.isWordChar=Z,t.Pass=P,t.signal=pt,t.Line=Ye,t.changeEnd=Si,t.scrollbarModel=Kr,t.Pos=te,t.cmpPos=ee,t.modes=Nt,t.mimeModes=Dt,t.resolveMode=Qt,t.getMode=jt,t.modeExtensions=Ft,t.extendMode=Pt,t.copyState=Ht,t.startState=zt,t.innerMode=Kt,t.commands=es,t.keyMap=Ko,t.keyName=Go,t.isModifierKey=Wo,t.lookupKey=Yo,t.normalizeKeyMap=Vo,t.StringStream=Vt,t.SharedTextMarker=xo,t.TextMarker=Co,t.LineWidget=_o,t.e_preventDefault=vt,t.e_stopPropagation=At,t.e_stop=_t,t.addClass=R,t.contains=O,t.rmClass=S,t.keyNames=jo}(xs),xs.version="5.61.0",xs}()},6497:(t,e,n)=>{var r=n(8764).Buffer;function i(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===i(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===i(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===i(t)},e.isError=function(t){return"[object Error]"===i(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r.isBuffer},666:t=>{t.exports=function(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}},1908:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(3645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,'\n/* pin-heads for other-client cursors */\n\nspan.other-client {\n    position: relative;\n}\n\nspan.other-client::before {\n    content: " ";\n    position: absolute;\n    bottom: calc(100% - 2px);\n    left: -1px;\n    transform: translateX(-50%);\n    border: 2px solid var(--color);\n    border-radius: 99px;\n    height: 3px;\n    width: 3px;\n}',""]);const o=i},2830:(t,e,n)=>{var r=n(995),i=n(1928),o=n(1178),s=0,a=Math.pow(36,4);function l(){return i((o()*a<<0).toString(36),4)}function c(){return s=s<a?s:0,++s-1}function h(){return"c"+(new Date).getTime().toString(36)+i(c().toString(36),4)+r()+(l()+l())}h.slug=function(){var t=(new Date).getTime().toString(36),e=c().toString(36).slice(-4),n=r().slice(0,1)+r().slice(-1),i=l().slice(-2);return t.slice(-2)+e+n+i},h.isCuid=function(t){return"string"==typeof t&&!!t.startsWith("c")},h.isSlug=function(t){if("string"!=typeof t)return!1;var e=t.length;return e>=7&&e<=10},h.fingerprint=r,t.exports=h},995:(t,e,n)=>{var r=n(1928),i="object"==typeof window?window:self,o=Object.keys(i).length,s=r(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+o.toString(36),4);t.exports=function(){return s}},1178:t=>{var e,n="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(n){var r=Math.pow(2,32)-1;e=function(){return Math.abs(n.getRandomValues(new Uint32Array(1))[0]/r)}}else e=Math.random;t.exports=e},1928:t=>{t.exports=function(t,e){var n="000000000"+t;return n.substr(n.length-e)}},1227:(t,e,n)=>{var r=n(4155);function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(1658)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())},1658:(t,e,n)=>{var r;function i(t){function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=e.formatters[r];if("function"==typeof i){var o=s[l];n=i.call(t,o),s.splice(l,1),l--}return n})),e.formatArgs.call(t,s);var c=n.log||e.log||console.log.bind(console);c.apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"==typeof e.init&&e.init(n),n}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(t=n[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(7824),e.names=[],e.skips=[],e.formatters={}},4289:(t,e,n)=>{"use strict";var r=n(2215),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,l=a&&function(){var t={};try{for(var e in a(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),c=function(t,e,n,r){var i;(!(e in t)||"function"==typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(l?a(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},h=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)c(t,o[a],e[o[a]],n[o[a]])};h.supportsDescriptors=!!l,t.exports=h},340:(t,e,n)=>{var r=n(8764).Buffer,i=n(4155),o=n(8473),s=n(2840),a=n(5717),l=n(1852),c=r.from&&r.from!==Uint8Array.from?r.from([0]):new r([0]),h=function(t,e){t._corked?t.once("uncork",e):e()},u=function(t,e){return function(n){n?function(t,e){t._autoDestroy&&t.destroy(e)}(t,"premature close"===n.message?null:n):e&&!t._ended&&t.end()}},f=function(){},d=function(t,e,n){if(!(this instanceof d))return new d(t,e,n);o.Duplex.call(this,n),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!n||!1!==n.autoDestroy,this._forwardDestroy=!n||!1!==n.destroy,this._forwardEnd=!n||!1!==n.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};a(d,o.Duplex),d.obj=function(t,e,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new d(t,e,n)},d.prototype.cork=function(){1==++this._corked&&this.emit("cork")},d.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},d.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var e=this,n=s(t,{writable:!0,readable:!1},u(this,this._forwardEnd)),r=function(){var t=e._ondrain;e._ondrain=null,t&&t()};this._unwrite&&i.nextTick(r),this._writable=t,this._writable.on("drain",r),this._unwrite=function(){e._writable.removeListener("drain",r),n()},this.uncork()}else this.end()},d.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var e,n=this,r=s(t,{writable:!1,readable:!0},u(this)),i=function(){n._forward()},a=function(){n.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:(e=t,new o.Readable({objectMode:!0,highWaterMark:16}).wrap(e)),this._readable2.on("readable",i),this._readable2.on("end",a),this._unread=function(){n._readable2.removeListener("readable",i),n._readable2.removeListener("end",a),r()},this._forward()}},d.prototype._read=function(){this._drained=!0,this._forward()},d.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var t;for(this._forwarding=!0;this._drained&&null!==(t=l(this._readable2));)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},d.prototype.destroy=function(t,e){if(e||(e=f),this.destroyed)return e(null);this.destroyed=!0;var n=this;i.nextTick((function(){n._destroy(t),e(null)}))},d.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},d.prototype._write=function(t,e,n){if(!this.destroyed)return this._corked?h(this,this._write.bind(this,t,e,n)):t===c?this._finish(n):this._writable?void(!1===this._writable.write(t)?this._ondrain=n:this.destroyed||n()):n()},d.prototype._finish=function(t){var e=this;this.emit("preend"),h(this,(function(){var n,r;r=function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),h(e,t)},(n=e._forwardEnd&&e._writable)?n._writableState&&n._writableState.finished?r():n._writableState?n.end(r):(n.end(),r()):r()}))},d.prototype.end=function(t,e,n){return"function"==typeof t?this.end(null,null,t):"function"==typeof e?this.end(t,null,e):(this._ended=!0,t&&this.write(t),this._writableState.ending||this._writableState.destroyed||this.write(c),o.Writable.prototype.end.call(this,n))},t.exports=d},2840:(t,e,n)=>{var r=n(4155),i=n(778),o=function(){},s=function(t,e,n){if("function"==typeof e)return s(t,null,e);e||(e={}),n=i(n||o);var a=t._writableState,l=t._readableState,c=e.readable||!1!==e.readable&&t.readable,h=e.writable||!1!==e.writable&&t.writable,u=!1,f=function(){t.writable||d()},d=function(){h=!1,c||n.call(t)},p=function(){c=!1,h||n.call(t)},g=function(e){n.call(t,e?new Error("exited with error code: "+e):null)},y=function(e){n.call(t,e)},m=function(){r.nextTick(b)},b=function(){if(!u)return(!c||l&&l.ended&&!l.destroyed)&&(!h||a&&a.ended&&!a.destroyed)?void 0:n.call(t,new Error("premature close"))},v=function(){t.req.on("finish",d)};return function(t){return t.setHeader&&"function"==typeof t.abort}(t)?(t.on("complete",d),t.on("abort",m),t.req?v():t.on("request",v)):h&&!a&&(t.on("end",f),t.on("close",f)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(t)&&t.on("exit",g),t.on("end",p),t.on("finish",d),!1!==e.error&&t.on("error",y),t.on("close",m),function(){u=!0,t.removeListener("complete",d),t.removeListener("abort",m),t.removeListener("request",v),t.req&&t.req.removeListener("finish",d),t.removeListener("end",f),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("exit",g),t.removeListener("end",p),t.removeListener("error",y),t.removeListener("close",m)}};t.exports=s},2114:t=>{"use strict";function e(t,e){for(const n in e)Object.defineProperty(t,n,{value:e[n],enumerable:!0,configurable:!0});return t}t.exports=function(t,n,r){if(!t||"string"==typeof t)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof n&&(r=n,n=""),n&&(r.code=n);try{return e(t,r)}catch(n){r.message=t.message,r.stack=t.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),e(new i,r)}}},4079:(t,e,n)=>{"use strict";var r=n(210)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(t){r=null}t.exports=r},284:t=>{var e=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}()},8091:t=>{"use strict";function e(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var l=o[s],c=Object.getOwnPropertyDescriptor(i,l);void 0!==c&&c.enumerable&&(n[l]=i[l])}}return n}t.exports={assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}},7187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var i,o,s,c;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=s.length,c=h,console&&console.warn&&console.warn(c)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[t];if(void 0===l)return!1;if("function"==typeof l)r(l,this,e);else{var c=l.length,h=p(l,c);for(n=0;n<c;++n)r(h[n],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,u(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,u(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,s;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},1800:(t,e,n)=>{"use strict";const r=n(666);t.exports=()=>new h;class i{constructor(t){const e=new Uint8Array(t?8456:4360),n=e.byteOffset;this.buffer=e,this.bits=t?null:new Uint32Array(e.buffer,n,1024),this.children=t?new Array(32768):null,this.level=t,this.allOne=t?[new Uint32Array(e.buffer,n,1024),new Uint32Array(e.buffer,n+4096,32),new Uint32Array(e.buffer,n+4224,1)]:[this.bits,new Uint32Array(e.buffer,n+4096,32),new Uint32Array(e.buffer,n+4224,1)],this.oneOne=t?[new Uint32Array(e.buffer,n+4228,1024),new Uint32Array(e.buffer,n+8324,32),new Uint32Array(e.buffer,n+8452,1)]:[this.bits,new Uint32Array(e.buffer,n+4228,32),new Uint32Array(e.buffer,n+4356,1)]}}const o=[new i(0),new i(1),new i(2),new i(3)],s=new Uint32Array(32),a=new Uint32Array(32);for(var l=0;l<32;l++)s[l]=Math.pow(2,31-l)-1,a[l]=Math.pow(2,32-l)-1;const c=255===new Uint8Array(s.buffer,s.byteOffset,1)[0];class h{constructor(){this.length=32768,this.littleEndian=c,this._path=new Uint16Array(5),this._offsets=new Uint16Array(this._path.buffer,this._path.byteOffset+2,4),this._parents=new Array(4).fill(null),this._page=new i(0),this._allocs=1}last(){for(var t=this._page,e=0;;){for(var n=2;n>=0;n--){const i=r(t.oneOne[n][e]);if(32===i)return-1;e=31-i+(e<<5)}if(this._path[t.level]=e,!t.level)return f(this._path);t=t.children[e],e=0}}set(t,e){const n=this._getPage(t,e);if(!n)return!1;const r=this._path[0],i=31&r,o=r>>>5,s=n.bits[o];n.bits[o]=e?s|2147483648>>>i:s&~(2147483648>>>i);const a=n.bits[o];return a!==s&&(this._updateAllOne(n,o,a),this._updateOneOne(n,o,a),!0)}get(t){const e=this._getPage(t,!1);if(!e)return!1;const n=this._path[0],r=31&n;return 0!=(e.bits[n>>>5]&2147483648>>>r)}iterator(){return new u(this)}fill(t,e,n){return e||(e=0),!0===t?this._fillBit(!0,e,0===n?n:n||this.length):!1===t?this._fillBit(!1,e,0===n?n:n||this.length):void this._fillBuffer(t,e,0===n?n:n||e+8*t.length)}grow(){if(3===this._page.level)throw new Error("Cannot grow beyond "+this.length);const t=this._page;this._page=new i(t.level+1),this._page.children[0]=t,3===this._page.level?this.length=Number.MAX_SAFE_INTEGER:this.length*=32768}_fillBuffer(t,e,n){if(7&e||7&n)throw new Error("Offsets must be a multiple of 8");for(e/=8;n>this.length;)this.grow();n/=8;const r=e;for(var i=this._getPage(8*e,!0);e<n;){const o=n-e<4096?n-e:4096,s=e-r;(e+=this._setPageBuffer(i,t.subarray(s,s+o),1023&e))!==n&&(i=this._nextPage(i,8*e))}}_fillBit(t,e,n){for(var r=this._getPage(e,t);e<n;){const i=n-e<32768?n-e:32768;(e+=this._setPageBits(r,t,32767&e,i))!==n&&(r=this._nextPage(r,e))}}_nextPage(t,e){const n=++this._offsets[t.level];return 32768===n?this._getPage(e,!0):this._parents[t.level].children[n]||this._addPage(this._parents[t.level],n)}_setPageBuffer(t,e,n){return new Uint8Array(t.bits.buffer,t.bits.byteOffset,4*t.bits.length).set(e,n),n>>>=2,this._update(t,n,n+(e.length>>>2)+(3&e.length?1:0)),e.length}_setPageBits(t,e,n,r){const i=n>>>5,o=r>>>5,s=4294967295>>>(31&n),a=~(4294967295>>>(31&r));return i===o?(t.bits[i]=e?t.bits[i]|s&a:t.bits[i]&~(s&a),this._update(t,i,i+1),r-n):(t.bits[i]=e?t.bits[i]|s:t.bits[i]&~s,o-i>2&&t.bits.fill(e?4294967295:0,i+1,o-1),1024===o?(t.bits[o-1]=e?4294967295:0,this._update(t,i,o),r-n):(t.bits[o]=e?t.bits[o]|a:t.bits[o]&~a,this._update(t,i,o+1),r-n))}_update(t,e,n){for(;e<n;e++){const n=t.bits[e];this._updateAllOne(t,e,n),this._updateOneOne(t,e,n)}}_updateAllOne(t,e,n){var r=1;do{for(;r<3;r++){const i=t.allOne[r],o=31&e,s=i[e>>>=5];if(i[e]=4294967295===n?s|2147483648>>>o:s&~(2147483648>>>o),(n=i[e])===s)return}e+=this._offsets[t.level],t=this._parents[t.level],r=0}while(t)}_updateOneOne(t,e,n){var r=1;do{for(;r<3;r++){const i=t.oneOne[r],o=31&e,s=i[e>>>=5];if(i[e]=0!==n?s|2147483648>>>o:s&~(2147483648>>>o),(n=i[e])===s)return}e+=this._offsets[t.level],t=this._parents[t.level],r=0,0===n&&t&&(t.children[this._offsets[t.level-1]]=void 0)}while(t)}_getPage(t,e){for(d(t,this._path);t>=this.length;){if(!e)return null;this.grow()}for(var n=this._page,r=n.level;r>0&&n;r--){const t=this._path[r];this._parents[r-1]=n,n=n.children[t]||(e?this._addPage(n,t):null)}return n}_addPage(t,e){return this._allocs++,t.children[e]=new i(t.level-1)}}class u{constructor(t){this._bitfield=t,this._path=new Uint16Array(5),this._offsets=new Uint16Array(this._path.buffer,this._path.byteOffset+2,4),this._parents=new Array(4).fill(null),this._page=null,this._allocs=t._allocs,this.seek(0)}seek(t){if(this._allocs=this._bitfield._allocs,t>=this._bitfield.length)return this._page=null,this;d(t,this._path),this._page=this._bitfield._page;for(var e=this._page.level;e>0;e--)this._parents[e-1]=this._page,this._page=this._page.children[this._path[e]]||o[e-1];return this}next(t){return t?this.nextTrue():this.nextFalse()}nextFalse(){this._allocs!==this._bitfield._allocs&&this.seek(f(this._path));for(var t=this._page,e=this._path[0],n=a;t;){for(var r=0;r<3;r++){const i=31&e,o=Math.clz32(~t.allOne[r][e>>>=5]&n[i]);if(32!==o)return this._downLeftFalse(t,r,e,o);n=s}e=this._offsets[t.level],t=this._parents[t.level]}return-1}_downLeftFalse(t,e,n,r){for(;;){for(;e;)n=(n<<5)+r,r=Math.clz32(~t.allOne[--e][n]);if(n=(n<<5)+r,!t.level)break;this._parents[t.level-1]=t,this._path[t.level]=n,t=t.children[n],e=3,r=n=0}return this._page=t,this._path[0]=n,this._inc()}nextTrue(){for(var t=this._page,e=this._path[0],n=a;t;){for(var r=0;r<3;r++){const i=31&e,o=Math.clz32(t.oneOne[r][e>>>=5]&n[i]);if(32!==o)return this._downLeftTrue(t,r,e,o);n=s}e=this._offsets[t.level],t=this._parents[t.level]}return-1}_downLeftTrue(t,e,n,r){for(;;){for(;e;)n=(n<<5)+r,r=Math.clz32(t.oneOne[--e][n]);if(n=(n<<5)+r,!t.level)break;this._parents[t.level-1]=t,this._path[t.level]=n,t=t.children[n],e=3,r=n=0}return this._page=t,this._path[0]=n,this._inc()}_inc(){const t=f(this._path);return this._path[0]<32767?this._path[0]++:this.seek(t+1),t}}function f(t){return 32768*(32768*(32768*t[3]+t[2])+t[1])+t[0]}function d(t,e){t=((t=(t-(e[0]=32767&t))/32768)-(e[1]=32767&t))/32768,e[3]=(t-(e[2]=32767&t))/32768&32767}},3975:t=>{t.exports=class{constructor(t){if(!(t>0)||0!=(t-1&t))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}}},1607:(t,e,n)=>{const r=n(3975);t.exports=class{constructor(t){this.hwm=t||16,this.head=new r(this.hwm),this.tail=this.head}push(t){if(!this.head.push(t)){const e=this.head;this.head=e.next=new r(2*this.head.buffer.length),this.head.push(t)}}shift(){const t=this.tail.shift();if(void 0===t&&this.tail.next){const t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return t}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}},9133:function(t,e,n){var r;!function(e,i){var o={};!function(t){"use strict";t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function n(t,n,r,i,o){for(var s,a,l,c,h,u,f,d,p,g,y,m,b;o>=64;){for(s=n[0],a=n[1],l=n[2],c=n[3],h=n[4],u=n[5],f=n[6],d=n[7],g=0;g<16;g++)y=i+4*g,t[g]=(255&r[y])<<24|(255&r[y+1])<<16|(255&r[y+2])<<8|255&r[y+3];for(g=16;g<64;g++)m=((p=t[g-2])>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,b=((p=t[g-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,t[g]=(m+t[g-7]|0)+(b+t[g-16]|0);for(g=0;g<64;g++)m=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&u^~h&f)|0)+(d+(e[g]+t[g]|0)|0)|0,b=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&a^s&l^a&l)|0,d=f,f=u,u=h,h=c+m|0,c=l,l=a,a=s,s=m+b|0;n[0]+=s,n[1]+=a,n[2]+=l,n[3]+=c,n[4]+=h,n[5]+=u,n[6]+=f,n[7]+=d,i+=64,o-=64}return i}var r=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[r++],e--;64===this.bufferLength&&(n(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(r=n(this.temp,this.state,t,r,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[r++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,r=this.bufferLength,i=e/536870912|0,o=e<<3,s=e%64<56?64:128;this.buffer[r]=128;for(var a=r+1;a<s-8;a++)this.buffer[a]=0;this.buffer[s-8]=i>>>24&255,this.buffer[s-7]=i>>>16&255,this.buffer[s-6]=i>>>8&255,this.buffer[s-5]=i>>>0&255,this.buffer[s-4]=o>>>24&255,this.buffer[s-3]=o>>>16&255,this.buffer[s-2]=o>>>8&255,this.buffer[s-1]=o>>>0&255,n(this.temp,this.state,this.buffer,0,s),this.finished=!0}for(a=0;a<8;a++)t[4*a+0]=this.state[a]>>>24&255,t[4*a+1]=this.state[a]>>>16&255,t[4*a+2]=this.state[a]>>>8&255,t[4*a+3]=this.state[a]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e]},e.prototype._restoreState=function(t,e){for(var n=0;n<this.state.length;n++)this.state[n]=t[n];this.bytesHashed=e,this.finished=!1,this.bufferLength=0},e}();t.Hash=r;var i=function(){function t(t){this.inner=new r,this.outer=new r,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new r).update(t).finish(e).clean();else for(var n=0;n<t.length;n++)e[n]=t[n];for(n=0;n<e.length;n++)e[n]^=54;for(this.inner.update(e),n=0;n<e.length;n++)e[n]^=106;for(this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),n=0;n<e.length;n++)e[n]=0}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean()},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function o(t){var e=(new r).update(t),n=e.digest();return e.clean(),n}function s(t,e){var n=new i(t).update(e),r=n.digest();return n.clean(),r}function a(t,e,n,r){var i=r[0];if(0===i)throw new Error("hkdf: cannot expand more");e.reset(),i>1&&e.update(t),n&&e.update(n),e.update(r),e.finish(t),r[0]++}t.HMAC=i,t.hash=o,t.default=o,t.hmac=s;var l=new Uint8Array(t.digestLength);t.hkdf=function(t,e,n,r){void 0===e&&(e=l),void 0===r&&(r=32);for(var o=new Uint8Array([1]),c=s(e,t),h=new i(c),u=new Uint8Array(h.digestLength),f=u.length,d=new Uint8Array(r),p=0;p<r;p++)f===u.length&&(a(u,h,n,o),f=0),d[p]=u[f++];return h.clean(),u.fill(0),o.fill(0),d},t.pbkdf2=function(t,e,n,r){for(var o=new i(t),s=o.digestLength,a=new Uint8Array(4),l=new Uint8Array(s),c=new Uint8Array(s),h=new Uint8Array(r),u=0;u*s<r;u++){var f=u+1;a[0]=f>>>24&255,a[1]=f>>>16&255,a[2]=f>>>8&255,a[3]=f>>>0&255,o.reset(),o.update(e),o.update(a),o.finish(c);for(var d=0;d<s;d++)l[d]=c[d];for(d=2;d<=n;d++){o.reset(),o.update(c).finish(c);for(var p=0;p<s;p++)l[p]^=c[p]}for(d=0;d<s&&u*s+d<r;d++)h[u*s+d]=l[d]}for(u=0;u<s;u++)l[u]=c[u]=0;for(u=0;u<4;u++)a[u]=0;return o.clean(),h}}(o);var s=o.default;for(var a in o)s[a]=o[a];"object"==typeof t.exports?t.exports=s:void 0===(r=function(){return s}.call(o,n,o,t))||(t.exports=r)}()},535:(t,e)=>{function n(t){return t<31?1<<t:(1<<30)*(1<<t-30)}function r(t){return(t-(1&t))/2}function i(){this.index=0,this.offset=0,this.factor=0}e.fullRoots=function(t,e){if(1&t)throw new Error("You can only look up roots for depth(0) blocks");e||(e=[]),t/=2;for(var n=0,r=1;;){if(!t)return e;for(;2*r<=t;)r*=2;e.push(n+r-1),n+=2*r,t-=r,r=1}},e.depth=function(t){var e=0;for(t+=1;!(1&t);)e++,t=r(t);return e},e.sibling=function(t,n){n||(n=e.depth(t));var r=e.offset(t,n);return e.index(n,1&r?r-1:r+1)},e.parent=function(t,n){n||(n=e.depth(t));var i=e.offset(t,n);return e.index(n+1,r(i))},e.leftChild=function(t,n){return 1&t?(n||(n=e.depth(t)),e.index(n-1,2*e.offset(t,n))):-1},e.rightChild=function(t,n){return 1&t?(n||(n=e.depth(t)),e.index(n-1,1+2*e.offset(t,n))):-1},e.children=function(t,n){if(!(1&t))return null;n||(n=e.depth(t));var r=2*e.offset(t,n);return[e.index(n-1,r),e.index(n-1,r+1)]},e.leftSpan=function(t,r){return 1&t?(r||(r=e.depth(t)),e.offset(t,r)*n(r+1)):t},e.rightSpan=function(t,r){return 1&t?(r||(r=e.depth(t)),(e.offset(t,r)+1)*n(r+1)-2):t},e.count=function(t,r){return 1&t?(r||(r=e.depth(t)),n(r+1)-1):1},e.countLeaves=function(t){return(e.count(t)+1)/2},e.spans=function(t,r){if(!(1&t))return[t,t];r||(r=e.depth(t));var i=e.offset(t,r),o=n(r+1);return[i*o,(i+1)*o-2]},e.index=function(t,e){return(1+2*e)*n(t)-1},e.offset=function(t,r){return 1&t?(r||(r=e.depth(t)),((t+1)/n(r)-1)/2):t/2},e.iterator=function(t){var e=new i;return e.seek(t||0),e},i.prototype.seek=function(t){this.index=t,1&this.index?(this.offset=e.offset(t),this.factor=n(e.depth(t)+1)):(this.offset=t/2,this.factor=2)},i.prototype.isLeft=function(){return 0==(1&this.offset)},i.prototype.isRight=function(){return 1==(1&this.offset)},i.prototype.contains=function(t){return t>this.index?t<this.index+this.factor/2:!(t<this.index)||t>this.index-this.factor/2},i.prototype.prev=function(){return this.offset?(this.offset--,this.index-=this.factor,this.index):this.index},i.prototype.next=function(){return this.offset++,this.index+=this.factor,this.index},i.prototype.count=function(){return 1&this.index?this.factor-1:1},i.prototype.countLeaves=function(){return(this.count()+1)/2},i.prototype.sibling=function(){return this.isLeft()?this.next():this.prev()},i.prototype.parent=function(){return 1&this.offset?(this.index-=this.factor/2,this.offset=(this.offset-1)/2):(this.index+=this.factor/2,this.offset/=2),this.factor*=2,this.index},i.prototype.leftSpan=function(){return this.index=this.index-this.factor/2+1,this.offset=this.index/2,this.factor=2,this.index},i.prototype.rightSpan=function(){return this.index=this.index+this.factor/2-1,this.offset=this.index/2,this.factor=2,this.index},i.prototype.leftChild=function(){return 2===this.factor||(this.factor/=2,this.index-=this.factor/2,this.offset*=2),this.index},i.prototype.rightChild=function(){return 2===this.factor||(this.factor/=2,this.index+=this.factor/2,this.offset=2*this.offset+1),this.index},i.prototype.nextTree=function(){return this.index=this.index+this.factor/2+1,this.offset=this.index/2,this.factor=2,this.index},i.prototype.prevTree=function(){return this.offset?(this.index=this.index-this.factor/2-1,this.offset=this.index/2,this.factor=2):(this.index=0,this.factor=2),this.index},i.prototype.fullRoot=function(t){if(t<=this.index||(1&this.index)>0)return!1;for(;t>this.index+this.factor+this.factor/2;)this.index+=this.factor/2,this.factor*=2,this.offset/=2;return!0}},9804:t=>{var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(t,r,i){if("[object Function]"!==n.call(r))throw new TypeError("iterator must be a function");var o=t.length;if(o===+o)for(var s=0;s<o;s++)r.call(i,t[s],s,t);else for(var a in t)e.call(t,a)&&r.call(i,t[a],a,t)}},7648:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";t.exports=function(t){var o=this;if("function"!=typeof o||r.call(o)!==i)throw new TypeError(e+o);for(var s,a=n.call(arguments,1),l=function(){if(this instanceof s){var e=o.apply(this,a.concat(n.call(arguments)));return Object(e)===e?e:this}return o.apply(t,a.concat(n.call(arguments)))},c=Math.max(0,o.length-a.length),h=[],u=0;u<c;u++)h.push("$"+u);if(s=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(l),o.prototype){var f=function(){};f.prototype=o.prototype,s.prototype=new f,f.prototype=null}return s}},8612:(t,e,n)=>{"use strict";var r=n(7648);t.exports=Function.prototype.bind||r},5177:t=>{t.exports=function(){if("undefined"==typeof globalThis)return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null}},210:(t,e,n)=>{"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var c=function(){throw new s},h=l?function(){try{return c}catch(t){try{return l(arguments,"callee").get}catch(t){return c}}}():c,u=n(1405)(),f=Object.getPrototypeOf||function(t){return t.__proto__},d={},p="undefined"==typeof Uint8Array?r:f(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":u?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?f(""[Symbol.iterator]()):r,"%Symbol%":u?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":h,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},y=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(n=f(i.prototype))}return g[e]=n,n},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(8612),v=n(7642),A=b.call(Function.call,Array.prototype.concat),w=b.call(Function.apply,Array.prototype.splice),_=b.call(Function.call,String.prototype.replace),I=b.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,S=function(t){var e=I(t,0,1),n=I(t,-1);if("%"===e&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return _(t,E,(function(t,e,n,i){r[r.length]=n?_(i,C,"$1"):e||t})),r},x=function(t,e){var n,r=t;if(v(m,r)&&(r="%"+(n=m[r])[0]+"%"),v(g,r)){var o=g[r];if(o===d&&(o=y(r)),void 0===o&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');var n=S(t),r=n.length>0?n[0]:"",o=x("%"+r+"%",e),a=o.name,c=o.value,h=!1,u=o.alias;u&&(r=u[0],w(n,A([0,1],u)));for(var f=1,d=!0;f<n.length;f+=1){var p=n[f],y=I(p,0,1),m=I(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(h=!0),v(g,a="%"+(r+="."+p)+"%"))c=g[a];else if(null!=c){if(!(p in c)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&f+1>=n.length){var b=l(c,p);c=(d=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[p]}else d=v(c,p),c=c[p];d&&!h&&(g[a]=c)}}return c}},1405:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(5419);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},7642:(t,e,n)=>{"use strict";var r=n(8612);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},825:(t,e,n)=>{var{sodium_malloc:r,sodium_memzero:i}=n(8542),{crypto_generichash:o,crypto_generichash_batch:s}=n(168),a=n(3310),l=r(384),c=l.subarray(0,128),h=l.subarray(128,256),u=l.subarray(256,384);t.exports=function(t,e,n){a(64===t.byteLength),a(null!=n.byteLength),a(Array.isArray(e)?e.every((t=>null!=t.byteLength)):null!=e.byteLength),n.byteLength>128?(o(c.subarray(0,64),n),i(c.subarray(64))):(c.set(n),i(c.subarray(n.byteLength)));for(var r=0;r<c.byteLength;r++)h[r]=92^c[r],u[r]=54^c[r];i(c),s(t,[u].concat(e)),i(u),s(t,[h].concat(t)),i(h)},t.exports.BYTES=64,t.exports.KEYBYTES=128},3310:t=>{function e(t,e){if(!t)throw new Error(e||"AssertionError")}e.notEqual=function(t,n,r){e(t!=n,r)},e.notOk=function(t,n){e(!t,n)},e.equal=function(t,n,r){e(t==n,r)},e.ok=e,t.exports=e},397:t=>{class e{constructor(t,e){this.name=e,this.parent=t}get _info(){return this.parent._info}set(t,e){return this.parent._set(this.name,t,e)}del(t){return this.parent._del(this.name,t)}get(t){return this.parent._get(this.name,t)}}function n(){return 1024}t.exports=class{constructor(t={}){this.maxByteSize=t.maxByteSize||16777216,this.onEvict=t.onEvict,this.estimateSize=t.estimateSize||n,this._nextNamespace=0,this.defaultCache=new e(this,this._nextNamespace++),this._stale=null,this._fresh=new Map,this._freshByteSize=0,this._staleByteSize=0}get _info(){return{freshByteSize:this._freshByteSize,staleByteSize:this._staleByteSize,staleEntries:this._stale?this._stale.size:0,freshEntries:this._fresh.size,byteSize:this.byteSize}}_prefix(t,e){return t+":"+e}_gc(){this.onEvict&&this._staleByteSize>0&&this.onEvict(this._stale),this._stale=this._fresh,this._fresh=new Map,this._staleByteSize=this._freshByteSize,this._freshByteSize=0}_get(t,e,n){return n||(n=this._prefix(t,e)),this._fresh.get(n)||this._stale&&this._stale.get(n)}_set(t,e,n){const r=this.estimateSize(n),i=this._prefix(t,e);this._freshByteSize+r>this.maxByteSize&&this._gc(),this._fresh.set(i,n),this._freshByteSize+=r}_del(t,e){const n=this._prefix(t,e);let r=this._stale&&this._stale.get(n);r&&(this._stale.delete(n),this._staleByteSize-=this.estimateSize(r)),r=this._fresh.get(n),r&&(this._fresh.delete(n),this._freshByteSize-=this.estimateSize(r))}get byteSize(){return this._freshByteSize+this._staleByteSize}namespace(){return new e(this,this._nextNamespace++)}set(t,e){return this.defaultCache.set(t,e)}del(t){return this.defaultCache.del(t)}get(t){return this.defaultCache.get(t)}}},4877:(t,e,n)=>{var r=n(8764).Buffer;const i=n(4471),o=n(1644),s=r.from([0]),a=r.from([1]),l=r.from([2]),c=r.from([3]),h=r.from("hypercore"),u=r.from("hypercore capability");function f(t){return o.encode(t,r.allocUnsafe(8))}e.writerCapability=function(t,n,o){if(!o)return null;const s=r.allocUnsafe(32);return i.crypto_generichash_batch(s,[c,u,o.tx.slice(0,32),t],o.rx.slice(0,32)),e.sign(s,n)},e.verifyRemoteWriterCapability=function(t,n,o){if(!o)return null;const s=r.allocUnsafe(32);return i.crypto_generichash_batch(s,[c,u,o.rx.slice(0,32),t],o.tx.slice(0,32)),e.verify(s,n,t)},e.capability=function(t,e){if(!e)return null;const n=r.allocUnsafe(32);return i.crypto_generichash_batch(n,[u,e.tx.slice(0,32),t],e.rx.slice(0,32)),n},e.remoteCapability=function(t,e){if(!e)return null;const n=r.allocUnsafe(32);return i.crypto_generichash_batch(n,[u,e.rx.slice(0,32),t],e.tx.slice(0,32)),n},e.keyPair=function(t){const e=r.allocUnsafe(i.crypto_sign_PUBLICKEYBYTES),n=r.allocUnsafe(i.crypto_sign_SECRETKEYBYTES);return t?i.crypto_sign_seed_keypair(e,n,t):i.crypto_sign_keypair(e,n),{publicKey:e,secretKey:n}},e.validateKeyPair=function(t){const e=r.allocUnsafe(i.crypto_sign_PUBLICKEYBYTES);return i.crypto_sign_ed25519_sk_to_pk(e,t.secretKey),e.equals(t.publicKey)},e.sign=function(t,e){const n=r.allocUnsafe(i.crypto_sign_BYTES);return i.crypto_sign_detached(n,t,e),n},e.verify=function(t,e,n){return i.crypto_sign_verify_detached(e,t,n)},e.data=function(t){const e=r.allocUnsafe(32);return i.crypto_generichash_batch(e,[s,f(t.length),t]),e},e.leaf=function(t){return e.data(t.data)},e.parent=function(t,e){if(t.index>e.index){const n=t;t=e,e=n}const n=r.allocUnsafe(32);return i.crypto_generichash_batch(n,[a,f(t.size+e.size),t.hash,e.hash]),n},e.tree=function(t,e){const n=new Array(3*t.length+1);var o=0;n[o++]=l;for(var s=0;s<t.length;s++){const e=t[s];n[o++]=e.hash,n[o++]=f(e.index),n[o++]=f(e.size)}return e||(e=r.allocUnsafe(32)),i.crypto_generichash_batch(e,n),e},e.signable=function(t,n){const i=r.allocUnsafe(40);return r.isBuffer(t)?t.copy(i):e.tree(t,i.slice(0,32)),o.encode(n,i.slice(32)),i},e.randomBytes=function(t){const e=r.allocUnsafe(t);return i.randombytes_buf(e),e},e.discoveryKey=function(t){const e=r.allocUnsafe(32);return i.crypto_generichash(e,h,t),e},i.sodium_free?e.free=function(t){t.secure&&i.sodium_free(t)}:e.free=function(){}},1644:(t,e,n)=>{var r=n(8764).Buffer;const i=Math.pow(2,32);e.encodingLength=function(){return 8},e.encode=function(t,e,n){e||(e=r.allocUnsafe(8)),n||(n=0);const o=Math.floor(t/i),s=t-o*i;return e.writeUInt32BE(o,n),e.writeUInt32BE(s,n+4),e},e.decode=function(t,e){e||(e=0);const n=t.readUInt32BE(e),r=t.readUInt32BE(e+4);return n*i+r},e.encode.bytes=8,e.decode.bytes=8},310:(t,e,n)=>{var r=n(8764).Buffer;const i=n(3208);let o=null,s=null;try{const t=n(9054);o=t.lock,s=null}catch(t){}t.exports=function(t,e){return function(t){return"tree"===t||t.endsWith("/tree")}(t)?new i(t,{sparse:s,alloc:r.alloc,...e}):function(t){return"bitfield"===t||t.endsWith("/bitfield")}(t)?new i(t,{lock:o,sparse:s,...e}):new i(t,{sparse:s,...e})}},9164:(t,e,n)=>{const r=n(9130),i=n(4877),o=n(3380),s=n(1838),a=n(9486),l=n(4913),c=n(7879),{Duplex:h}=n(1237),u=n(9385)("hypercore-protocol");class f extends c{send(t){const e=this.local.handlers;return e._changes!==this.local.changes&&(e._changes=this.local.changes,e.state.options(0,{extensions:this.local.names()})),e.state.extension(0,this.id,this.encode(t))}}class d{constructor(t,{encrypted:e,noise:n,keyPair:r}){this.stream=t,this.created=new Map,this.local=[null],this.remote=[null],this.noise=!(!1===n&&!1===e),this.encrypted=!1!==e,this.keyPair=r}allocLocal(){const t=this.local.indexOf(null);return t>0?t:(this.local.push(null),this.local.length-1)}attachLocal(t){const e=this.allocLocal();this.local[e]=t,t.localId=e}attachRemote(t,e){this.remote.length===e&&this.remote.push(null),this.remote[e]=t,t.remoteId=e}detachChannel(t){t.localId>-1&&this.local[t.localId]===t&&(this.local[t.localId]=null,t.localId=-1,t.handlers&&t.handlers.onclose&&t.handlers.onclose()),t.remoteId>-1&&this.remote[t.remoteId]===t&&(this.remote[t.remoteId]=null);const e=t.discoveryKey.toString("hex");this.created.get(e)===t&&this.created.delete(e)}getChannel(t){return this.created.get(t.toString("hex"))}createChannel(t){const e=t.toString("hex"),n=this.created.get(e);if(n)return n;const r=new p(this.stream.state,this.stream,t);return this.created.set(e,r),r}onauthenticate(t,e){this.stream.handlers&&this.stream.handlers.onauthenticate?this.stream.handlers.onauthenticate(t,e):e(null)}onhandshake(){u("recv handshake"),this.stream.handlers&&this.stream.handlers.onhandshake&&this.stream.handlers.onhandshake(),this.stream.emit("handshake")}onopen(t,e){u("recv open",t,e);const n=this.createChannel(e.discoveryKey);if(n.remoteCapability=e.capability,this.attachRemote(n,t),-1===n.localId)this.stream.handlers.ondiscoverykey&&this.stream.handlers.ondiscoverykey(n.discoveryKey),this.stream.emit("discovery-key",n.discoveryKey);else{if(this.noise&&!n.remoteVerified)return void this.stream.destroy(new Error("Invalid remote channel capability"));this.stream.emit("duplex-channel",n)}n.handlers&&n.handlers.onopen&&n.handlers.onopen(),this.stream.handlers.onremoteopen&&this.stream.handlers.onremoteopen(n.discoveryKey),this.stream.emit("remote-open",n.discoveryKey)}onoptions(t,e){u("recv options",t,e);const n=this.remote[t];n&&n.handlers&&n.handlers.onoptions?n.handlers.onoptions(e):0!==t||n||this.stream._updateExtensions(e.extensions)}onstatus(t,e){u("recv status",t,e);const n=this.remote[t];n&&n.handlers&&n.handlers.onstatus&&n.handlers.onstatus(e)}onhave(t,e){u("recv have",t,e);const n=this.remote[t];n&&n.handlers&&n.handlers.onhave&&n.handlers.onhave(e)}onunhave(t,e){u("recv unhave",t,e);const n=this.remote[t];n&&n.handlers&&n.handlers.onunhave&&n.handlers.onunhave(e)}onwant(t,e){u("recv want",t,e);const n=this.remote[t];n&&n.handlers&&n.handlers.onwant&&n.handlers.onwant(e)}onunwant(t,e){u("recv unwant",t,e);const n=this.remote[t];n&&n.handlers&&n.handlers.onunwant&&n.handlers.onunwant(e)}onrequest(t,e){u("recv request",t,e);const n=this.remote[t];n&&n.handlers&&n.handlers.onrequest&&n.handlers.onrequest(e)}oncancel(t,e){u("recv cancel",t,e);const n=this.remote[t];n&&n.handlers&&n.handlers.oncancel&&n.handlers.oncancel(e)}ondata(t,e){u("recv data",t,e);const n=this.remote[t];n&&n.handlers&&n.handlers.ondata&&n.handlers.ondata(e)}onextension(t,e,n){u("recv extension",t,e);const r=this.remote[t];r&&r.handlers&&r.handlers.onextension?r.handlers.onextension(e,n):0!==t||r||this.stream.remoteExtensions.onmessage(e,n)}onclose(t,e){u("recv close",t,e);let n=t<this.remote.length?this.remote[t]:null;if(n?this.remote[t]=null:e.discoveryKey&&(n=this.getChannel(e.discoveryKey)),!n)return;n.localId>-1&&this.local[n.localId]===n&&(this.local[n.localId]=null,n.state.close(n.localId,{}),n.localId=-1,n.handlers&&n.handlers.onclose&&n.handlers.onclose()),this.stream.handlers&&this.stream.handlers.onchannelclose&&this.stream.handlers.onchannelclose(n.discoveryKey,n.key);const r=n.discoveryKey.toString("hex");this.created.get(r)===n&&this.created.delete(r),this.stream._prefinalize()}onmissing(t){null!==this.stream._utp&&this.stream._utp.setContentSize(t)}send(t){return null!==this.stream.keepAlive&&this.stream.keepAlive.refresh(),this.stream.bytesSent+=t.length,this.stream.push(t)}destroy(t){this.stream.destroy(t),this.local=[],this.remote=[];for(const t of this.created.values()){const e=-1===t.localId;t.localId=t.remoteId=-1,!e&&t.handlers&&t.handlers.onclose&&t.handlers.onclose(),this.stream.handlers&&this.stream.handlers.onchannelclose&&this.stream.handlers.onchannelclose(t.discoveryKey,t.key)}this.created.clear()}}class p{constructor(t,e,n){this.key=null,this.discoveryKey=n,this.localId=-1,this.remoteId=-1,this.remoteCapability=null,this.handlers=null,this.state=t,this.stream=e}get opened(){return this.localId>-1}get closed(){return-1===this.localId}get remoteOpened(){return this.remoteId>-1}get remoteVerified(){return this.localId>-1&&this.remoteId>-1&&!!this.remoteCapability&&this.remoteCapability.equals(this.state.remoteCapability(this.key))}options(t){return u("send options",t),this.state.options(this.localId,t)}status(t){return u("send status",t),this.state.status(this.localId,t)}have(t){return u("send have",t),this.state.have(this.localId,t)}unhave(t){return u("send unhave",t),this.state.unhave(this.localId,t)}want(t){return u("send want",t),this.state.want(this.localId,t)}unwant(t){return u("send unwant",t),this.state.unwant(this.localId,t)}request(t){return u("send request",t),this.state.request(this.localId,t)}cancel(t){return u("send cancel",t),this.state.cancel(this.localId,t)}data(t){return u("send data",t),this.state.data(this.localId,t)}extension(t,e){return u("send extension",t),this.state.extension(this.localId,t,e)}close(){if(u("send close"),this.closed)return;const t=this.localId;this.stream.channelizer.detachChannel(this),this.state.close(t,{}),this.stream._prefinalize()}destroy(t){this.stream.destroy(t)}}t.exports=class t extends h{constructor(t,e={}){if(super(),"boolean"!=typeof t)throw new Error("Must specify initiator boolean in replication stream");if(this.initiator=t,this.handlers=e,this.channelizer=new d(this,{encrypted:e.encrypted,noise:e.noise,keyPair:e.keyPair}),this.state=new r(t,this.channelizer),this.live=!!e.live,this.timeout=null,this.keepAlive=null,this.prefinalize=new a,this.bytesSent=0,this.bytesReceived=0,this.extensions=f.createLocal(this),this.remoteExtensions=this.extensions.remote(),this._utp=null,this._changes=0,this.once("finish",this.push.bind(this,null)),this.on("pipe",this._onpipe),!1!==e.timeout&&0!==e.timeout){const t=e.timeout||2e4;this.setTimeout(t,(()=>this.destroy(new Error("ETIMEDOUT")))),this.setKeepAlive(Math.ceil(t/2))}}registerExtension(t,e){return this.extensions.add(t,e)}[s](t,e){let n="";if("number"==typeof e.indentationLvl)for(;n.length<e.indentationLvl;)n+=" ";return"HypercoreProtocolStream(\n"+n+"  publicKey: "+e.stylize(this.publicKey&&l(this.publicKey),"string")+"\n"+n+"  remotePublicKey: "+e.stylize(this.remotePublicKey&&l(this.remotePublicKey),"string")+"\n"+n+"  remoteAddress: "+e.stylize(this.remoteAddress,"string")+"\n"+n+"  remoteType: "+e.stylize(this.remoteType,"string")+"\n"+n+"  live: "+e.stylize(this.live,"boolean")+"\n"+n+"  initiator: "+e.stylize(this.initiator,"boolean")+"\n"+n+"  channelCount: "+e.stylize(this.channelCount,"number")+"\n"+n+"  destroyed: "+e.stylize(this.destroyed,"boolean")+"\n"+n+"  prefinalized: "+e.stylize(!this.prefinalize.waiting,"boolean")+"\n"+n+"  bytesSent: "+e.stylize(this.bytesSent,"number")+"\n"+n+"  bytesReceived: "+e.stylize(this.bytesReceived,"number")+"\n"+n+")"}static isProtocolStream(t){return!(!t||"boolean"!=typeof t.initiator||"function"!=typeof t.pipe||!t.state)}static keyPair(t){return r.keyPair(t)}get remoteAddress(){const e=this._readableState.pipeTo;return e?t.isProtocolStream(e)?null:e.remoteAddress:null}get remoteType(){const t=this._readableState.pipeTo;return t?t._utp?"utp":t.remoteAddress?"tcp":"unknown":null}get publicKey(){return this.state.publicKey}get remotePublicKey(){return this.state.remotePublicKey}_onpipe(t){"function"==typeof t.setContentSize&&(this._utp=t)}_write(t,e){null!==this.timeout&&this.timeout.refresh(),this.bytesReceived+=t.length,this.state.recv(t),e(null)}_destroy(t){this._predestroy(),this.channelizer.destroy(),this.state.destroy(),t(null)}_predestroy(){null!==this.timeout&&(this.timeout.destroy(),this.timeout=null),null!==this.keepAlive&&(this.keepAlive.destroy(),this.keepAlive=null),this.prefinalize.destroy()}_prefinalize(){this.emit("prefinalize"),this.prefinalize.ready((()=>{this.destroyed||this.channelCount||this.live||this.finalize()}))}_updateExtensions(t){this.remoteExtensions.update(t),this.handlers.onextensions&&this.handlers.onextensions(t),this.emit("extensions",t)}remoteOpened(t){const e=this.channelizer.getChannel(i.discoveryKey(t));return!!(e&&e.remoteId>-1)}remoteVerified(t){const e=this.channelizer.getChannel(i.discoveryKey(t));return!!e&&!!e.remoteCapability&&e.remoteCapability.equals(this.state.remoteCapability(t))}opened(t){const e=this.channelizer.getChannel(i.discoveryKey(t));return!!(e&&e.localId>-1)}ping(){return this.state.ping()}setKeepAlive(t){this.keepAlive&&this.keepAlive.destroy(),this.keepAlive=t?o(t,(function e(){this.ping(),this.keepAlive=o(t,e,this)}),this):null}setTimeout(t,e){this.timeout&&this.timeout.destroy(),t?(this.timeout=o(t,this.emit.bind(this,"timeout")),e&&this.once("timeout",e)):this.timeout=null}get channelCount(){return this.channelizer.created.size}get channels(){return this.channelizer.created.values()}open(t,e){const n=i.discoveryKey(t),r=this.channelizer.createChannel(n);return null===r.key&&(r.key=t,this.channelizer.attachLocal(r),this.state.open(r.localId,{key:t,discoveryKey:n})),e&&(r.handlers=e),r.remoteId>-1&&this.emit("duplex-channel",r),r}close(t){const e=this.channelizer.getChannel(t);e&&e.localId>-1?e.close():this.state.close(this.channelizer.allocLocal(),{discoveryKey:t})}finalize(){this.push(null)}}},9385:(t,e,n)=>{var r=n(4155);e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))})),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=n(3169)(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},3169:(t,e,n)=>{t.exports=function(t){function e(t){let n,i,o,s=null;function a(...t){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=e.formatters[i];if("function"==typeof o){const e=t[s];n=o.call(r,e),t.splice(s,1),s--}return n})),e.formatArgs.call(r,t),(r.log||e.log).apply(r,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=r,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function r(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function i(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(i),...e.skips.map(i).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(1849),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}},1849:t=>{var e=1e3,n=60*e,r=60*n,i=24*r;function o(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,s){s=s||{};var a,l,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===c&&isFinite(t))return s.long?(a=t,(l=Math.abs(a))>=i?o(a,l,i,"day"):l>=r?o(a,l,r,"hour"):l>=n?o(a,l,n,"minute"):l>=e?o(a,l,e,"second"):a+" ms"):function(t){var o=Math.abs(t);return o>=i?Math.round(t/i)+"d":o>=r?Math.round(t/r)+"h":o>=n?Math.round(t/n)+"m":o>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},4203:(t,e,n)=>{const{Writable:r,Readable:i}=n(1237);t.exports={WriteStream:class extends r{constructor(t,e){super(),this.feed=t,this.maxBlockSize=e&&e.maxBlockSize||0}_writev(t,e){this.feed.append(this.maxBlockSize?this._ensureMaxSize(t):t,e)}_ensureMaxSize(t){for(let e=0;e<t.length;e++){let n=t[e];if(n.length>this.maxBlockSize){const r=[];for(;n.length>this.maxBlockSize;)r.push(n.slice(0,this.maxBlockSize)),n=n.slice(this.maxBlockSize);n.length&&r.push(n),t.splice(e,1,...r),e+=r.length-1}}return t}},ReadStream:class extends i{constructor(t,e={}){super(),this.feed=t,this.start=e.start||0,this.end="number"==typeof e.end?e.end:-1,this.live=!!e.live,this.snapshot=!1!==e.snapshot,this.tail=!!e.tail,this.index=this.start,this.options={wait:!1!==e.wait,ifAvailable:!!e.ifAvailable,valueEncoding:e.valueEncoding}}_open(t){this.feed.ready((e=>{if(e)return t(e);-1===this.end&&(this.live?this.end=1/0:this.snapshot&&(this.end=this.feed.length),this.start>this.end&&this.push(null)),this.tail&&(this.start=this.feed.length),this.index=this.start,t(null)}))}_read(t){if(this.index===this.end||-1===this.end&&this.index>=this.feed.length)return this.push(null),t(null);this.feed.get(this.index++,this.options,((e,n)=>{if(e)return t(e);this.push(n),t(null)}))}}}},4037:(t,e,n)=>{var r=n(8764).Buffer,i=n(4155),o=n(5777),s=n(6581),a=n(8861),l=n(9667),c=n(535),h=n(7092),u=n(4739),f=n(5717),d=n(133),p=n(7010),g=n(2986),y=n(2746),m=n(4877),b=n(1838),v=n(4913),A=n(9486),w=n(1445),_=n(456),I=n(9164),E=n(7879),C=n(3098),S=n(310),{WriteStream:x,ReadStream:k}=n(4203);class B extends E{broadcast(t){const e=this.local.handlers,n=this.encoding.encode(t);let r=!1;for(const t of e.peers)r=!0,t.extension(this.id,n);return r}send(t,e){e.extension(this.id,this.encode(t))}}var L={sign:(t,e,n)=>n(null,m.sign(t,e)),verify:(t,e,n,r)=>r(null,m.verify(t,e,n))};function O(t,e,n){if(!(this instanceof O))return new O(t,e,n);var i;if(C.call(this),"string"==typeof t&&(i=t,t=function(t){return S(t,{directory:i})}),"function"!=typeof t)throw new Error("Storage should be a function or string");"string"==typeof e&&(e=r.from(e,"hex")),r.isBuffer(e)||n||(n=e,e=null),n||(n={});var s=this,a=n.secretKey||null;"string"==typeof a&&(a=r.from(a,"hex")),this.noiseKeyPair=n.noiseKeyPair||I.keyPair(),this.live=!1!==n.live,this.sparse=!!n.sparse,this.length=0,this.byteLength=0,this.maxRequests=n.maxRequests||16,this.key=e||n.key||null,this.discoveryKey=this.key&&m.discoveryKey(this.key),this.secretKey=a,this.bitfield=null,this.tree=null,this.writable=!!n.writable,this.readable=!0,this.downloading=!1!==n.downloading,this.uploading=!1!==n.uploading,this.allowPush=!!n.allowPush,this.peers=[],this.ifAvailable=new A,this.extensions=B.createLocal(this),this.crypto=n.crypto||L,this._onwrite=n.onwrite||null,this._force=!!n.force,this._expectedLength=-1,this._indexing=!!n.indexing,this._createIfMissing=!1!==n.createIfMissing,this._overwrite=!!n.overwrite,this._storeSecretKey=!1!==n.storeSecretKey,this._alwaysIfAvailable=!!n.ifAvailable,this._merkle=null,this._storage=y(t,n),this._batch=u(this._onwrite?function t(e,n){if(!s._merkle)return s._reloadMerkleStateBeforeAppend(t,e,n);s._appendHook(e,n)}:function t(e,n){if(!s._merkle)return s._reloadMerkleStateBeforeAppend(t,e,n);s._append(e,n)}),this.timeouts=n.timeouts||{get(t){t(null)},update(t){t(null)}},this._seq=0,this._waiting=[],this._selections=[],this._reserved=p(),this._synced=null,this._downloadingSet="boolean"==typeof n.downloading,this._stats=void 0===n.stats||n.stats?{downloadedBlocks:0,downloadedBytes:0,uploadedBlocks:0,uploadedBytes:0}:null,this._codec=D(n.valueEncoding),this._sync=o((function(t,e){s._syncBitfield(e)})),this.sparse||this.download({start:0,end:-1}),this.sparse&&n.eagerUpdate&&this.update((function t(e){e&&s.emit("update-error",e),s.update(t)})),this.open((function(t){t&&s.emit("error",t)}))}function T(){}function R(t,e){return t&&t.index===e.index&&0===r.compare(t.hash,e.hash)}function M(t,e){return t+e.size}function N(t){return 0==(1&t)}function D(t){return h("json"===t?"ndjson":t)}function U(t,e){return function(n,r){if(n)return e(n);try{r=t.decode(r)}catch(n){return e(n)}e(null,r)}}function Q(t,e){var n=!1,r=setTimeout((function(){n=!0;var e=new Error("ETIMEDOUT");e.code="ETIMEDOUT",t(e)}),e);return function(e,i){n||(clearTimeout(r),t(e,i))}}function j(t){return 1024*Math.floor(t/1024/1024)*1024}function F(t,e,n){var r=new Error(n);return r.code=t,r.errno=e,r}function P(t,e){t.ready(e)}function H(t,e,n,r){t.crypto.verify(e,n,t.key,(function(i,o){if(i||o)return r(i,o);t.crypto.verify(e.slice(0,32),n,t.key,r)}))}t.exports=O,f(O,C),O.discoveryKey=m.discoveryKey,O.prototype[b]=function(t,e){var n="";if("number"==typeof e.indentationLvl)for(;n.length<e.indentationLvl;)n+=" ";return"Hypercore(\n"+n+"  key: "+e.stylize(this.key&&v(this.key),"string")+"\n"+n+"  discoveryKey: "+e.stylize(this.discoveryKey&&v(this.discoveryKey),"string")+"\n"+n+"  opened: "+e.stylize(this.opened,"boolean")+"\n"+n+"  sparse: "+e.stylize(this.sparse,"boolean")+"\n"+n+"  writable: "+e.stylize(this.writable,"boolean")+"\n"+n+"  length: "+e.stylize(this.length,"number")+"\n"+n+"  byteLength: "+e.stylize(this.byteLength,"number")+"\n"+n+"  peers: "+e.stylize(this.peers.length,"number")+"\n"+n+")"},Object.defineProperty(O.prototype,"remoteLength",{enumerable:!0,get:function(){for(var t=0,e=0;e<this.peers.length;e++){var n=this.peers[e].remoteLength;n>t&&(t=n)}return t}}),Object.defineProperty(O.prototype,"stats",{enumerable:!0,get:function(){if(!this._stats)return null;for(var t=[],e=0;e<this.peers.length;e++){var n=this.peers[e];t[e]=n.stats}return{peers:t,totals:this._stats}}}),O.prototype.replicate=function(t,e){return this._selections.length&&-1===this._selections[0].end||this.sparse||e&&e.live||this.download({start:0,end:-1}),function(t){return!I.isProtocolStream(t)&&"object"==typeof t&&!!t&&"boolean"==typeof t.initiator}(t)&&!e&&(t=(e=t).initiator),(e=e||{}).stats=!!this._stats,e.noise=!(!1===e.noise&&!1===e.encrypted),_(this,t,e)},O.prototype.registerExtension=function(t,e){return this.extensions.add(t,e)},O.prototype.onextensionupdate=function(){for(const t of this.peers)t._updateOptions()},O.prototype.setDownloading=function(t){this.downloading===t&&this._downloadingSet||(this.downloading=t,this._downloadingSet=!0,this.ready((t=>{if(!t)for(const t of this.peers)t.setDownloading(this.downloading)})))},O.prototype.setUploading=function(t){t!==this.uploading&&(this.uploading=t,this.ready((t=>{if(!t)for(const t of this.peers)t.setUploading(this.uploading)})))},O.prototype.ready=O.prototype.open,O.prototype.update=function(t,e){if("function"==typeof t)return this.update(-1,t);"number"==typeof t&&(t={minLength:t}),t||(t={}),e||(e=T);var n=this,r="number"==typeof t.minLength?t.minLength:-1;this.ready((function(i){if(i)return e(i);if(-1===r&&(r=n.length+1),n.length>=r)return e(null);const o="boolean"==typeof t.ifAvailable?t.ifAvailable:n._alwaysIfAvailable;if(o&&n.writable&&!t.force)return e(new Error("No update available from peers"));n.writable&&(e=n._writeStateReloader(e));var s={hash:!1!==t.hash,bytes:0,index:r-1,options:t,update:!0,callback:e};n._waiting.push(s),o&&n._ifAvailable(s,r),n._updatePeers()}))},O.prototype.setExpectedLength=function(t){this._expectedLength=t,this.ready((t=>{if(!(t||(this.ifAvailable.ready((()=>{this._expectedLength=-1})),-1===this._expectedLength||this._expectedLength>this.length)))for(const t of this._waiting)t.update&&t.ifAvailable&&t.callback(new Error("Expected length is less than current length"))}))},O.prototype.truncate=function(t,e){e||(e=T);const n=this;this.ready((function(r){if(r)return e(r);n._roots(t,(function(r,i){if(r)return e(r);const o=n.length;if(o<=t)return e(null);let s=0;for(const{size:t}of i)s+=t;for(let e=o;e<t;e++)n.data.set(e,!1);n.byteLength=s,n.length=t,n.tree.truncate(2*t),n._merkle=new l(m,i),n._sync(null,(function(r){if(r)return e(r);n._storage.deleteSignatures(t,o,e)}))}))}))},O.prototype._ifAvailable=function(t,e){var n=t.callback,r=!1,o=this;if(t.callback=a,t.ifAvailable=!0,this._expectedLength>-1&&this._expectedLength<=this.length)return i.nextTick(t.callback,new Error("Expected length is less than current length"));function a(e){if(!r){r=!0;var i=o._waiting.indexOf(t);i>-1&&s(o._waiting,i),n(e)}}this.timeouts.update((function(){if(o.closed)return a(new Error("Closed"));i.nextTick(P,o.ifAvailable,(function(){if(o.closed)return a(new Error("Closed"));o.length>=e||o.remoteLength>=e||a(new Error("No update available from peers"))}))}))},O.prototype._ifAvailableGet=function(t){var e=t.callback,n=!1,r=this;function o(i,o){if(!n){n=!0;var a=r._waiting.indexOf(t);a>-1&&s(r._waiting,a),e(i,o)}}t.callback=o,r.timeouts.get((function(){if(r.closed)return o(new Error("Closed"));i.nextTick(P,r.ifAvailable,(function(){if(r.closed)return o(new Error("Closed"));for(var e=0;e<r.peers.length;e++)if(r.peers[e].remoteBitfield.get(t.index))return;o(new Error("Block not available from peers"))}))}))},O.prototype._writeStateReloader=function(t){var e=this;return function(n){if(n)return t(n);e._reloadMerkleState(t)}},O.prototype._reloadMerkleState=function(t){var e=this;this._roots(e.length,(function(n,r){if(n)return t(n);e._merkle=new l(m,r),t(null)}))},O.prototype._reloadMerkleStateBeforeAppend=function(t,e,n){this._reloadMerkleState((function(r){if(r)return n(r);t(e,n)}))},O.prototype._open=function(t){var e=this,n=!1,i=!0;function o(o,s){if(o)return t(o);if(!s.key&&s.bitfield.length&&(e._overwrite=!0),e._force&&s.key&&e.key&&0!==r.compare(s.key,e.key)&&(e._overwrite=!0),e._overwrite&&(s.bitfield=[],s.key=s.secretKey=null),e.bitfield=d(s.bitfieldPageSize,s.bitfield),e.tree=g(e.bitfield.tree),e.length=e.tree.blocks(),e._seq=e.length,s.key&&e.key&&0!==r.compare(s.key,e.key))return e._forceClose(t,new Error("Another hypercore is stored here"));if(s.key&&(e.key=s.key),s.secretKey&&(e.secretKey=s.secretKey),!e.length)return a(0,null);function a(r,o){if(e.length&&(e.live=!!o),(n||!e.key)&&!e._createIfMissing)return e._forceClose(t,new Error("No hypercore is stored here"));if(!e.key&&e.live){var c=m.keyPair();e.secretKey=c.secretKey,e.key=c.publicKey}var h=!!e.secretKey||null===e.key;if(!h&&e.writable)return e._forceClose(t,new Error("Feed is not writable"));e.writable=h,e._downloadingSet||(e.downloading=!h),e.discoveryKey=e.key&&m.discoveryKey(e.key),e._storeSecretKey&&!e.secretKey&&(e._storeSecretKey=!1);var u=n||!w(e.key,s.key),f=e._storeSecretKey&&(n||!w(e.secretKey,s.secretKey)),d=1+(u?1:0)+(f?1:0)+(e._overwrite?1:0),p=null;function g(n){if(n&&(p=n),!--d)return p?e._forceClose(t,p):void e._roots(e.length,y)}function y(n,r){return n&&i?(i=!1,e.length--,void e._storage.getSignature(e.length-1,a)):n?e._forceClose(t,n):(e._merkle=new l(m,r),e.byteLength=r.reduce(M,0),e.emit("ready"),void t(null))}u&&e._storage.key.write(0,e.key,g),f&&e._storage.secretKey.write(0,e.secretKey,g),e._overwrite&&e._storage.bitfield.del(32,1/0,g),g(null)}e._storage.getSignature(e.length-1,a)}this._storage.openKey((function(t,r){if(!r||e._overwrite||e.key||(e.key=r),!e.key&&e.live){var i=m.keyPair();e.secretKey=i.secretKey,e.key=i.publicKey,n=!0}e.discoveryKey=e.key&&m.discoveryKey(e.key),e._storage.open({key:e.key,discoveryKey:e.discoveryKey},o)}))},O.prototype.download=function(t,e){if("function"==typeof t)return this.download(null,t);if("number"==typeof t&&(t={start:t,end:t+1}),Array.isArray(t)&&(t={blocks:t}),t||(t={}),e||(e=T),!this.readable)return e(new Error("Feed is closed"));if(t.blocks&&"number"!=typeof t.start){for(var n=-1,r=0,i=0;i<t.blocks.length;i++){const e=t.blocks[i];(-1===n||e<n)&&(n=e),e>=r&&(r=e+1)}t.start=-1===n?0:n,t.end=r}var o={_index:this._selections.length,hash:!!t.hash,iterator:null,start:t.start||0,end:t.end||-1,want:0,linear:!!t.linear,blocks:t.blocks||null,blocksDownloaded:0,requested:0,callback:e};return o.want=j(o.start),this._selections.push(o),this._updatePeers(),o},O.prototype.undownload=function(t){if("number"==typeof t&&(t={start:t,end:t+1}),t||(t={}),t.callback&&t._index>-1)return a.remove(this._selections,t),void i.nextTick(t.callback,F("ECANCELED",-11,"Download was cancelled"));for(var e=t.start||0,n=t.end||-1,r=!!t.hash,o=!!t.linear,s=0;s<this._selections.length;s++){var l=this._selections[s];if(l.start===e&&l.end===n&&l.hash===r&&l.linear===o)return a.remove(this._selections,l),void i.nextTick(t.callback,F("ECANCELED",-11,"Download was cancelled"))}},O.prototype.digest=function(t){return this.tree.digest(2*t)},O.prototype.proof=function(t,e,n){if("function"==typeof e)return this.proof(t,null,e);if(!this.opened)return this._readyAndProof(t,e,n);e||(e={});var r=this.tree.proof(2*t,e);if(!r)return n(new Error("No proof available for this index"));var i=this.live&&!!r.verifiedBy,o=r.nodes.length+(i?1:0),s=null,a=null,l=new Array(r.nodes.length);if(!o)return n(null,{nodes:l,signature:null});for(var c=0;c<r.nodes.length;c++)this._storage.getNode(r.nodes[c],h);function h(t,e){if(t&&(s=t),e&&(l[r.nodes.indexOf(e.index)]=e),!--o)return s?n(s):void n(null,{nodes:l,signature:a})}i&&this._storage.getSignature(r.verifiedBy/2-1,(function(t,e){e&&(a=e),h(t,null)}))},O.prototype._readyAndProof=function(t,e,n){var r=this;this.ready((function(i){if(i)return n(i);r.proof(t,e,n)}))},O.prototype.put=function(t,e,n,r){if(!this.opened)return this._readyAndPut(t,e,n,r);this._putBuffer(t,null===e?null:this._codec.encode(e),n,null,r)},O.prototype.cancel=function(t,e){if("symbol"!=typeof t){e||(e=t+1);for(var n=this._selections.length-1;n>=0;n--){var r=this._selections[n];t<=r.start&&r.end<=e&&this.undownload(r)}}this.opened?this._cancel(t,e):this._readyAndCancel(t,e)},O.prototype._cancel=function(t,e){var n=0;if("symbol"!=typeof t){for(n=t;n<e;n++)this._reserved.set(n,!1);for(n=this._waiting.length-1;n>=0;n--){var r=this._waiting[n];(t<=r.start&&r.end<=e||t<=r.index&&r.index<e)&&(s(this._waiting,n),r.callback&&i.nextTick(r.callback,new Error("Request cancelled")))}}else for(n=this._waiting.length-1;n>=0;n--){const e=this._waiting[n];if(e.options.cancel===t)return s(this._waiting,n),this._reserved.set(e.index,!1),e.callback&&i.nextTick(e.callback,new Error("Request cancelled")),void this._updatePeers()}},O.prototype.clear=function(t,e,n,r){if("function"==typeof e)return this.clear(t,t+1,null,e);if("function"==typeof n)return this.clear(t,e,null,n);n||(n={}),e||(e=t+1),r||(r=T);var o=this,s=0===t?0:"number"==typeof n.byteOffset?n.byteOffset:-1,a="number"==typeof n.byteLength?n.byteLength:-1;this.ready((function(l){if(l)return r(l);for(var c=!1,h=t;h<e;h++)o.bitfield.set(h,!1)&&(c=!0);if(!c)return i.nextTick(r);if(o._unannounce({start:t,length:e-t}),!1===n.delete||o._indexing)return u();if(s>-1)return f(null,s);function u(){o.emit("clear",t,e),o._sync(null,r)}function f(t,n){return t?r(t):(s=n,a>-1?d(null,a+s):e===o.length?d(null,o.byteLength):void o._storage.dataOffset(e,[],d))}function d(t,e){return t?r(t):o._storage.data.del?void o._storage.data.del(s,e-s,u):u()}o._storage.dataOffset(t,[],f)}))},O.prototype.signature=function(t,e){return"function"==typeof t?this.signature(this.length-1,t):t<0||t>=this.length?e(new Error("No signature available for this index")):void this._storage.nextSignature(t,e)},O.prototype.verify=function(t,e,n){var r=this;this.rootHashes(t,(function(i,o){if(i)return n(i);var s=m.signable(o,t+1);H(r,s,e,(function(t,e){return t?n(t):e?n(null,!0):n(new Error("Signature verification failed"))}))}))},O.prototype.rootHashes=function(t,e){this._getRootsToVerify(2*t+2,{},[],e)},O.prototype.seek=function(t,e,n){if("function"==typeof e)return this.seek(t,null,e);if(e||(e={}),!this.opened)return this._readyAndSeek(t,e,n);var r=this;if(t===this.byteLength)return i.nextTick(n,null,this.length,0);this._seek(t,(function(i,o,s){if(!i&&N(o))return function(e,i){for(var o=0;o<r.peers.length;o++)r.peers[o].haveBytes(t);n(null,e,i)}(o/2,s);if(!1===e.wait)return n(i||new Error("Unable to seek to this offset"));var a=e.start||0,l=e.end||-1;if(!i){var h=c.leftSpan(o)/2,u=c.rightSpan(o)/2+1;h>a&&(a=h),(u<l||-1===l)&&(l=u)}if(l>-1&&l<=a)return n(new Error("Unable to seek to this offset"));var f={hash:!1!==e.hash,bytes:t,index:-1,ifAvailable:e&&"boolean"==typeof e.ifAvailable?e.ifAvailable:r._alwaysIfAvailable,start:a,end:l,want:j(a),requested:0,callback:n||T};r._waiting.push(f),r._updatePeers(),f.ifAvailable&&r._ifAvailableSeek(f)}))},O.prototype._ifAvailableSeek=function(t){var e=this,n=t.callback;function r(r){var i=e._waiting.indexOf(t);i>-1&&(s(e._waiting,i),t.callback=T,n(r))}e.timeouts.get((function(){if(e.closed)return r(new Error("Closed"));i.nextTick(P,e.ifAvailable,(function(){if(e.closed)return r(new Error("Closed"));let n=!1;for(const r of e.peers){const i=r._iterator;let o=i.seek(t.start).next(!0);for(;e.tree.get(2*o)&&o>-1;)o=i.next(!0);if(o>-1&&(-1===t.end||o<t.end)){n=!0;break}}n||r(new Error("Seek not available from peers"))}))}))},O.prototype._seek=function(t,e){if(0===t)return e(null,0,0);var n=this,r=c.fullRoots(2*this.length),i=0;function o(r){if(N(r))return e(null,i,t);for(var o=c.leftChild(r);!n.tree.get(o);){if(N(o))return e(null,i,t);o=c.leftChild(o)}n._storage.getNode(o,s)}function s(n,r){if(n)return e(n);r.size>t?(i=r.index,o(r.index)):(t-=r.size,c.parent(r.index)===i?o(i=c.sibling(r.index)):o(c.sibling(r.index)))}!function s(a,l){if(a)return e(a);if(l){if(l.size>t)return i=l.index,o(l.index);t-=l.size}if(!r.length)return e(new Error("Out of bounds"));n._storage.getNode(r.shift(),s)}(null,null)},O.prototype._readyAndSeek=function(t,e,n){var r=this;this.ready((function(i){if(i)return n(i);r.seek(t,e,n)}))},O.prototype._getBuffer=function(t,e){this._storage.getData(t,e)},O.prototype._putBuffer=function(t,e,n,r,i){for(var o=this,s=-1,a=[],l=2*t,h=e?0:1;;){if(this.tree.get(l)){s=l;break}var u=c.sibling(l);if(l=c.parent(l),h<n.nodes.length&&n.nodes[h].index===u)h++;else{if(!this.tree.get(u))break;a.push(u)}}-1===s&&this.tree.get(l)&&(s=l);var f=null,d=null,p=new Array(a.length),g=a.length+(s>-1?1:0);for(h=0;h<a.length;h++)this._storage.getNode(a[h],y);function y(t,e){t&&(f=t),e&&(p[a.indexOf(e.index)]=e),--g||m(f)}function m(s){if(s)return i(s);o._verifyAndWrite(t,e,n,p,d,r,i)}s>-1&&this._storage.getNode(s,(function(t,e){t&&(f=t),e&&(d=e),--g||m(f)})),a.length||-1!==s||m(null)},O.prototype._readyAndPut=function(t,e,n,r){var i=this;this.ready((function(o){if(o)return r(o);i.put(t,e,n,r)}))},O.prototype._write=function(t,e,n,r,i,o){if(!this._onwrite)return this._writeAfterHook(t,e,n,r,i,o);this._onwrite(t,e,i,function(t,e,n,r,i,o,s){return function(a){if(a)return s(a);t._writeAfterHook(e,n,r,i,o,s)}}(this,t,e,n,r,i,o))},O.prototype._writeAfterHook=function(t,e,n,r,i,o){for(var s=this,a=n.length+1+(r?1:0),l=null,c=0;c<n.length;c++)this._storage.putNode(n[c].index,n[c],h);function h(r){if(r&&(l=r),!--a)return l?o(l):void s._writeDone(t,e,n,i,o)}e?this._storage.putData(t,e,n,h):h(),r&&this._storage.putSignature(r.index,r.signature,h)},O.prototype._writeDone=function(t,e,n,r,i){for(var o=0;o<n.length;o++)this.tree.set(n[o].index);this.tree.set(2*t),e&&(this.bitfield.set(t,!0)&&(this._stats&&(this._stats.downloadedBlocks+=1,this._stats.downloadedBytes+=e.length),this.emit("download",t,e,r)),this.peers.length&&this._announce({start:t},r),this.writable||(this._synced||(this._synced=this.bitfield.iterator(0,this.length)),-1===this._synced.next()&&(this._synced.range(0,this.length),this._synced.seek(0),-1===this._synced.next()&&this.emit("sync")))),this._sync(null,i)},O.prototype._verifyAndWrite=function(t,e,n,r,i,o,s){var a=[],l=n.nodes,h=e?new y.Node(2*t,m.data(e),e.length):l.shift();if(R(i,h))this._write(t,e,a,null,o,s);else for(;;){var u=null,f=c.sibling(h.index);if(l.length&&l[0].index===f)u=l.shift(),a.push(u);else{if(!r.length||r[0].index!==f)return void this._verifyRootsAndWrite(t,e,h,n,a,o,s);u=r.shift()}if(a.push(h),R(i,h=new y.Node(c.parent(h.index),m.parent(h,u),h.size+u.size)))return void this._write(t,e,a,null,o,s)}},O.prototype._verifyRootsAndWrite=function(t,e,n,i,o,s,a){var l=i.nodes,h=l.length?l[l.length-1].index:n.index,u=Math.max(c.rightSpan(n.index),c.rightSpan(h))+2,f=u/2,d=this;this._getRootsToVerify(u,n,l,(function(n,l,c){if(n)return a(n);var h=m.signable(l,f),p=null;if(d.length&&d.live&&!i.signature)return a(new Error("Remote did not include a signature"));if(i.signature)H(d,h,i.signature,(function(t,e){return t?a(t):e?(p={index:u/2-1,signature:i.signature},void g()):a(new Error("Remote signature could not be verified"))}));else{if(0!==r.compare(h.slice(0,32),d.key))return a(new Error("Remote checksum failed"));g()}function g(){d.live=!!p,f>d.length&&(d.writable&&(d._merkle=null),d.length=f,d._seq=f,d.byteLength=l.reduce(M,0),d._synced&&d._synced.seek(0,d.length),d.emit("append")),d._write(t,e,o.concat(c),p,s,a)}}))},O.prototype._getRootsToVerify=function(t,e,n,r){for(var i=c.fullRoots(t),o=new Array(i.length),s=[],a=null,l=o.length,h=0;h<i.length;h++)i[h]===e.index?(s.push(e),u(null,e)):n.length&&i[h]===n[0].index?(s.push(n[0]),u(null,n.shift())):this.tree.get(i[h])?this._storage.getNode(i[h],u):u(new Error("Missing tree roots needed for verify"));function u(t,e){t&&(a=t),e&&(o[i.indexOf(e.index)]=e),--l||function(t){if(t)return r(t);r(null,o,s)}(a)}},O.prototype._announce=function(t,e){for(var n=0;n<this.peers.length;n++){var r=this.peers[n];r!==e&&r.have(t)}},O.prototype._unannounce=function(t){for(var e=0;e<this.peers.length;e++)this.peers[e].unhave(t)},O.prototype.downloaded=function(t,e,n){const r=this.bitfield.total(t,e);return n&&i.nextTick(n,null,r),r},O.prototype.has=function(t,e,n){if("function"==typeof e)return this.has(t,void 0,e);if(void 0===e){const e=this.bitfield.get(t);return n&&i.nextTick(n,null,e),e}const r=e-t===this.bitfield.total(t,e);return n&&i.nextTick(n,null,r),r},O.prototype.getBlockInfo=function(t,e){var n=this;this.ready((function(r){if(r)return e(r);n._storage.getNode(2*t,e)}))},O.prototype.head=function(t,e){if("function"==typeof t)return this.head({},t);var n=this;function r(){0===n.length?e(new Error("feed is empty")):n.get(n.length-1,t,e)}this.ready((function(o){if(o)return e(o);t&&t.update?n.update(t,r):i.nextTick(r)}))},O.prototype.get=function(t,e,n){if("function"==typeof e)return this.get(t,null,e);if((e={...e}).cancel||(e.cancel=Symbol("hypercore-get")),!this.opened)return this._readyAndGet(t,e,n);if(!this.readable)return i.nextTick(n,new Error("Feed is closed")),e.cancel;if(e.timeout&&(n=Q(n,e.timeout)),!this.bitfield.get(t)){if(e&&!1===e.wait)return i.nextTick(n,new Error("Block not downloaded"));var r={bytes:0,hash:!1,index:t,options:e,requested:0,callback:n};if(this._waiting.push(r),(e&&"boolean"==typeof e.ifAvailable?e.ifAvailable:this._alwaysIfAvailable)&&this._ifAvailableGet(r),this._updatePeers(),e.onwait){const n=e.onwait;e.onwait=null,n(t)}return e.cancel}return e&&e.valueEncoding?n=U(D(e.valueEncoding),n):this._codec!==h.binary&&(n=U(this._codec,n)),this._getBuffer(t,n),e.cancel},O.prototype._readyAndGet=function(t,e,n){var r=this;return this.ready((function(i){if(i)return n(i);r.get(t,e,n)})),e.cancel},O.prototype.getBatch=function(t,e,n,r){if("function"==typeof n)return this.getBatch(t,e,null,n);if(!this.opened)return this._readyAndGetBatch(t,e,n,r);var o=this,s=!n||!1!==n.wait;return this.has(t,e)?this._getBatch(t,e,n,r):s?(n&&n.timeout&&(r=Q(r,n.timeout)),void this.download({start:t,end:e},(function(i){if(i)return r(i);o._getBatch(t,e,n,r)}))):i.nextTick(r,new Error("Block not downloaded"))},O.prototype._getBatch=function(t,e,n,r){var i=n&&n.valueEncoding,o=i?D(i):this._codec;this._storage.getDataBatch(t,e-t,(function(t,e){if(t)return r(t);for(var n=new Array(e.length),i=0;i<e.length;i++)try{n[i]=o?o.decode(e[i]):e[i]}catch(t){return r(t)}r(null,n)}))},O.prototype._readyAndGetBatch=function(t,e,n,r){var i=this;this.ready((function(o){if(o)return r(o);i.getBatch(t,e,n,r)}))},O.prototype._updatePeers=function(){for(var t=0;t<this.peers.length;t++)this.peers[t].update()},O.prototype.createWriteStream=function(t){return new x(this,t)},O.prototype.createReadStream=function(t){return new k(this,t)},O.prototype.finalize=function(t){this.key||(this.key=m.tree(this._merkle.roots),this.discoveryKey=m.discoveryKey(this.key)),this._storage.key.write(0,this.key,t)},O.prototype.append=function(t,e){e||(e=T);var n=this,r=Array.isArray(t)?t:[t];this._batch(r,(function(t){if(t)return e(t);var i=n._seq;n._seq+=r.length,e(null,i)}))},O.prototype.flush=function(t){this.append([],t)},O.prototype.destroyStorage=function(t){const e=this;this.close((function(n){n?t(n):e._storage.destroy(t)}))},O.prototype._close=function(t){const e=this;for(const t of this.peers)t._destroyed||t._close();this._forceClose((function(n){n||e.emit("close"),t(n)}),null)},O.prototype._forceClose=function(t,e){var n=this;this.writable=!1,this.readable=!1,this._storage.close((function(r){r||(r=e),n._destroy(r||new Error("Feed is closed")),t(r)}))},O.prototype._destroy=function(t){for(this.ifAvailable.destroy();this._waiting.length;)this._waiting.pop().callback(t);for(;this._selections.length;)this._selections.pop().callback(t)},O.prototype._appendHook=function(t,e){var n=this,r=t.length,i=null;if(!r)return this._append(t,e);for(var o=0;o<t.length;o++)this._onwrite(o+this.length,t[o],null,s);function s(o){if(o&&(i=o),!--r)return i?e(i):void n._append(t,e)}},O.prototype._append=function(t,e){if(!this.opened)return this._readyAndAppend(t,e);if(!this.writable)return e(new Error("This feed is not writable. Did you create it?"));var n=this,i=1,o=0,s=null,a=new Array(t.length?2*t.length-1:0),l=2*this.length,c=new Array(t.length);if(!i)return e();for(var h=0;h<t.length;h++){var u=this._codec.encode(t[h]),f=this._merkle.next(u);if(u.length>8388608)return e(new Error("Individual blocks has be less than 8MB"));o+=u.length,c[h]=u;for(var d=0;d<f.length;d++){var p=f[d];p.index>=l&&p.index-l<a.length?a[p.index-l]=p:(i++,this._storage.putNode(p.index,p,g))}}function g(r){if(r&&(s=r),!--i){if(s)return e(s);var a=n.length;n.byteLength+=o;for(var l=0;l<t.length;l++)n.bitfield.set(n.length,!0),n.tree.set(2*n.length++);n.emit("append");var c=n.length-a>1?{start:a,length:n.length-a}:{start:a};n.peers.length&&n._announce(c),n._sync(null,e)}}this.live&&t.length&&(i++,this.crypto.sign(m.signable(this._merkle.roots,n.length+t.length),this.secretKey,(function(e,r){if(e)return g(e);n._storage.putSignature(n.length+t.length-1,r,g)}))),this._indexing||(i++,1===c.length?this._storage.data.write(this.byteLength,c[0],g):this._storage.data.write(this.byteLength,r.concat(c),g)),this._storage.putNodeBatch(l,a,g)},O.prototype._readyAndAppend=function(t,e){var n=this;this.ready((function(r){if(r)return e(r);n._append(t,e)}))},O.prototype._readyAndCancel=function(t,e){var n=this;this.ready((function(){n._cancel(t,e)}))},O.prototype._pollWaiting=function(){for(var t=this._waiting.length,e=0;e<t;e++){var n=this._waiting[e];(n.bytes||this.bitfield.get(n.index)||n.hash&&this.tree.get(2*n.index))&&(s(this._waiting,e--),t--,n.bytes?this.seek(n.bytes,n,n.callback):n.update?this.update(n.index+1,n.callback):this.get(n.index,n.options,n.callback))}},O.prototype._syncBitfield=function(t){var e=this.bitfield.pages.updates.length,n=null,r=null;if(!e)return this._pollWaiting(),t(null);for(;null!==(n=this.bitfield.pages.lastUpdate());)this._storage.putBitfield(n.offset,n.buffer,i);function i(n){n&&(r=n),--e||t(r)}this._pollWaiting()},O.prototype._roots=function(t,e){var n=c.fullRoots(2*t),r=new Array(n.length),i=n.length,o=null;if(!i)return e(null,r);for(var s=0;s<n.length;s++)this._storage.getNode(n[s],a);function a(t,s){if(t&&(o=t),s&&(r[n.indexOf(s.index)]=s),!--i)return o?e(o):void e(null,r)}},O.prototype.audit=function(t){t||(t=T);var e=this,n={valid:0,invalid:0};this.ready((function(r){if(r)return t(r);var i=0,o=e.length;function s(t,r){if(t)return o(0,null);function o(t,o){var s=o&&m.data(o).equals(r.hash);s?n.valid++:n.invalid++,e.bitfield.set(i,s),i++,a()}e._storage.getData(i,o)}function a(){for(;i<o&&!e.bitfield.get(i);)i++;i>=o?e._sync(null,(function(e){if(e)return t(e);t(null,n)})):e._storage.getNode(2*i,s)}a()}))},O.prototype.extension=function(t,e){for(var n=this.peers,r=0;r<n.length;r++)n[r].extension(t,e)}},133:(t,e,n)=>{for(var r=n(8764).Buffer,i=n(535),o=n(7363),s=n(8599),a=n(7010),l=[63,207,243,252],c=[0,192,240,252],h=[128,192,224,240,248,252,254,255],u=[127,191,223,239,247,251,253,254],f=new Array(256),d=new Array(256),p=new Array(256),g=new Array(256),y=new Array(256),m=0;m<256;m++){var b=(240&m)>>4,v=15&m,A=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];f[m]=(15===b?3:0===b?0:1)<<2|(15===v?3:0===v?0:1),d[m]=f[m]<<4,p[m]=255===m?-1:8-Math.ceil(Math.log(256-m)/Math.log(2)),g[m]=255===m?-1:Math.floor(p[m]/2),y[m]=A[m>>4]+A[15&m]}function w(t,e){if(!(this instanceof w))return new w(t,e);t||(t=3584);var n=r.allocUnsafe(t);if(n.fill(255),this.indexSize=t-2048-1024,this.pages=s(t,{deduplicate:n}),e)for(var o=0;o<e.length;o++)this.pages.set(o,e[o]);this.data=a({pageSize:1024,pageOffset:0,pages:this.pages,trackUpdates:!0}),this.tree=a({pageSize:2048,pageOffset:1024,pages:this.pages,trackUpdates:!0}),this.index=a({pageSize:this.indexSize,pageOffset:3072,pages:this.pages,trackUpdates:!0}),this.length=this.data.length,this._iterator=i.iterator(0)}function _(t,e,n){return!(8*e>=t.length)&&t.setByte(e,n)}function I(t){this.start=0,this.end=0,this._indexEnd=0,this._pos=0,this._byte=0,this._bitfield=t}function E(t){return t.index+t.factor/2-1}function C(t){return 1&t.index}t.exports=w,w.prototype.set=function(t,e){var n=7&t;t=(t-n)/8;var r=e?this.data.getByte(t)|128>>n:this.data.getByte(t)&u[n];return!!this.data.setByte(t,r)&&(this.length=this.data.length,this._setIndex(t,r),!0)},w.prototype.get=function(t){return this.data.get(t)},w.prototype.total=function(t,e){if((!t||t<0)&&(t=0),e||(e=this.data.length),e<t)return 0;e>this.data.length&&this._expand(e);var n=7&t,r=7&e,i=(t-n)/8,o=(e-r)/8,s=255-(n?h[n-1]:0),a=r?h[r-1]:0,l=this.data.getByte(i);if(i===o)return y[l&s&a];for(var c=y[l&s],u=i+1;u<o;u++)c+=y[this.data.getByte(u)];return c+y[this.data.getByte(o)&a]},w.prototype.compress=function(t,e){if(!t&&!e)return o.encode(this.data.toBuffer());t+e>this.length&&(e=Math.max(1,this.length-t));for(var n=r.alloc(Math.ceil(e/8)),i=t/this.data.pageSize/8,s=i+e/this.data.pageSize/8,a=i*this.data.pageSize;i<s;i++){var l=this.data.pages.get(i,!0);l&&l.buffer&&l.buffer.copy(n,i*this.data.pageSize-a,this.data.pageOffset,this.data.pageOffset+this.data.pageSize)}return o.encode(n)},w.prototype._setIndex=function(t,e){var n=3&t;t=(t-n)/4;var r=this.index,i=this._iterator,o=2*t,s=r.getByte(o)&l[n]|function(t){switch(t){case 255:return 192;case 0:return 0;default:return 64}}(e)>>2*n,a=r.length,c=this.pages.length*this.indexSize;for(i.seek(o);i.index<c&&r.setByte(i.index,s);)s=i.isLeft()?d[s]|f[r.getByte(i.sibling())]:f[s]|d[r.getByte(i.sibling())],i.parent();return a!==r.length&&this._expand(a),i.index!==o},w.prototype._expand=function(t){for(var e=i.fullRoots(2*t),n=this.index,r=this._iterator,o=0,s=0;s<e.length;s++){r.seek(e[s]),o=n.getByte(r.index);do{o=r.isLeft()?d[o]|f[n.getByte(r.sibling())]:f[o]|d[n.getByte(r.sibling())]}while(_(n,r.parent(),o))}},w.prototype.iterator=function(t,e){var n=new I(this);return n.range(t||0,e||this.length),n.seek(0),n},I.prototype.range=function(t,e){return this.start=t,this.end=e,this._indexEnd=2*Math.ceil(e/32),this.end>this._bitfield.length&&this._bitfield._expand(this.end),this},I.prototype.seek=function(t){if((t+=this.start)<this.start&&(t=this.start),t>=this.end)return this._pos=-1,this;var e=7&t;return this._pos=(t-e)/8,this._byte=this._bitfield.data.getByte(this._pos)|(e?h[e-1]:0),this},I.prototype.random=function(){var t=this.seek(Math.floor(Math.random()*(this.end-this.start))).next();return-1===t?this.seek(0).next():t},I.prototype.next=function(){if(-1===this._pos)return-1;for(var t=this._bitfield.data,e=p[this._byte];-1===e;)if(this._byte=t.getByte(++this._pos),-1===(e=p[this._byte])){if(this._pos=this._skipAhead(this._pos),-1===this._pos)return-1;this._byte=t.getByte(this._pos),e=p[this._byte]}this._byte|=h[e];var n=8*this._pos+e;return n<this.end?n:-1},I.prototype.peek=function(){if(-1===this._pos)return-1;var t=p[this._byte],e=8*this._pos+t;return e<this.end?e:-1},I.prototype._skipAhead=function(t){var e=this._bitfield.index,n=this._indexEnd,r=this._bitfield._iterator,i=3&t;r.seek((t-i)/4*2);for(var o=e.getByte(r.index)|c[i];-1===g[o];){if(r.isLeft()?r.next():(r.next(),r.parent()),E(r)>=n){for(;E(r)>=n&&C(r);)r.leftChild();if(E(r)>=n)return-1}o=e.getByte(r.index)}for(;r.factor>2;)g[o]<2?r.leftChild():r.rightChild(),o=e.getByte(r.index);var s=g[o];-1===s&&(s=4);var a=2*r.index+s;return a<=t?t+1:a}},5121:(t,e,n)=>{const r=n(397);t.exports=function(t){if(!1===t.cache)return{};const e=t.cache||{};if(void 0===e.tree||"number"==typeof e.tree){const n=e.tree||t.storageCacheSize;e.tree=new r({maxByteSize:void 0!==n?n:2621440,estimateSize:()=>40})}return void 0===e.data||"number"==typeof e.data&&(e.data=new r({maxByteSize:e.data,estimateSize:t=>t.length})),e}},456:(t,e,n)=>{var r=n(9164),i=n(3380),o=n(1800),s=n(8861),a=n(7363).align(4),l=n(2986),c=new Uint8Array(1024);function h(t,e){if(e.extensions)throw new Error("Per peer extensions is not supported. Use feed.registerExtension instead");this.feed=t,this.stream=null,this.wants=o(),this.remoteBitfield=o(),this.remoteLength=0,this.remoteWant=!1,this.remoteTree=null,this.remoteAck=!1,this.remoteOpened=!1,this.live=!!e.live,this.sparse=t.sparse,this.ack=!!e.ack,this.remoteDownloading=!0,this.remoteUploading=!0,this.remoteExtensions=t.extensions.remote(),this.downloading="boolean"==typeof e.download?e.download:t.downloading,this.uploading="boolean"==typeof e.upload?e.upload:t.uploading,this.updated=!1,this.maxRequests=e.maxRequests||t.maxRequests||16,this.urgentRequests=this.maxRequests+16,this.inflightRequests=[],this.inflightWants=0,this._index=-1,this._lastBytes=0,this._first=!0,this._closed=!1,this._destroyed=!1,this._defaultDownloading=this.downloading,this._iterator=this.remoteBitfield.iterator(),this._requestTimeout=null,this.stats=e.stats?{uploadedBytes:0,uploadedBlocks:0,downloadedBytes:0,downloadedBlocks:0}:null}function u(t){var e=t?t.buffer:c;return new DataView(e.buffer,e.byteOffset,1024)}t.exports=function(t,e,n){t.ifAvailable.wait();var i=r.isProtocolStream(e)?e:n.stream;return i||(n.keyPair||(n.keyPair=t.noiseKeyPair),i=new r(e,n)),t.opened?o(null):t.ready(o),i;function o(e){return t.ifAvailable.continue(),e?i.destroy(e):i.destroyed||i.opened(t.key)?void 0:!1!==n.noise&&n.onfeedauthenticate?i.remotePublicKey?void a():(t.ifAvailable.wait(),i.setMaxListeners(0),i.on("close",s),void i.on("handshake",s)):void l()}function s(){t.ifAvailable.continue(),i.off("close",s),i.off("handshake",s),a()}function a(){i.destroyed||i.opened(t.key)||(t.ifAvailable.wait(),n.onfeedauthenticate(t,i.remotePublicKey,(function(e){t.ifAvailable.continue(),i.destroyed||i.opened(t.key)||(e?i.close(t.discoveryKey):l())})))}function l(){if(!1===n.noise||!i.remoteOpened(t.key)||i.remoteVerified(t.key)){var e=new h(t,n);e.feed=t,e.stream=i.open(t.key,e),i.setMaxListeners(0),e.ready(),t.emit("replicating",i)}else i.close(t.discoveryKey)}},Object.defineProperty(h.prototype,"remoteAddress",{enumerable:!0,get:function(){return this.stream.stream.remoteAddress}}),Object.defineProperty(h.prototype,"remoteType",{enumerable:!0,get:function(){return this.stream.stream.remoteType}}),Object.defineProperty(h.prototype,"remotePublicKey",{enumerable:!0,get:function(){return this.stream.state.remotePublicKey}}),h.prototype.onwant=function(t){if(this.uploading&&!(8191&t.start||8191&t.length)){!this.remoteWant&&this.feed.length&&this.feed.bitfield.get(this.feed.length-1)&&this.stream.have({start:this.feed.length-1}),this.remoteWant=!0;var e=this.feed.bitfield.compress(t.start,t.length);this.stream.have({start:t.start,length:t.length,bitfield:e})}},h.prototype.ondata=function(t){var e=this;if(!this.feed.allowPush&&t.value&&!this.feed._reserved.get(t.index))return e.feed.bitfield.get(t.index)||e.unhave({start:t.index}),void e._clear(t.index,!t.value);this.feed._putBuffer(t.index,t.value,t,this,(function(n){if(n)return e.destroy(n);t.value&&e.remoteBitfield.set(t.index,!1),e.remoteAck&&e.stream.have({start:t.index,length:1,ack:!0}),e.stats&&t.value&&(e.stats.downloadedBlocks+=1,e.stats.downloadedBytes+=t.value.length),e._clear(t.index,!t.value)}))},h.prototype._clear=function(t,e){for(var n=0;n<this.inflightRequests.length;n++)this.inflightRequests[n].index===t&&(null!==this._requestTimeout&&this._requestTimeout.refresh(),this.inflightRequests.splice(n,1),n--);this.feed._reserved.set(t,!1),this.feed._updatePeers(),0===this.inflightRequests.length&&null!==this._requestTimeout&&(this._requestTimeout.destroy(),this._requestTimeout=null)},h.prototype.onrequest=function(t){if(this.uploading){if(t.bytes)return this._onbytes(t);this.remoteTree||(this.remoteTree=l());var e=this,n={digest:t.nodes,hash:t.hash,tree:this.remoteTree};this.feed.proof(t.index,n,(function(n,r){if(n)return e.destroy(n);function i(n,i){if(e.uploading){if(n)return e.destroy(n);i&&(e.stats&&(e.stats.uploadedBlocks+=1,e.stats.uploadedBytes+=i.length,e.feed._stats.uploadedBlocks+=1,e.feed._stats.uploadedBytes+=i.length),e.feed.emit("upload",t.index,i,e)),t.index+1>e.remoteLength&&(e.remoteLength=t.index+1,e._updateEnd()),e.stream.data({index:t.index,value:i,nodes:r.nodes,signature:r.signature})}}t.hash?i(null,null):e.feed.bitfield.get(t.index)&&e.feed._getBuffer(t.index,i)}))}},h.prototype._updateOptions=function(){(this.ack||this.feed.extensions.length)&&this.stream.options({ack:this.ack,extensions:this.feed.extensions.names()})},h.prototype.setDownloading=function(t){t!==this.downloading&&(this.downloading=t,this.stream.status({downloading:t,uploading:this.uploading}),this.update())},h.prototype.setUploading=function(t){t!==this.uploading&&(this.uploading=t,this.stream.status({downloading:this.downloading,uploading:t}),this.update())},h.prototype._onbytes=function(t){var e=this;this.feed.seek(t.bytes,{wait:!1},(function(n,r){if(n)return t.bytes=0,void e.onrequest(t);e._lastBytes!==t.bytes&&(e._lastBytes=t.bytes,t.bytes=0,t.index=r,t.nodes=0,e.onrequest(t))}))},h.prototype._onrequesttimeout=function(){if(this._requestTimeout=null,this.inflightRequests.length){var t=this.inflightRequests[0];if(t.hash?this.feed.tree.get(2*t.index):this.feed.bitfield.get(t.index))return this.inflightRequests.shift(),this.feed._reserved.set(t.index,!1),void(this.stream.stream.timeout&&(this._requestTimeout=i(this.stream.stream.timeout.ms,this._onrequesttimeout,this)));this.destroy(new Error("Request timeout"))}},h.prototype.onhave=function(t){if(this.feed.emit("peer-ack",this,t),this.ack&&t.ack&&!t.bitfield&&this.feed.bitfield.get(t.start))this.stream.stream.emit("ack",t);else{var e=this._first;if(this._first&&(this._first=!1),1048576===t.length&&this.inflightWants>0&&(this.feed.ifAvailable.continue(),this.inflightWants--),t.bitfield){0!==t.length&&1!==t.length||(this.wants=null);var n=a.decode(t.bitfield),r=8*n.length;!function(t,e,n,r){for(var i=new DataView(e.buffer,e.byteOffset),o=Math.floor(e.length/4),s=new Uint32Array(e.buffer,e.byteOffset,o),a=r/8192,l=0,c=u(t.pages.get(a++,!0)),h=0;h<o;h++)s[h]=i.getUint32(4*h,!n)&~c.getUint32(4*l++,!n),256===l&&(c=u(t.pages.get(a++,!0)),l=0)}(this.feed.bitfield,n,this.remoteBitfield.littleEndian,t.start),this.remoteBitfield.fill(n,t.start),r>this.remoteLength&&(this.remoteLength=this.remoteBitfield.last()+1,e=!0)}else{for(var i=t.start,o=t.length||1;o--;)this.remoteBitfield.set(i,!this.feed.bitfield.get(i++));i>this.remoteLength&&(this.remoteLength=i,e=!0)}e&&(this.updated=!0,this.feed.emit("remote-update",this)),this._updateEnd(),this.update()}},h.prototype._updateEnd=function(){if(!this.live&&!this.feed.sparse&&this.feed._selections.length){for(var t=this.feed._selections[0],e=this.feed.length||-1,n=0;n<this.feed.peers.length;n++)this.feed.peers[n].remoteLength>e&&(e=this.feed.peers[n].remoteLength);t.end=e}},h.prototype.onextension=function(t,e){this.remoteExtensions.onmessage(t,e,this)},h.prototype.onstatus=function(t){if(this.remoteUploading=t.uploading,this.remoteDownloading=t.downloading,!t.uploading){for(;this.inflightRequests.length;){const t=this.inflightRequests[0];this._clear(t.index,!t.value)}for(var e=0;e<this.inflightWants;e++)this.feed.ifAvailable.continue();this.inflightWants=0,this.wants=o()}this.update(),t.downloading||this.live||this.feed._selections.length&&this.downloading||this._autoEnd()},h.prototype._autoEnd=function(){this.uploading&&this.remoteDownloading||(this.sparse||this.live)&&(this.remoteUploading||this.downloading)||this.end()},h.prototype.onunhave=function(t){var e=t.start,n=t.length||1;if(0===e&&n>=this.remoteLength)return this.remoteLength=0,void(this.remoteBitfield=o());for(;n--;)this.remoteBitfield.set(e++,!1)},h.prototype.onunwant=h.prototype.oncancel=function(){},h.prototype.onclose=function(){this._close()},h.prototype.have=function(t){this.stream&&this.remoteWant&&this.stream.have(t);for(var e=t.start,n=t.length;n--;)this.remoteBitfield.set(e++,!1)},h.prototype.unhave=function(t){this.stream&&this.remoteWant&&this.stream.unhave(t)},h.prototype.haveBytes=function(t){for(var e=0;e<this.inflightRequests.length;e++)this.inflightRequests[e].bytes===t&&(this.feed._reserved.set(this.inflightRequests[e].index,!1),this.inflightRequests.splice(e,1),e--);this.update(),0===this.inflightRequests.length&&null!==this._requestTimeout&&(this._requestTimeout.destroy(),this._requestTimeout=null)},h.prototype.update=function(){for(;this._update(););this._sendWantsMaybe()},h.prototype._update=function(){if(!this.downloading||!this.remoteUploading)return!1;for(var t=this.feed._selections,e=this.feed._waiting,n=e.length,r=t.length,i=this.inflightRequests.length,o=0,s=0;i<this.urgentRequests;){for(o=Math.floor(Math.random()*e.length),s=0;s<e.length;s++){var a=e[o++];if(o===e.length&&(o=0),this._downloadWaiting(a),e.length!==n)return!0;if(this.inflightRequests.length>=this.urgentRequests)return!1}if(i===this.inflightRequests.length)break;i=this.inflightRequests.length}for(;i<this.maxRequests;){for(o=Math.floor(Math.random()*t.length),s=0;s<t.length;s++){var l=t[o++];if(o===t.length&&(o=0),l.iterator||(l.iterator=this.feed.bitfield.iterator(l.start,l.end)),l.blocks?this._downloadBlocks(l):this._downloadRange(l),t.length!==r)return!0;if(this.inflightRequests.length>=this.maxRequests)return!1}if(i===this.inflightRequests.length)return!1;i=this.inflightRequests.length}return!1},h.prototype.onopen=function(){this.feed.ifAvailable.continue(),this.remoteOpened=!0,this._updateOptions(),this.uploading&&this.downloading||this.stream.status({uploading:this.uploading,downloading:this.downloading}),this._sendWants(),this.feed.emit("peer-open",this)},h.prototype.onoptions=function(t){this.remoteAck=t.ack,this.remoteExtensions.update(t.extensions)},h.prototype.ready=function(){this.feed.ifAvailable.wait(),s.add(this.feed.peers,this),this.feed.emit("peer-add",this),this.stream.remoteOpened&&this.onopen()},h.prototype.end=function(){if(!this.downloading&&!this.remoteDownloading&&!this.live)return this._defaultDownloading||this.stream.status({downloading:!1,uploading:!1}),void this._close();this._closed?this.live||this._close():(this._closed=!0,this.downloading=!1,this.stream.status({downloading:!1,uploading:!0}))},h.prototype._close=function(){if(this._destroyed||(this._destroyed=!0,this.stream.close()),-1!==this._index){s.remove(this.feed.peers,this),this._index=-1;for(var t=0;t<this.inflightRequests.length;t++)this.feed._reserved.set(this.inflightRequests[t].index,!1);for(null!==this._requestTimeout&&(this._requestTimeout.destroy(),this._requestTimeout=null),this._updateEnd(),this.remoteWant=!1,this.feed._updatePeers(),this.feed.emit("peer-remove",this),t=0;t<this.inflightWants;t++)this.feed.ifAvailable.continue();this.remoteOpened||this.feed.ifAvailable.continue()}},h.prototype.destroy=function(t){-1===this._index||this._destroyed||(this.stream.destroy(t),this._destroyed=!0,this._close())},h.prototype._sendWantsMaybe=function(){this.inflightRequests.length<this.urgentRequests&&this._sendWants()},h.prototype._sendWants=function(){if(this.wants&&this.downloading&&this.remoteOpened&&this.remoteUploading&&!(this.inflightWants>=16)){var t;for(t=0;t<this.feed._waiting.length;t++){var e=this.feed._waiting[t];if(-1===e.index?this._sendWantRange(e):this._sendWant(e.index),this.inflightWants>=16)return}for(t=0;t<this.feed._selections.length;t++){var n=this.feed._selections[t];if(this._sendWantRange(n),this.inflightWants>=16)return}this._sendWant(0)}},h.prototype._sendWantRange=function(t){if(t.blocks){if(t.selected||(t.selected=new WeakSet),t.selected.has(this))return;t.selected.add(this);for(const e of t.blocks)this._sendWant(e)}else for(var e=t.start?1048576*Math.floor(t.start/1024/1024):0;;){if(e>=this.remoteLength)return;if(-1!==t.end&&e>=t.end)return;if(this._sendWant(e))return;if(!this.wants.get(Math.floor(e/1024/1024)))return;e+=1048576}},h.prototype._sendWant=function(t){var e=1048576,n=Math.floor(t/e);return!this.wants.get(n)&&(this.wants.set(n,!0),this.inflightWants++,this.feed.ifAvailable.wait(),this.stream.want({start:n*e,length:e}),!0)},h.prototype._downloadWaiting=function(t){if(t.bytes)this._downloadRange(t);else{if(!this.remoteBitfield.get(t.index)||!this.feed._reserved.set(t.index,!0)){if(!t.update||this.feed._reserved.get(t.index))return;const e=this._iterator.seek(t.index).next(!0);if(-1===e||!this.feed._reserved.set(e,!0))return;t.index=e}this._request(t.index,0,!0===t.hash)}},h.prototype._downloadBlocks=function(t){for(;t.blocksDownloaded<t.blocks.length;){const e=t.blocks[t.blocksDownloaded];if(!this.feed.bitfield.get(e))break;t.blocksDownloaded++}if(t.blocksDownloaded>=t.blocks.length)return s.remove(this.feed._selections,t),void t.callback(null);for(var e=t.blocksDownloaded;e<t.blocks.length;e++){const n=t.blocks[e];if(this.remoteBitfield.get(n)&&this.feed._reserved.set(n,!0))return t.requested++,void this._request(n,0,!1)}},h.prototype._downloadRange=function(t){t.iterator||(t.iterator=this.feed.bitfield.iterator(t.start,t.end));var e=this.feed._reserved,n=this._iterator,r=Math.min(-1===t.end?this.remoteLength:t.end,this.remoteLength),i=t.linear?n.seek(t.start).next(!0):function(t,e,n){var r=n-e,i=t.seek(Math.floor(Math.random()*r)+e).next(!0);return-1===i||i>=n?t.seek(e).next(!0):i}(n,t.start,r),o=i;if(-1===i||i>=r)!t.bytes&&t.end>-1&&this.feed.length>=t.end&&-1===t.iterator.seek(0).next()&&(s.remove(this.feed._selections,t),t.callback(null),this.live||this.sparse||this.feed._selections.length||this.end());else{for(;t.hash&&this.feed.tree.get(2*i)||!e.set(i,!0);)if(!((i=n.next(!0))>-1&&i<r)&&(t.linear||0===o||(o=0,!((i=n.seek(t.start).next(!0))>-1&&i<r)))){if(t.hash){for(var a=t.start;a<r;a++)if(!this.feed.tree.get(2*a))return;t.bytes||(s.remove(this.feed._selections,t),t.callback(null))}return}t.requested++,this._request(i,t.bytes||0,t.hash)}},h.prototype._request=function(t,e,n){var r={bytes:e,index:t,hash:n,nodes:this.feed.digest(t)};null===this._requestTimeout&&this.stream.stream.timeout&&(this._requestTimeout=i(this.stream.stream.timeout.ms,this._onrequesttimeout,this)),this.inflightRequests.push(r),this.stream.request(r)},h.prototype.extension=function(t,e){this.stream.extension(t,e)}},1445:(t,e,n)=>{var r=n(8764).Buffer;t.exports=function(t,e){return t?e?0===r.compare(t,e):!t:!e}},2746:(t,e,n)=>{var r=n(4155),i=n(8764).Buffer,o=n(4372),s=n(535),a=n(5121);t.exports=c;var l=[];function c(t,e){if(!(this instanceof c))return new c(t,e);const n=a(e);this.treeCache=n.tree||null,this.dataCache=n.data||null,this.key=null,this.secretKey=null,this.tree=null,this.data=null,this.bitfield=null,this.signatures=null,this.create=t}function h(){}function u(t,e,n){var r=i.alloc(32);return r[0]=5,r[1]=2,r[2]=87,r[3]=t,r[4]=0,r.writeUInt16BE(e,5),n&&(r[7]=n.length,r.write(n,8)),r}function f(t,e,n){this.index=t,this.hash=e,this.size=n}function d(t,e){for(var n=0;n<t.length;n++)if(t[n].index===e)return t[n];return null}function p(t){for(var e=0;e<t.length;e++)if(t[e])return!1;return!0}function g(t,e){t.close?t.close(e):e()}function y(t,e){t.destroy?t.destroy(e):e()}c.prototype.putData=function(t,e,n,r){r||(r=h);var i=this;if(!e.length)return r(null);this.dataOffset(t,n,(function(t,n,o){return t?r(t):o!==e.length?r(new Error("Unexpected data size")):void i.data.write(n,e,r)}))},c.prototype.getData=function(t,e){var n=this,i=this.dataCache&&this.dataCache.get(t);if(i)return r.nextTick(e,null,i);this.dataOffset(t,l,(function(r,i,o){if(r)return e(r);n.data.read(i,o,((r,i)=>r?e(r):(n.dataCache&&n.dataCache.set(t,i),e(null,i))))}))},c.prototype.nextSignature=function(t,e){var n=this;this._getSignature(t,(function(r,i){return r?e(r):p(i)?n.nextSignature(t+1,e):void e(null,{index:t,signature:i})}))},c.prototype.getSignature=function(t,e){this._getSignature(t,(function(t,n){return t?e(t):p(n)?e(new Error("No signature found")):void e(null,n)}))},c.prototype._getSignature=function(t,e){this.signatures.read(32+64*t,64,e)},c.prototype.putSignature=function(t,e,n){this.signatures.write(32+64*t,e,n)},c.prototype.deleteSignatures=function(t,e,n){this.signatures.del(32+64*t,64*(e-t),n)},c.prototype.dataOffset=function(t,e,n){var r=s.fullRoots(2*t),i=this,o=0,a=r.length,l=null,c=2*t;if(!a)return a=1,void p(null,null);for(var h=0;h<r.length;h++){var u=d(e,r[h]);u?p(null,u):this.getNode(r[h],p)}function f(t,e){if(t)return n(t);n(null,o,e.size)}function p(t,r){if(t&&(l=t),r&&(o+=r.size),!--a){if(l)return n(l);var s=d(e,c);s?f(null,s):i.getNode(c,f)}}},c.prototype.getDataBatch=function(t,e,n){var r=new Array(e),i=new Array(e),s=this;this.dataOffset(t,l,(function(a,l,c){if(a)return n(a);if(t++,--e<=0)return h(null,null);function h(t,e){if(t)return n(t);var r=i[0]=c;if(e)for(var a=1;a<i.length;a++)i[a]=o.decode(e,32+80*(a-1)),r+=i[a];s.data.read(l,r,u)}function u(t,e){if(t)return n(t);for(var o=0,s=0;s<r.length;s++)r[s]=e.slice(o,o+=i[s]);n(null,r)}s.tree.read(32+80*t,80*e-40,h)}))},c.prototype.getNode=function(t,e){if(this.treeCache){var n=this.treeCache.get(t);if(n)return e(null,n)}var r=this;this.tree.read(32+40*t,40,(function(n,s){if(n)return e(n);var a=s.slice(0,32),l=o.decode(s,32);if(!l&&p(a))return e(new Error("No node found"));var c=new f(t,r.treeCache?function(t,e){if(t.buffer.byteLength<=40)return t;const n=i.alloc(t.byteLength);return t.copy(n),n}(a):a,l,null);r.treeCache&&r.treeCache.set(t,c),e(null,c)}))},c.prototype.putNodeBatch=function(t,e,n){n||(n=h);for(var r=i.alloc(40*e.length),s=0;s<e.length;s++){var a=40*s,l=e[s];l&&(l.hash.copy(r,a),o.encode(l.size,r,32+a))}this.tree.write(32+40*t,r,n)},c.prototype.putNode=function(t,e,n){n||(n=h);var r=i.allocUnsafe(40);e.hash.copy(r,0),o.encode(e.size,r,32),this.tree.write(32+40*t,r,n)},c.prototype.putBitfield=function(t,e,n){this.bitfield.write(32+t,e,n)},c.prototype.close=function(t){t||(t=h);var e=6,n=null;function r(r){r&&(n=r),--e||t(n)}g(this.bitfield,r),g(this.tree,r),g(this.data,r),g(this.key,r),g(this.secretKey,r),g(this.signatures,r)},c.prototype.destroy=function(t){t||(t=h);var e=6,n=null;function r(r){r&&(n=r),--e||t(n)}y(this.bitfield,r),y(this.tree,r),y(this.data,r),y(this.key,r),y(this.secretKey,r),y(this.signatures,r)},c.prototype.openKey=function(t,e){if("function"==typeof t)return this.openKey({},t);this.key||(this.key=this.create("key",t)),this.key.read(0,32,e)},c.prototype.open=function(t,e){if("function"==typeof t)return this.open({},t);var n=this,r=null,i=5;this.key||(this.key=this.create("key",t)),this.secretKey||(this.secretKey=this.create("secret_key",t)),this.tree||(this.tree=this.create("tree",t)),this.data||(this.data=this.create("data",t)),this.bitfield||(this.bitfield=this.create("bitfield",t)),this.signatures||(this.signatures=this.create("signatures",t));var o={bitfield:[],bitfieldPageSize:3584,secretKey:null,key:null};function s(t){t&&(r=t),--i||(r?e(r):e(null,o))}this.bitfield.read(0,32,(function(t,r){if(t&&"ELOCKED"===t.code)return e(t);r&&(o.bitfieldPageSize=r.readUInt16BE(5)),n.bitfield.write(0,u(0,o.bitfieldPageSize,null),(function(t){if(t)return e(t);!function(t,e,n,r){if(!0===t.statable)return function(t,e,n,r){t.stat((function(i,o){if(i)return r(null,[]);var s=[];!function i(a,l){if(a)return r(a);if(l){e+=l.length;for(var c=0;c<l.length;c+=n)s.push(l.slice(c,c+n))}var h=Math.min(o.size-e,32*n);if(!h)return r(null,s);t.read(e,h,i)}(null,null)}))}(t,32,n,r);var i=[];t.read(32,n,(function e(o,s){if(o)return r(null,i);i.push(s),t.read(32+i.length*n,n,e)}))}(n.bitfield,0,o.bitfieldPageSize,(function(t,e){e&&(o.bitfield=e),s(t)}))}))})),this.signatures.write(0,u(1,64,"Ed25519"),s),this.tree.write(0,u(2,40,"BLAKE2b"),s),this.secretKey.read(0,64,(function(t,e){e&&(o.secretKey=e),s(null)})),this.key.read(0,32,(function(t,e){e&&(o.key=e),s(null)}))},c.Node=f},2986:(t,e,n)=>{var r=n(535),i=n(7010);function o(t){if(!(this instanceof o))return new o(t);this.bitfield=t||i()}function s(t){return(t-(1&t))/2}function a(t,e,n,i){for(var o=r.fullRoots(t),s=0;s<o.length;s++)o[s]===n||i.get(o[s])||e.push(o[s])}t.exports=o,o.prototype.proof=function(t,e){e||(e={});var n=[],i=e.tree||new o,l=e.digest||0;if(!this.get(t))return null;if(e.hash&&n.push(t),1===l)return{nodes:n,verifiedBy:0};var c=null,h=t,u=t,f=1&l;for(l=s(l);l;){if(1===l&&f){this.get(u)&&i.set(u),r.sibling(u)<u&&(u=r.sibling(u)),c=r.fullRoots(r.rightSpan(u)+2);for(var d=0;d<c.length;d++)this.get(c[d])&&i.set(c[d]);break}h=r.sibling(u),1&l&&this.get(h)&&i.set(h),u=r.parent(u),l=s(l)}for(u=t;!i.get(u);){if(h=r.sibling(u),!this.get(h)){var p=this.verifiedBy(u);return a(p,n,u,i),{nodes:n,verifiedBy:p}}i.get(h)||n.push(h),u=r.parent(u)}return{nodes:n,verifiedBy:0}},o.prototype.digest=function(t){if(this.get(t))return 1;for(var e=0,n=r.sibling(t),i=Math.max(n+2,this.bitfield.length),o=2,s=r.depth(t),a=r.parent(n,s++);r.rightSpan(n)<i||r.leftSpan(a)>0;){if(this.get(n)&&(e+=o),this.get(a))return 1&(e+=2*o)||(e+=1),e+1===4*o?1:e;n=r.sibling(a),a=r.parent(n,s++),o*=2}return e},o.prototype.blocks=function(){for(var t=0,e=0,n=this.bitfield.length;r.rightSpan(e)<n;)e=r.parent(e),this.get(e)&&(t=e);return(this.get(t)?this.verifiedBy(t):0)/2},o.prototype.roots=function(){return r.fullRoots(2*this.blocks())},o.prototype.verifiedBy=function(t,e){if(!this.get(t))return 0;for(var n=r.depth(t),i=t,o=r.parent(i,n++);this.get(o)&&this.get(r.sibling(i));)i=o,o=r.parent(i,n++);for(n--;n;){for(i=r.leftChild(r.index(n,r.offset(i,n)+1),n),n--;!this.get(i)&&n;)i=r.leftChild(i,n--);e&&this.get(i)&&e.push(i)}return this.get(i)?i+2:i},o.prototype.get=function(t){return this.bitfield.get(t)},o.prototype.truncate=function(t){const e=2*this.blocks(),n=r.fullRoots(t);for(let n=t;n<e;n++)this.bitfield.set(n,!1);for(const e of n){let n=r.parent(e);for(;n<t;)this.bitfield.set(n,!1),n=r.parent(n)}},o.prototype.set=function(t){if(!this.bitfield.set(t,!0))return!1;for(;this.bitfield.get(r.sibling(t))&&(t=r.parent(t),this.bitfield.set(t,!0)););return!0}},645:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,h=-7,u=n?i-1:0,f=n?-1:1,d=t[e+u];for(u+=f,o=d&(1<<-h)-1,d>>=-h,h+=a;h>0;o=256*o+t[e+u],u+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+u],u+=f,h-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,l,c=8*o-i-1,h=(1<<c)-1,u=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+u>=1?f/l:f*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=h?(a=0,s=h):s+u>=1?(a=(e*l-1)*Math.pow(2,i),s+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*g}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},1838:t=>{t.exports=Symbol.for("nodejs.util.inspect.custom")},2584:(t,e,n)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=n(1924)("Object.prototype.toString"),o=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},s=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},8662:t=>{"use strict";var e=Object.prototype.toString,n=Function.prototype.toString,r=/^\s*(?:function)?\*/,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.getPrototypeOf,s=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(t){}}(),a=!(!o||!s)&&o(s);t.exports=function(t){return"function"==typeof t&&(!!r.test(n.call(t))||(i?o&&o(t)===a:"[object GeneratorFunction]"===e.call(t)))}},8611:t=>{"use strict";t.exports=function(t){return t!=t}},360:(t,e,n)=>{"use strict";var r=n(5559),i=n(4289),o=n(8611),s=n(9415),a=n(3194),l=r(s(),Number);i(l,{getPolyfill:s,implementation:o,shim:a}),t.exports=l},9415:(t,e,n)=>{"use strict";var r=n(8611);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},3194:(t,e,n)=>{"use strict";var r=n(4289),i=n(9415);t.exports=function(){var t=i();return r(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},5721:(t,e,n)=>{const r=n(130);t.exports=function(t){return"object"==typeof t&&t&&!r.isBuffer(t)}},5692:(t,e,n)=>{"use strict";var r=n(9804),i=n(3083),o=n(1924),s=o("Object.prototype.toString"),a=n(1405)()&&"symbol"==typeof Symbol.toStringTag,l=i(),c=o("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},h=o("String.prototype.slice"),u={},f=n(4079),d=Object.getPrototypeOf;a&&f&&d&&r(l,(function(t){var e=new n.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=d(e),i=f(r,Symbol.toStringTag);if(!i){var o=d(r);i=f(o,Symbol.toStringTag)}u[t]=i.get})),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!a){var e=h(s(t),8,-1);return c(l,e)>-1}return!!f&&function(t){var e=!1;return r(u,(function(n,r){if(!e)try{e=n.call(t)===r}catch(t){}})),e}(t)}},5826:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},5777:t=>{function e(t){}t.exports=function(t){var n=null,r=null,i=null,o=null;return function(t,n){o=t,s(n||e)};function s(e){if(r)return n||(n=[]),void n.push(e);var i=o;o=null,r=e,t(i,a)}function a(t){var o=r,a=i;if(i=null,r=null,n&&(i=n,n=null,s(e)),a)for(var l=0;l<a.length;l++)a[l](t);o(t)}}},6486:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,c=128,h=1/0,u=9007199254740991,f=NaN,d=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],g="[object Arguments]",y="[object Array]",m="[object Boolean]",b="[object Date]",v="[object Error]",A="[object Function]",w="[object GeneratorFunction]",_="[object Map]",I="[object Number]",E="[object Object]",C="[object Promise]",S="[object RegExp]",x="[object Set]",k="[object String]",B="[object Symbol]",L="[object WeakMap]",O="[object ArrayBuffer]",T="[object DataView]",R="[object Float32Array]",M="[object Float64Array]",N="[object Int8Array]",D="[object Int16Array]",U="[object Int32Array]",Q="[object Uint8Array]",j="[object Uint8ClampedArray]",F="[object Uint16Array]",P="[object Uint32Array]",H=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,W=RegExp(V.source),q=RegExp(Y.source),G=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,At=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_t="a-z\\xdf-\\xf6\\xf8-\\xff",It="A-Z\\xc0-\\xd6\\xd8-\\xde",Et="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ct="["+Et+"]",St="["+wt+"]",xt="\\d+",kt="["+_t+"]",Bt="[^\\ud800-\\udfff"+Et+xt+"\\u2700-\\u27bf"+_t+It+"]",Lt="\\ud83c[\\udffb-\\udfff]",Ot="[^\\ud800-\\udfff]",Tt="(?:\\ud83c[\\udde6-\\uddff]){2}",Rt="[\\ud800-\\udbff][\\udc00-\\udfff]",Mt="["+It+"]",Nt="(?:"+kt+"|"+Bt+")",Dt="(?:"+Mt+"|"+Bt+")",Ut="(?:['’](?:d|ll|m|re|s|t|ve))?",Qt="(?:['’](?:D|LL|M|RE|S|T|VE))?",jt="(?:"+St+"|"+Lt+")?",Ft="[\\ufe0e\\ufe0f]?",Pt=Ft+jt+"(?:\\u200d(?:"+[Ot,Tt,Rt].join("|")+")"+Ft+jt+")*",Ht="(?:"+["[\\u2700-\\u27bf]",Tt,Rt].join("|")+")"+Pt,Kt="(?:"+[Ot+St+"?",St,Tt,Rt,"[\\ud800-\\udfff]"].join("|")+")",zt=RegExp("['’]","g"),Vt=RegExp(St,"g"),Yt=RegExp(Lt+"(?="+Lt+")|"+Kt+Pt,"g"),Wt=RegExp([Mt+"?"+kt+"+"+Ut+"(?="+[Ct,Mt,"$"].join("|")+")",Dt+"+"+Qt+"(?="+[Ct,Mt+Nt,"$"].join("|")+")",Mt+"?"+Nt+"+"+Ut,Mt+"+"+Qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xt,Ht].join("|"),"g"),qt=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),Gt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jt=-1,Xt={};Xt[R]=Xt[M]=Xt[N]=Xt[D]=Xt[U]=Xt[Q]=Xt[j]=Xt[F]=Xt[P]=!0,Xt[g]=Xt[y]=Xt[O]=Xt[m]=Xt[T]=Xt[b]=Xt[v]=Xt[A]=Xt[_]=Xt[I]=Xt[E]=Xt[S]=Xt[x]=Xt[k]=Xt[L]=!1;var Zt={};Zt[g]=Zt[y]=Zt[O]=Zt[T]=Zt[m]=Zt[b]=Zt[R]=Zt[M]=Zt[N]=Zt[D]=Zt[U]=Zt[_]=Zt[I]=Zt[E]=Zt[S]=Zt[x]=Zt[k]=Zt[B]=Zt[Q]=Zt[j]=Zt[F]=Zt[P]=!0,Zt[v]=Zt[A]=Zt[L]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,re="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=re||ie||Function("return this")(),se=e&&!e.nodeType&&e,ae=se&&t&&!t.nodeType&&t,le=ae&&ae.exports===se,ce=le&&re.process,he=function(){try{return ae&&ae.require&&ae.require("util").types||ce&&ce.binding&&ce.binding("util")}catch(t){}}(),ue=he&&he.isArrayBuffer,fe=he&&he.isDate,de=he&&he.isMap,pe=he&&he.isRegExp,ge=he&&he.isSet,ye=he&&he.isTypedArray;function me(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function be(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ae(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function _e(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Ie(t,e){return!(null==t||!t.length)&&Re(t,e,0)>-1}function Ee(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ce(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Se(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function xe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ke(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Be(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Le=Ue("length");function Oe(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Te(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Re(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Te(t,Ne,n)}function Me(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ne(t){return t!=t}function De(t,e){var n=null==t?0:t.length;return n?Fe(t,e)/n:f}function Ue(t){return function(e){return null==e?i:e[t]}}function Qe(t){return function(e){return null==t?i:t[e]}}function je(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Fe(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function Pe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function He(t){return t?t.slice(0,an(t)+1).replace(rt,""):t}function Ke(t){return function(e){return t(e)}}function ze(t,e){return Ce(e,(function(e){return t[e]}))}function Ve(t,e){return t.has(e)}function Ye(t,e){for(var n=-1,r=t.length;++n<r&&Re(e,t[n],0)>-1;);return n}function We(t,e){for(var n=t.length;n--&&Re(e,t[n],0)>-1;);return n}function qe(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ge=Qe({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),$e=Qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Je(t){return"\\"+te[t]}function Xe(t){return qt.test(t)}function Ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function tn(t,e){return function(n){return t(e(n))}}function en(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function rn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function on(t){return Xe(t)?function(t){for(var e=Yt.lastIndex=0;Yt.test(t);)++e;return e}(t):Le(t)}function sn(t){return Xe(t)?function(t){return t.match(Yt)||[]}(t):function(t){return t.split("")}(t)}function an(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var ln=Qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function t(e){var n,r=(e=null==e?oe:cn.defaults(oe.Object(),e,cn.pick(oe,$t))).Array,it=e.Date,wt=e.Error,_t=e.Function,It=e.Math,Et=e.Object,Ct=e.RegExp,St=e.String,xt=e.TypeError,kt=r.prototype,Bt=_t.prototype,Lt=Et.prototype,Ot=e["__core-js_shared__"],Tt=Bt.toString,Rt=Lt.hasOwnProperty,Mt=0,Nt=(n=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Dt=Lt.toString,Ut=Tt.call(Et),Qt=oe._,jt=Ct("^"+Tt.call(Rt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=le?e.Buffer:i,Pt=e.Symbol,Ht=e.Uint8Array,Kt=Ft?Ft.allocUnsafe:i,Yt=tn(Et.getPrototypeOf,Et),qt=Et.create,te=Lt.propertyIsEnumerable,re=kt.splice,ie=Pt?Pt.isConcatSpreadable:i,se=Pt?Pt.iterator:i,ae=Pt?Pt.toStringTag:i,ce=function(){try{var t=co(Et,"defineProperty");return t({},"",{}),t}catch(t){}}(),he=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,Le=it&&it.now!==oe.Date.now&&it.now,Qe=e.setTimeout!==oe.setTimeout&&e.setTimeout,hn=It.ceil,un=It.floor,fn=Et.getOwnPropertySymbols,dn=Ft?Ft.isBuffer:i,pn=e.isFinite,gn=kt.join,yn=tn(Et.keys,Et),mn=It.max,bn=It.min,vn=it.now,An=e.parseInt,wn=It.random,_n=kt.reverse,In=co(e,"DataView"),En=co(e,"Map"),Cn=co(e,"Promise"),Sn=co(e,"Set"),xn=co(e,"WeakMap"),kn=co(Et,"create"),Bn=xn&&new xn,Ln={},On=jo(In),Tn=jo(En),Rn=jo(Cn),Mn=jo(Sn),Nn=jo(xn),Dn=Pt?Pt.prototype:i,Un=Dn?Dn.valueOf:i,Qn=Dn?Dn.toString:i;function jn(t){if(na(t)&&!Vs(t)&&!(t instanceof Kn)){if(t instanceof Hn)return t;if(Rt.call(t,"__wrapped__"))return Fo(t)}return new Hn(t)}var Fn=function(){function t(){}return function(e){if(!ea(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Pn(){}function Hn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Kn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Yn;++e<n;)this.add(t[e])}function qn(t){var e=this.__data__=new Vn(t);this.size=e.size}function Gn(t,e){var n=Vs(t),r=!n&&zs(t),i=!n&&!r&&Gs(t),o=!n&&!r&&!i&&ha(t),s=n||r||i||o,a=s?Pe(t.length,St):[],l=a.length;for(var c in t)!e&&!Rt.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mo(c,l))||a.push(c);return a}function $n(t){var e=t.length;return e?t[Yr(0,e-1)]:i}function Jn(t,e){return Mo(xi(t),sr(e,0,t.length))}function Xn(t){return Mo(xi(t))}function Zn(t,e,n){(n!==i&&!Ps(t[e],n)||n===i&&!(e in t))&&ir(t,e,n)}function tr(t,e,n){var r=t[e];Rt.call(t,e)&&Ps(r,n)&&(n!==i||e in t)||ir(t,e,n)}function er(t,e){for(var n=t.length;n--;)if(Ps(t[n][0],e))return n;return-1}function nr(t,e,n,r){return ur(t,(function(t,i,o){e(r,t,n(t),o)})),r}function rr(t,e){return t&&ki(e,Ta(e),t)}function ir(t,e,n){"__proto__"==e&&ce?ce(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function or(t,e){for(var n=-1,o=e.length,s=r(o),a=null==t;++n<o;)s[n]=a?i:xa(t,e[n]);return s}function sr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function ar(t,e,n,r,o,s){var a,l=1&e,c=2&e,h=4&e;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!ea(t))return t;var u=Vs(t);if(u){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Rt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return xi(t,a)}else{var f=fo(t),d=f==A||f==w;if(Gs(t))return wi(t,l);if(f==E||f==g||d&&!o){if(a=c||d?{}:go(t),!l)return c?function(t,e){return ki(t,uo(t),e)}(t,function(t,e){return t&&ki(e,Ra(e),t)}(a,t)):function(t,e){return ki(t,ho(t),e)}(t,rr(a,t))}else{if(!Zt[f])return o?t:{};a=function(t,e,n){var r,i=t.constructor;switch(e){case O:return _i(t);case m:case b:return new i(+t);case T:return function(t,e){var n=e?_i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case R:case M:case N:case D:case U:case Q:case j:case F:case P:return Ii(t,n);case _:return new i;case I:case k:return new i(t);case S:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case x:return new i;case B:return r=t,Un?Et(Un.call(r)):{}}}(t,f,l)}}s||(s=new qn);var p=s.get(t);if(p)return p;s.set(t,a),aa(t)?t.forEach((function(r){a.add(ar(r,e,n,r,t,s))})):ra(t)&&t.forEach((function(r,i){a.set(i,ar(r,e,n,i,t,s))}));var y=u?i:(h?c?no:eo:c?Ra:Ta)(t);return ve(y||t,(function(r,i){y&&(r=t[i=r]),tr(a,i,ar(r,e,n,i,t,s))})),a}function lr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Et(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function cr(t,e,n){if("function"!=typeof t)throw new xt(o);return Lo((function(){t.apply(i,n)}),e)}function hr(t,e,n,r){var i=-1,o=Ie,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Ce(e,Ke(n))),r?(o=Ee,s=!1):e.length>=200&&(o=Ve,s=!1,e=new Wn(e));t:for(;++i<a;){var h=t[i],u=null==n?h:n(h);if(h=r||0!==h?h:0,s&&u==u){for(var f=c;f--;)if(e[f]===u)continue t;l.push(h)}else o(e,u,r)||l.push(h)}return l}jn.templateSettings={escape:G,evaluate:$,interpolate:J,variable:"",imports:{_:jn}},jn.prototype=Pn.prototype,jn.prototype.constructor=jn,Hn.prototype=Fn(Pn.prototype),Hn.prototype.constructor=Hn,Kn.prototype=Fn(Pn.prototype),Kn.prototype.constructor=Kn,zn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},zn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zn.prototype.get=function(t){var e=this.__data__;if(kn){var n=e[t];return n===s?i:n}return Rt.call(e,t)?e[t]:i},zn.prototype.has=function(t){var e=this.__data__;return kn?e[t]!==i:Rt.call(e,t)},zn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kn&&e===i?s:e,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(t){var e=this.__data__,n=er(e,t);return!(n<0||(n==e.length-1?e.pop():re.call(e,n,1),--this.size,0))},Vn.prototype.get=function(t){var e=this.__data__,n=er(e,t);return n<0?i:e[n][1]},Vn.prototype.has=function(t){return er(this.__data__,t)>-1},Vn.prototype.set=function(t,e){var n=this.__data__,r=er(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(En||Vn),string:new zn}},Yn.prototype.delete=function(t){var e=ao(this,t).delete(t);return this.size-=e?1:0,e},Yn.prototype.get=function(t){return ao(this,t).get(t)},Yn.prototype.has=function(t){return ao(this,t).has(t)},Yn.prototype.set=function(t,e){var n=ao(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(t){return this.__data__.set(t,s),this},Wn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.clear=function(){this.__data__=new Vn,this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},qn.prototype.get=function(t){return this.__data__.get(t)},qn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!En||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(t,e),this.size=n.size,this};var ur=Oi(vr),fr=Oi(Ar,!0);function dr(t,e){var n=!0;return ur(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function pr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(l===i?a==a&&!ca(a):n(a,l)))var l=a,c=s}return c}function gr(t,e){var n=[];return ur(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function yr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=yo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?yr(a,e-1,n,r,i):Se(i,a):r||(i[i.length]=a)}return i}var mr=Ti(),br=Ti(!0);function vr(t,e){return t&&mr(t,e,Ta)}function Ar(t,e){return t&&br(t,e,Ta)}function wr(t,e){return _e(e,(function(e){return Xs(t[e])}))}function _r(t,e){for(var n=0,r=(e=mi(e,t)).length;null!=t&&n<r;)t=t[Qo(e[n++])];return n&&n==r?t:i}function Ir(t,e,n){var r=e(t);return Vs(t)?r:Se(r,n(t))}function Er(t){return null==t?t===i?"[object Undefined]":"[object Null]":ae&&ae in Et(t)?function(t){var e=Rt.call(t,ae),n=t[ae];try{t[ae]=i;var r=!0}catch(t){}var o=Dt.call(t);return r&&(e?t[ae]=n:delete t[ae]),o}(t):function(t){return Dt.call(t)}(t)}function Cr(t,e){return t>e}function Sr(t,e){return null!=t&&Rt.call(t,e)}function xr(t,e){return null!=t&&e in Et(t)}function kr(t,e,n){for(var o=n?Ee:Ie,s=t[0].length,a=t.length,l=a,c=r(a),h=1/0,u=[];l--;){var f=t[l];l&&e&&(f=Ce(f,Ke(e))),h=bn(f.length,h),c[l]=!n&&(e||s>=120&&f.length>=120)?new Wn(l&&f):i}f=t[0];var d=-1,p=c[0];t:for(;++d<s&&u.length<h;){var g=f[d],y=e?e(g):g;if(g=n||0!==g?g:0,!(p?Ve(p,y):o(u,y,n))){for(l=a;--l;){var m=c[l];if(!(m?Ve(m,y):o(t[l],y,n)))continue t}p&&p.push(y),u.push(g)}}return u}function Br(t,e,n){var r=null==(t=So(t,e=mi(e,t)))?t:t[Qo(Jo(e))];return null==r?i:me(r,t,n)}function Lr(t){return na(t)&&Er(t)==g}function Or(t,e,n,r,o){return t===e||(null==t||null==e||!na(t)&&!na(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var a=Vs(t),l=Vs(e),c=a?y:fo(t),h=l?y:fo(e),u=(c=c==g?E:c)==E,f=(h=h==g?E:h)==E,d=c==h;if(d&&Gs(t)){if(!Gs(e))return!1;a=!0,u=!1}if(d&&!u)return s||(s=new qn),a||ha(t)?Zi(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case m:case b:case I:return Ps(+t,+e);case v:return t.name==e.name&&t.message==e.message;case S:case k:return t==e+"";case _:var a=Ze;case x:var l=1&r;if(a||(a=nn),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var h=Zi(a(t),a(e),r,i,o,s);return s.delete(t),h;case B:if(Un)return Un.call(t)==Un.call(e)}return!1}(t,e,c,n,r,o,s);if(!(1&n)){var p=u&&Rt.call(t,"__wrapped__"),A=f&&Rt.call(e,"__wrapped__");if(p||A){var w=p?t.value():t,C=A?e.value():e;return s||(s=new qn),o(w,C,n,r,s)}}return!!d&&(s||(s=new qn),function(t,e,n,r,o,s){var a=1&n,l=eo(t),c=l.length;if(c!=eo(e).length&&!a)return!1;for(var h=c;h--;){var u=l[h];if(!(a?u in e:Rt.call(e,u)))return!1}var f=s.get(t),d=s.get(e);if(f&&d)return f==e&&d==t;var p=!0;s.set(t,e),s.set(e,t);for(var g=a;++h<c;){var y=t[u=l[h]],m=e[u];if(r)var b=a?r(m,y,u,e,t,s):r(y,m,u,t,e,s);if(!(b===i?y===m||o(y,m,n,r,s):b)){p=!1;break}g||(g="constructor"==u)}if(p&&!g){var v=t.constructor,A=e.constructor;v==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof A&&A instanceof A||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,n,r,o,s))}(t,e,n,r,Or,o))}function Tr(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=Et(t);o--;){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){var c=(l=n[o])[0],h=t[c],u=l[1];if(a&&l[2]){if(h===i&&!(c in t))return!1}else{var f=new qn;if(r)var d=r(h,u,c,t,e,f);if(!(d===i?Or(u,h,3,r,f):d))return!1}}return!0}function Rr(t){return!(!ea(t)||(e=t,Nt&&Nt in e))&&(Xs(t)?jt:gt).test(jo(t));var e}function Mr(t){return"function"==typeof t?t:null==t?il:"object"==typeof t?Vs(t)?jr(t[0],t[1]):Qr(t):dl(t)}function Nr(t){if(!_o(t))return yn(t);var e=[];for(var n in Et(t))Rt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Dr(t,e){return t<e}function Ur(t,e){var n=-1,i=Ws(t)?r(t.length):[];return ur(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Qr(t){var e=lo(t);return 1==e.length&&e[0][2]?Eo(e[0][0],e[0][1]):function(n){return n===t||Tr(n,t,e)}}function jr(t,e){return vo(t)&&Io(e)?Eo(Qo(t),e):function(n){var r=xa(n,t);return r===i&&r===e?ka(n,t):Or(e,r,3)}}function Fr(t,e,n,r,o){t!==e&&mr(e,(function(s,a){if(o||(o=new qn),ea(s))!function(t,e,n,r,o,s,a){var l=ko(t,n),c=ko(e,n),h=a.get(c);if(h)Zn(t,n,h);else{var u=s?s(l,c,n+"",t,e,a):i,f=u===i;if(f){var d=Vs(c),p=!d&&Gs(c),g=!d&&!p&&ha(c);u=c,d||p||g?Vs(l)?u=l:qs(l)?u=xi(l):p?(f=!1,u=wi(c,!0)):g?(f=!1,u=Ii(c,!0)):u=[]:oa(c)||zs(c)?(u=l,zs(l)?u=ba(l):ea(l)&&!Xs(l)||(u=go(c))):f=!1}f&&(a.set(c,u),o(u,c,r,s,a),a.delete(c)),Zn(t,n,u)}}(t,e,a,n,Fr,r,o);else{var l=r?r(ko(t,a),s,a+"",t,e,o):i;l===i&&(l=s),Zn(t,a,l)}}),Ra)}function Pr(t,e){var n=t.length;if(n)return mo(e+=e<0?n:0,n)?t[e]:i}function Hr(t,e,n){e=e.length?Ce(e,(function(t){return Vs(t)?function(e){return _r(e,1===t.length?t[0]:t)}:t})):[il];var r=-1;e=Ce(e,Ke(so()));var i=Ur(t,(function(t,n,i){var o=Ce(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Ei(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(i)}function Kr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=_r(t,s);n(a,s)&&Jr(o,mi(s,t),a)}return o}function zr(t,e,n,r){var i=r?Me:Re,o=-1,s=e.length,a=t;for(t===e&&(e=xi(e)),n&&(a=Ce(t,Ke(n)));++o<s;)for(var l=0,c=e[o],h=n?n(c):c;(l=i(a,h,l,r))>-1;)a!==t&&re.call(a,l,1),re.call(t,l,1);return t}function Vr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;mo(i)?re.call(t,i,1):ci(t,i)}}return t}function Yr(t,e){return t+un(wn()*(e-t+1))}function Wr(t,e){var n="";if(!t||e<1||e>u)return n;do{e%2&&(n+=t),(e=un(e/2))&&(t+=t)}while(e);return n}function qr(t,e){return Oo(Co(t,e,il),t+"")}function Gr(t){return $n(Pa(t))}function $r(t,e){var n=Pa(t);return Mo(n,sr(e,0,n.length))}function Jr(t,e,n,r){if(!ea(t))return t;for(var o=-1,s=(e=mi(e,t)).length,a=s-1,l=t;null!=l&&++o<s;){var c=Qo(e[o]),h=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var u=l[c];(h=r?r(u,c,l):i)===i&&(h=ea(u)?u:mo(e[o+1])?[]:{})}tr(l,c,h),l=l[c]}return t}var Xr=Bn?function(t,e){return Bn.set(t,e),t}:il,Zr=ce?function(t,e){return ce(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:il;function ti(t){return Mo(Pa(t))}function ei(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function ni(t,e){var n;return ur(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ri(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!ca(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ii(t,e,il,n)}function ii(t,e,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,l=null===e,c=ca(e),h=e===i;o<s;){var u=un((o+s)/2),f=n(t[u]),d=f!==i,p=null===f,g=f==f,y=ca(f);if(a)var m=r||g;else m=h?g&&(r||d):l?g&&d&&(r||!p):c?g&&d&&!p&&(r||!y):!p&&!y&&(r?f<=e:f<e);m?o=u+1:s=u}return bn(s,4294967294)}function oi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Ps(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function si(t){return"number"==typeof t?t:ca(t)?f:+t}function ai(t){if("string"==typeof t)return t;if(Vs(t))return Ce(t,ai)+"";if(ca(t))return Qn?Qn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function li(t,e,n){var r=-1,i=Ie,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=Ee;else if(o>=200){var c=e?null:Wi(t);if(c)return nn(c);s=!1,i=Ve,l=new Wn}else l=e?[]:a;t:for(;++r<o;){var h=t[r],u=e?e(h):h;if(h=n||0!==h?h:0,s&&u==u){for(var f=l.length;f--;)if(l[f]===u)continue t;e&&l.push(u),a.push(h)}else i(l,u,n)||(l!==a&&l.push(u),a.push(h))}return a}function ci(t,e){return null==(t=So(t,e=mi(e,t)))||delete t[Qo(Jo(e))]}function hi(t,e,n,r){return Jr(t,e,n(_r(t,e)),r)}function ui(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ei(t,r?0:o,r?o+1:i):ei(t,r?o+1:0,r?i:o)}function fi(t,e){var n=t;return n instanceof Kn&&(n=n.value()),xe(e,(function(t,e){return e.func.apply(e.thisArg,Se([t],e.args))}),n)}function di(t,e,n){var i=t.length;if(i<2)return i?li(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],l=-1;++l<i;)l!=o&&(s[o]=hr(s[o]||a,t[l],e,n));return li(yr(s,1),e,n)}function pi(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var l=r<s?e[r]:i;n(a,t[r],l)}return a}function gi(t){return qs(t)?t:[]}function yi(t){return"function"==typeof t?t:il}function mi(t,e){return Vs(t)?t:vo(t,e)?[t]:Uo(va(t))}var bi=qr;function vi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ei(t,e,n)}var Ai=he||function(t){return oe.clearTimeout(t)};function wi(t,e){if(e)return t.slice();var n=t.length,r=Kt?Kt(n):new t.constructor(n);return t.copy(r),r}function _i(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Ii(t,e){var n=e?_i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ei(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,s=ca(t),a=e!==i,l=null===e,c=e==e,h=ca(e);if(!l&&!h&&!s&&t>e||s&&a&&c&&!l&&!h||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!h&&t<e||h&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}function Ci(t,e,n,i){for(var o=-1,s=t.length,a=n.length,l=-1,c=e.length,h=mn(s-a,0),u=r(c+h),f=!i;++l<c;)u[l]=e[l];for(;++o<a;)(f||o<s)&&(u[n[o]]=t[o]);for(;h--;)u[l++]=t[o++];return u}function Si(t,e,n,i){for(var o=-1,s=t.length,a=-1,l=n.length,c=-1,h=e.length,u=mn(s-l,0),f=r(u+h),d=!i;++o<u;)f[o]=t[o];for(var p=o;++c<h;)f[p+c]=e[c];for(;++a<l;)(d||o<s)&&(f[p+n[a]]=t[o++]);return f}function xi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function ki(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var l=e[s],c=r?r(n[l],t[l],l,n,t):i;c===i&&(c=t[l]),o?ir(n,l,c):tr(n,l,c)}return n}function Bi(t,e){return function(n,r){var i=Vs(n)?be:nr,o=e?e():{};return i(n,t,so(r,2),o)}}function Li(t){return qr((function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&bo(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=Et(e);++r<o;){var l=n[r];l&&t(e,l,r,s)}return e}))}function Oi(t,e){return function(n,r){if(null==n)return n;if(!Ws(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Et(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ti(t){return function(e,n,r){for(var i=-1,o=Et(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(!1===n(o[l],l,o))break}return e}}function Ri(t){return function(e){var n=Xe(e=va(e))?sn(e):i,r=n?n[0]:e.charAt(0),o=n?vi(n,1).join(""):e.slice(1);return r[t]()+o}}function Mi(t){return function(e){return xe(Xa(za(e).replace(zt,"")),t,"")}}function Ni(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return ea(r)?r:n}}function Di(t){return function(e,n,r){var o=Et(e);if(!Ws(e)){var s=so(n,3);e=Ta(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function Ui(t){return to((function(e){var n=e.length,r=n,s=Hn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new xt(o);if(s&&!l&&"wrapper"==io(a))var l=new Hn([],!0)}for(r=l?r:n;++r<n;){var c=io(a=e[r]),h="wrapper"==c?ro(a):i;l=h&&Ao(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?l[io(h[0])].apply(l,h[3]):1==a.length&&Ao(a)?l[c]():l.thru(a)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&Vs(r))return l.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Qi(t,e,n,o,s,a,l,h,u,f){var d=e&c,p=1&e,g=2&e,y=24&e,m=512&e,b=g?i:Ni(t);return function i(){for(var c=arguments.length,v=r(c),A=c;A--;)v[A]=arguments[A];if(y)var w=oo(i),_=qe(v,w);if(o&&(v=Ci(v,o,s,y)),a&&(v=Si(v,a,l,y)),c-=_,y&&c<f){var I=en(v,w);return Vi(t,e,Qi,i.placeholder,n,v,I,h,u,f-c)}var E=p?n:this,C=g?E[t]:t;return c=v.length,h?v=xo(v,h):m&&c>1&&v.reverse(),d&&u<c&&(v.length=u),this&&this!==oe&&this instanceof i&&(C=b||Ni(C)),C.apply(E,v)}}function ji(t,e){return function(n,r){return function(t,e,n,r){return vr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Fi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ai(n),r=ai(r)):(n=si(n),r=si(r)),o=t(n,r)}return o}}function Pi(t){return to((function(e){return e=Ce(e,Ke(so())),qr((function(n){var r=this;return t(e,(function(t){return me(t,r,n)}))}))}))}function Hi(t,e){var n=(e=e===i?" ":ai(e)).length;if(n<2)return n?Wr(e,t):e;var r=Wr(e,hn(t/on(e)));return Xe(e)?vi(sn(r),0,t).join(""):r.slice(0,t)}function Ki(t){return function(e,n,o){return o&&"number"!=typeof o&&bo(e,n,o)&&(n=o=i),e=pa(e),n===i?(n=e,e=0):n=pa(n),function(t,e,n,i){for(var o=-1,s=mn(hn((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:pa(o),t)}}function zi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ma(e),n=ma(n)),t(e,n)}}function Vi(t,e,n,r,o,s,a,c,h,u){var f=8&e;e|=f?l:64,4&(e&=~(f?64:l))||(e&=-4);var d=[t,e,o,f?s:i,f?a:i,f?i:s,f?i:a,c,h,u],p=n.apply(i,d);return Ao(t)&&Bo(p,d),p.placeholder=r,To(p,t,e)}function Yi(t){var e=It[t];return function(t,n){if(t=ma(t),(n=null==n?0:bn(ga(n),292))&&pn(t)){var r=(va(t)+"e").split("e");return+((r=(va(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Wi=Sn&&1/nn(new Sn([,-0]))[1]==h?function(t){return new Sn(t)}:cl;function qi(t){return function(e){var n=fo(e);return n==_?Ze(e):n==x?rn(e):function(t,e){return Ce(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Gi(t,e,n,s,h,u,f,d){var p=2&e;if(!p&&"function"!=typeof t)throw new xt(o);var g=s?s.length:0;if(g||(e&=-97,s=h=i),f=f===i?f:mn(ga(f),0),d=d===i?d:ga(d),g-=h?h.length:0,64&e){var y=s,m=h;s=h=i}var b=p?i:ro(t),v=[t,e,n,s,h,y,m,u,f,d];if(b&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=r==c&&8==n||r==c&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var l=e[3];if(l){var h=t[3];t[3]=h?Ci(h,l,e[4]):l,t[4]=h?en(t[3],a):e[4]}(l=e[5])&&(h=t[5],t[5]=h?Si(h,l,e[6]):l,t[6]=h?en(t[5],a):e[6]),(l=e[7])&&(t[7]=l),r&c&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(v,b),t=v[0],e=v[1],n=v[2],s=v[3],h=v[4],!(d=v[9]=v[9]===i?p?0:t.length:mn(v[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)A=8==e||16==e?function(t,e,n){var o=Ni(t);return function s(){for(var a=arguments.length,l=r(a),c=a,h=oo(s);c--;)l[c]=arguments[c];var u=a<3&&l[0]!==h&&l[a-1]!==h?[]:en(l,h);return(a-=u.length)<n?Vi(t,e,Qi,s.placeholder,i,l,u,i,i,n-a):me(this&&this!==oe&&this instanceof s?o:t,this,l)}}(t,e,d):e!=l&&33!=e||h.length?Qi.apply(i,v):function(t,e,n,i){var o=1&e,s=Ni(t);return function e(){for(var a=-1,l=arguments.length,c=-1,h=i.length,u=r(h+l),f=this&&this!==oe&&this instanceof e?s:t;++c<h;)u[c]=i[c];for(;l--;)u[c++]=arguments[++a];return me(f,o?n:this,u)}}(t,e,n,s);else var A=function(t,e,n){var r=1&e,i=Ni(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return To((b?Xr:Bo)(A,v),t,e)}function $i(t,e,n,r){return t===i||Ps(t,Lt[n])&&!Rt.call(r,n)?e:t}function Ji(t,e,n,r,o,s){return ea(t)&&ea(e)&&(s.set(e,t),Fr(t,e,i,Ji,s),s.delete(e)),t}function Xi(t){return oa(t)?i:t}function Zi(t,e,n,r,o,s){var a=1&n,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var h=s.get(t),u=s.get(e);if(h&&u)return h==e&&u==t;var f=-1,d=!0,p=2&n?new Wn:i;for(s.set(t,e),s.set(e,t);++f<l;){var g=t[f],y=e[f];if(r)var m=a?r(y,g,f,e,t,s):r(g,y,f,t,e,s);if(m!==i){if(m)continue;d=!1;break}if(p){if(!Be(e,(function(t,e){if(!Ve(p,e)&&(g===t||o(g,t,n,r,s)))return p.push(e)}))){d=!1;break}}else if(g!==y&&!o(g,y,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function to(t){return Oo(Co(t,i,Yo),t+"")}function eo(t){return Ir(t,Ta,ho)}function no(t){return Ir(t,Ra,uo)}var ro=Bn?function(t){return Bn.get(t)}:cl;function io(t){for(var e=t.name+"",n=Ln[e],r=Rt.call(Ln,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function oo(t){return(Rt.call(jn,"placeholder")?jn:t).placeholder}function so(){var t=jn.iteratee||ol;return t=t===ol?Mr:t,arguments.length?t(arguments[0],arguments[1]):t}function ao(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function lo(t){for(var e=Ta(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Io(i)]}return e}function co(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Rr(n)?n:i}var ho=fn?function(t){return null==t?[]:(t=Et(t),_e(fn(t),(function(e){return te.call(t,e)})))}:yl,uo=fn?function(t){for(var e=[];t;)Se(e,ho(t)),t=Yt(t);return e}:yl,fo=Er;function po(t,e,n){for(var r=-1,i=(e=mi(e,t)).length,o=!1;++r<i;){var s=Qo(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ta(i)&&mo(s,i)&&(Vs(t)||zs(t))}function go(t){return"function"!=typeof t.constructor||_o(t)?{}:Fn(Yt(t))}function yo(t){return Vs(t)||zs(t)||!!(ie&&t&&t[ie])}function mo(t,e){var n=typeof t;return!!(e=null==e?u:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<e}function bo(t,e,n){if(!ea(n))return!1;var r=typeof e;return!!("number"==r?Ws(n)&&mo(e,n.length):"string"==r&&e in n)&&Ps(n[e],t)}function vo(t,e){if(Vs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ca(t))||Z.test(t)||!X.test(t)||null!=e&&t in Et(e)}function Ao(t){var e=io(t),n=jn[e];if("function"!=typeof n||!(e in Kn.prototype))return!1;if(t===n)return!0;var r=ro(n);return!!r&&t===r[0]}(In&&fo(new In(new ArrayBuffer(1)))!=T||En&&fo(new En)!=_||Cn&&fo(Cn.resolve())!=C||Sn&&fo(new Sn)!=x||xn&&fo(new xn)!=L)&&(fo=function(t){var e=Er(t),n=e==E?t.constructor:i,r=n?jo(n):"";if(r)switch(r){case On:return T;case Tn:return _;case Rn:return C;case Mn:return x;case Nn:return L}return e});var wo=Ot?Xs:ml;function _o(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function Io(t){return t==t&&!ea(t)}function Eo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Et(n))}}function Co(t,e,n){return e=mn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=mn(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var l=r(e+1);++o<e;)l[o]=i[o];return l[e]=n(a),me(t,this,l)}}function So(t,e){return e.length<2?t:_r(t,ei(e,0,-1))}function xo(t,e){for(var n=t.length,r=bn(e.length,n),o=xi(t);r--;){var s=e[r];t[r]=mo(s,n)?o[s]:i}return t}function ko(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Bo=Ro(Xr),Lo=Qe||function(t,e){return oe.setTimeout(t,e)},Oo=Ro(Zr);function To(t,e,n){var r=e+"";return Oo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ve(p,(function(n){var r="_."+n[0];e&n[1]&&!Ie(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(at):[]}(r),n)))}function Ro(t){var e=0,n=0;return function(){var r=vn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Mo(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=Yr(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var No,Do,Uo=(No=Ns((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(ht,"$1"):n||t)})),e}),(function(t){return 500===Do.size&&Do.clear(),t})),Do=No.cache,No);function Qo(t){if("string"==typeof t||ca(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return Tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Fo(t){if(t instanceof Kn)return t.clone();var e=new Hn(t.__wrapped__,t.__chain__);return e.__actions__=xi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Po=qr((function(t,e){return qs(t)?hr(t,yr(e,1,qs,!0)):[]})),Ho=qr((function(t,e){var n=Jo(e);return qs(n)&&(n=i),qs(t)?hr(t,yr(e,1,qs,!0),so(n,2)):[]})),Ko=qr((function(t,e){var n=Jo(e);return qs(n)&&(n=i),qs(t)?hr(t,yr(e,1,qs,!0),i,n):[]}));function zo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=mn(r+i,0)),Te(t,so(e,3),i)}function Vo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ga(n),o=n<0?mn(r+o,0):bn(o,r-1)),Te(t,so(e,3),o,!0)}function Yo(t){return null!=t&&t.length?yr(t,1):[]}function Wo(t){return t&&t.length?t[0]:i}var qo=qr((function(t){var e=Ce(t,gi);return e.length&&e[0]===t[0]?kr(e):[]})),Go=qr((function(t){var e=Jo(t),n=Ce(t,gi);return e===Jo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?kr(n,so(e,2)):[]})),$o=qr((function(t){var e=Jo(t),n=Ce(t,gi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?kr(n,i,e):[]}));function Jo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Xo=qr(Zo);function Zo(t,e){return t&&t.length&&e&&e.length?zr(t,e):t}var ts=to((function(t,e){var n=null==t?0:t.length,r=or(t,e);return Vr(t,Ce(e,(function(t){return mo(t,n)?+t:t})).sort(Ei)),r}));function es(t){return null==t?t:_n.call(t)}var ns=qr((function(t){return li(yr(t,1,qs,!0))})),rs=qr((function(t){var e=Jo(t);return qs(e)&&(e=i),li(yr(t,1,qs,!0),so(e,2))})),is=qr((function(t){var e=Jo(t);return e="function"==typeof e?e:i,li(yr(t,1,qs,!0),i,e)}));function os(t){if(!t||!t.length)return[];var e=0;return t=_e(t,(function(t){if(qs(t))return e=mn(t.length,e),!0})),Pe(e,(function(e){return Ce(t,Ue(e))}))}function ss(t,e){if(!t||!t.length)return[];var n=os(t);return null==e?n:Ce(n,(function(t){return me(e,i,t)}))}var as=qr((function(t,e){return qs(t)?hr(t,e):[]})),ls=qr((function(t){return di(_e(t,qs))})),cs=qr((function(t){var e=Jo(t);return qs(e)&&(e=i),di(_e(t,qs),so(e,2))})),hs=qr((function(t){var e=Jo(t);return e="function"==typeof e?e:i,di(_e(t,qs),i,e)})),us=qr(os),fs=qr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,ss(t,n)}));function ds(t){var e=jn(t);return e.__chain__=!0,e}function ps(t,e){return e(t)}var gs=to((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return or(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Kn&&mo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ps,args:[o],thisArg:i}),new Hn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),ys=Bi((function(t,e,n){Rt.call(t,n)?++t[n]:ir(t,n,1)})),ms=Di(zo),bs=Di(Vo);function vs(t,e){return(Vs(t)?ve:ur)(t,so(e,3))}function As(t,e){return(Vs(t)?Ae:fr)(t,so(e,3))}var ws=Bi((function(t,e,n){Rt.call(t,n)?t[n].push(e):ir(t,n,[e])})),_s=qr((function(t,e,n){var i=-1,o="function"==typeof e,s=Ws(t)?r(t.length):[];return ur(t,(function(t){s[++i]=o?me(e,t,n):Br(t,e,n)})),s})),Is=Bi((function(t,e,n){ir(t,n,e)}));function Es(t,e){return(Vs(t)?Ce:Ur)(t,so(e,3))}var Cs=Bi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Ss=qr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&bo(t,e[0],e[1])?e=[]:n>2&&bo(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,yr(e,1),[])})),xs=Le||function(){return oe.Date.now()};function ks(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Gi(t,c,i,i,i,i,e)}function Bs(t,e){var n;if("function"!=typeof e)throw new xt(o);return t=ga(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ls=qr((function(t,e,n){var r=1;if(n.length){var i=en(n,oo(Ls));r|=l}return Gi(t,r,e,n,i)})),Os=qr((function(t,e,n){var r=3;if(n.length){var i=en(n,oo(Os));r|=l}return Gi(e,r,t,n,i)}));function Ts(t,e,n){var r,s,a,l,c,h,u=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new xt(o);function g(e){var n=r,o=s;return r=s=i,u=e,l=t.apply(o,n)}function y(t){return u=t,c=Lo(b,e),f?g(t):l}function m(t){var n=t-h;return h===i||n>=e||n<0||d&&t-u>=a}function b(){var t=xs();if(m(t))return v(t);c=Lo(b,function(t){var n=e-(t-h);return d?bn(n,a-(t-u)):n}(t))}function v(t){return c=i,p&&r?g(t):(r=s=i,l)}function A(){var t=xs(),n=m(t);if(r=arguments,s=this,h=t,n){if(c===i)return y(h);if(d)return Ai(c),c=Lo(b,e),g(h)}return c===i&&(c=Lo(b,e)),l}return e=ma(e)||0,ea(n)&&(f=!!n.leading,a=(d="maxWait"in n)?mn(ma(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),A.cancel=function(){c!==i&&Ai(c),u=0,r=h=s=c=i},A.flush=function(){return c===i?l:v(xs())},A}var Rs=qr((function(t,e){return cr(t,1,e)})),Ms=qr((function(t,e,n){return cr(t,ma(e)||0,n)}));function Ns(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new xt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ns.Cache||Yn),n}function Ds(t){if("function"!=typeof t)throw new xt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ns.Cache=Yn;var Us=bi((function(t,e){var n=(e=1==e.length&&Vs(e[0])?Ce(e[0],Ke(so())):Ce(yr(e,1),Ke(so()))).length;return qr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return me(t,this,r)}))})),Qs=qr((function(t,e){var n=en(e,oo(Qs));return Gi(t,l,i,e,n)})),js=qr((function(t,e){var n=en(e,oo(js));return Gi(t,64,i,e,n)})),Fs=to((function(t,e){return Gi(t,256,i,i,i,e)}));function Ps(t,e){return t===e||t!=t&&e!=e}var Hs=zi(Cr),Ks=zi((function(t,e){return t>=e})),zs=Lr(function(){return arguments}())?Lr:function(t){return na(t)&&Rt.call(t,"callee")&&!te.call(t,"callee")},Vs=r.isArray,Ys=ue?Ke(ue):function(t){return na(t)&&Er(t)==O};function Ws(t){return null!=t&&ta(t.length)&&!Xs(t)}function qs(t){return na(t)&&Ws(t)}var Gs=dn||ml,$s=fe?Ke(fe):function(t){return na(t)&&Er(t)==b};function Js(t){if(!na(t))return!1;var e=Er(t);return e==v||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Xs(t){if(!ea(t))return!1;var e=Er(t);return e==A||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zs(t){return"number"==typeof t&&t==ga(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var ra=de?Ke(de):function(t){return na(t)&&fo(t)==_};function ia(t){return"number"==typeof t||na(t)&&Er(t)==I}function oa(t){if(!na(t)||Er(t)!=E)return!1;var e=Yt(t);if(null===e)return!0;var n=Rt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Tt.call(n)==Ut}var sa=pe?Ke(pe):function(t){return na(t)&&Er(t)==S},aa=ge?Ke(ge):function(t){return na(t)&&fo(t)==x};function la(t){return"string"==typeof t||!Vs(t)&&na(t)&&Er(t)==k}function ca(t){return"symbol"==typeof t||na(t)&&Er(t)==B}var ha=ye?Ke(ye):function(t){return na(t)&&ta(t.length)&&!!Xt[Er(t)]},ua=zi(Dr),fa=zi((function(t,e){return t<=e}));function da(t){if(!t)return[];if(Ws(t))return la(t)?sn(t):xi(t);if(se&&t[se])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[se]());var e=fo(t);return(e==_?Ze:e==x?nn:Pa)(t)}function pa(t){return t?(t=ma(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=pa(t),n=e%1;return e==e?n?e-n:e:0}function ya(t){return t?sr(ga(t),0,d):0}function ma(t){if("number"==typeof t)return t;if(ca(t))return f;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=He(t);var n=pt.test(t);return n||yt.test(t)?ne(t.slice(2),n?2:8):dt.test(t)?f:+t}function ba(t){return ki(t,Ra(t))}function va(t){return null==t?"":ai(t)}var Aa=Li((function(t,e){if(_o(e)||Ws(e))ki(e,Ta(e),t);else for(var n in e)Rt.call(e,n)&&tr(t,n,e[n])})),wa=Li((function(t,e){ki(e,Ra(e),t)})),_a=Li((function(t,e,n,r){ki(e,Ra(e),t,r)})),Ia=Li((function(t,e,n,r){ki(e,Ta(e),t,r)})),Ea=to(or),Ca=qr((function(t,e){t=Et(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&bo(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=Ra(s),l=-1,c=a.length;++l<c;){var h=a[l],u=t[h];(u===i||Ps(u,Lt[h])&&!Rt.call(t,h))&&(t[h]=s[h])}return t})),Sa=qr((function(t){return t.push(i,Ji),me(Na,i,t)}));function xa(t,e,n){var r=null==t?i:_r(t,e);return r===i?n:r}function ka(t,e){return null!=t&&po(t,e,xr)}var Ba=ji((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Dt.call(e)),t[e]=n}),el(il)),La=ji((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Dt.call(e)),Rt.call(t,e)?t[e].push(n):t[e]=[n]}),so),Oa=qr(Br);function Ta(t){return Ws(t)?Gn(t):Nr(t)}function Ra(t){return Ws(t)?Gn(t,!0):function(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var n in Et(t))e.push(n);return e}(t);var e=_o(t),n=[];for(var r in t)("constructor"!=r||!e&&Rt.call(t,r))&&n.push(r);return n}(t)}var Ma=Li((function(t,e,n){Fr(t,e,n)})),Na=Li((function(t,e,n,r){Fr(t,e,n,r)})),Da=to((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ce(e,(function(e){return e=mi(e,t),r||(r=e.length>1),e})),ki(t,no(t),n),r&&(n=ar(n,7,Xi));for(var i=e.length;i--;)ci(n,e[i]);return n})),Ua=to((function(t,e){return null==t?{}:function(t,e){return Kr(t,e,(function(e,n){return ka(t,n)}))}(t,e)}));function Qa(t,e){if(null==t)return{};var n=Ce(no(t),(function(t){return[t]}));return e=so(e),Kr(t,n,(function(t,n){return e(t,n[0])}))}var ja=qi(Ta),Fa=qi(Ra);function Pa(t){return null==t?[]:ze(t,Ta(t))}var Ha=Mi((function(t,e,n){return e=e.toLowerCase(),t+(n?Ka(e):e)}));function Ka(t){return Ja(va(t).toLowerCase())}function za(t){return(t=va(t))&&t.replace(bt,Ge).replace(Vt,"")}var Va=Mi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ya=Mi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Wa=Ri("toLowerCase"),qa=Mi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Ga=Mi((function(t,e,n){return t+(n?" ":"")+Ja(e)})),$a=Mi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ja=Ri("toUpperCase");function Xa(t,e,n){return t=va(t),(e=n?i:e)===i?function(t){return Gt.test(t)}(t)?function(t){return t.match(Wt)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var Za=qr((function(t,e){try{return me(t,i,e)}catch(t){return Js(t)?t:new wt(t)}})),tl=to((function(t,e){return ve(e,(function(e){e=Qo(e),ir(t,e,Ls(t[e],t))})),t}));function el(t){return function(){return t}}var nl=Ui(),rl=Ui(!0);function il(t){return t}function ol(t){return Mr("function"==typeof t?t:ar(t,1))}var sl=qr((function(t,e){return function(n){return Br(n,t,e)}})),al=qr((function(t,e){return function(n){return Br(t,n,e)}}));function ll(t,e,n){var r=Ta(e),i=wr(e,r);null!=n||ea(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=wr(e,Ta(e)));var o=!(ea(n)&&"chain"in n&&!n.chain),s=Xs(t);return ve(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=xi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Se([this.value()],arguments))})})),t}function cl(){}var hl=Pi(Ce),ul=Pi(we),fl=Pi(Be);function dl(t){return vo(t)?Ue(Qo(t)):function(t){return function(e){return _r(e,t)}}(t)}var pl=Ki(),gl=Ki(!0);function yl(){return[]}function ml(){return!1}var bl,vl=Fi((function(t,e){return t+e}),0),Al=Yi("ceil"),wl=Fi((function(t,e){return t/e}),1),_l=Yi("floor"),Il=Fi((function(t,e){return t*e}),1),El=Yi("round"),Cl=Fi((function(t,e){return t-e}),0);return jn.after=function(t,e){if("function"!=typeof e)throw new xt(o);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},jn.ary=ks,jn.assign=Aa,jn.assignIn=wa,jn.assignInWith=_a,jn.assignWith=Ia,jn.at=Ea,jn.before=Bs,jn.bind=Ls,jn.bindAll=tl,jn.bindKey=Os,jn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Vs(t)?t:[t]},jn.chain=ds,jn.chunk=function(t,e,n){e=(n?bo(t,e,n):e===i)?1:mn(ga(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,l=r(hn(o/e));s<o;)l[a++]=ei(t,s,s+=e);return l},jn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},jn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Se(Vs(n)?xi(n):[n],yr(e,1))},jn.cond=function(t){var e=null==t?0:t.length,n=so();return t=e?Ce(t,(function(t){if("function"!=typeof t[1])throw new xt(o);return[n(t[0]),t[1]]})):[],qr((function(n){for(var r=-1;++r<e;){var i=t[r];if(me(i[0],this,n))return me(i[1],this,n)}}))},jn.conforms=function(t){return function(t){var e=Ta(t);return function(n){return lr(n,t,e)}}(ar(t,1))},jn.constant=el,jn.countBy=ys,jn.create=function(t,e){var n=Fn(t);return null==e?n:rr(n,e)},jn.curry=function t(e,n,r){var o=Gi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},jn.curryRight=function t(e,n,r){var o=Gi(e,16,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},jn.debounce=Ts,jn.defaults=Ca,jn.defaultsDeep=Sa,jn.defer=Rs,jn.delay=Ms,jn.difference=Po,jn.differenceBy=Ho,jn.differenceWith=Ko,jn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=n||e===i?1:ga(e))<0?0:e,r):[]},jn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,0,(e=r-(e=n||e===i?1:ga(e)))<0?0:e):[]},jn.dropRightWhile=function(t,e){return t&&t.length?ui(t,so(e,3),!0,!0):[]},jn.dropWhile=function(t,e){return t&&t.length?ui(t,so(e,3),!0):[]},jn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&bo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=ga(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ga(r))<0&&(r+=o),r=n>r?0:ya(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},jn.filter=function(t,e){return(Vs(t)?_e:gr)(t,so(e,3))},jn.flatMap=function(t,e){return yr(Es(t,e),1)},jn.flatMapDeep=function(t,e){return yr(Es(t,e),h)},jn.flatMapDepth=function(t,e,n){return n=n===i?1:ga(n),yr(Es(t,e),n)},jn.flatten=Yo,jn.flattenDeep=function(t){return null!=t&&t.length?yr(t,h):[]},jn.flattenDepth=function(t,e){return null!=t&&t.length?yr(t,e=e===i?1:ga(e)):[]},jn.flip=function(t){return Gi(t,512)},jn.flow=nl,jn.flowRight=rl,jn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},jn.functions=function(t){return null==t?[]:wr(t,Ta(t))},jn.functionsIn=function(t){return null==t?[]:wr(t,Ra(t))},jn.groupBy=ws,jn.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},jn.intersection=qo,jn.intersectionBy=Go,jn.intersectionWith=$o,jn.invert=Ba,jn.invertBy=La,jn.invokeMap=_s,jn.iteratee=ol,jn.keyBy=Is,jn.keys=Ta,jn.keysIn=Ra,jn.map=Es,jn.mapKeys=function(t,e){var n={};return e=so(e,3),vr(t,(function(t,r,i){ir(n,e(t,r,i),t)})),n},jn.mapValues=function(t,e){var n={};return e=so(e,3),vr(t,(function(t,r,i){ir(n,r,e(t,r,i))})),n},jn.matches=function(t){return Qr(ar(t,1))},jn.matchesProperty=function(t,e){return jr(t,ar(e,1))},jn.memoize=Ns,jn.merge=Ma,jn.mergeWith=Na,jn.method=sl,jn.methodOf=al,jn.mixin=ll,jn.negate=Ds,jn.nthArg=function(t){return t=ga(t),qr((function(e){return Pr(e,t)}))},jn.omit=Da,jn.omitBy=function(t,e){return Qa(t,Ds(so(e)))},jn.once=function(t){return Bs(2,t)},jn.orderBy=function(t,e,n,r){return null==t?[]:(Vs(e)||(e=null==e?[]:[e]),Vs(n=r?i:n)||(n=null==n?[]:[n]),Hr(t,e,n))},jn.over=hl,jn.overArgs=Us,jn.overEvery=ul,jn.overSome=fl,jn.partial=Qs,jn.partialRight=js,jn.partition=Cs,jn.pick=Ua,jn.pickBy=Qa,jn.property=dl,jn.propertyOf=function(t){return function(e){return null==t?i:_r(t,e)}},jn.pull=Xo,jn.pullAll=Zo,jn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?zr(t,e,so(n,2)):t},jn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?zr(t,e,i,n):t},jn.pullAt=ts,jn.range=pl,jn.rangeRight=gl,jn.rearg=Fs,jn.reject=function(t,e){return(Vs(t)?_e:gr)(t,Ds(so(e,3)))},jn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=so(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Vr(t,i),n},jn.rest=function(t,e){if("function"!=typeof t)throw new xt(o);return qr(t,e=e===i?e:ga(e))},jn.reverse=es,jn.sampleSize=function(t,e,n){return e=(n?bo(t,e,n):e===i)?1:ga(e),(Vs(t)?Jn:$r)(t,e)},jn.set=function(t,e,n){return null==t?t:Jr(t,e,n)},jn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Jr(t,e,n,r)},jn.shuffle=function(t){return(Vs(t)?Xn:ti)(t)},jn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&bo(t,e,n)?(e=0,n=r):(e=null==e?0:ga(e),n=n===i?r:ga(n)),ei(t,e,n)):[]},jn.sortBy=Ss,jn.sortedUniq=function(t){return t&&t.length?oi(t):[]},jn.sortedUniqBy=function(t,e){return t&&t.length?oi(t,so(e,2)):[]},jn.split=function(t,e,n){return n&&"number"!=typeof n&&bo(t,e,n)&&(e=n=i),(n=n===i?d:n>>>0)?(t=va(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=ai(e))&&Xe(t)?vi(sn(t),0,n):t.split(e,n):[]},jn.spread=function(t,e){if("function"!=typeof t)throw new xt(o);return e=null==e?0:mn(ga(e),0),qr((function(n){var r=n[e],i=vi(n,0,e);return r&&Se(i,r),me(t,this,i)}))},jn.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},jn.take=function(t,e,n){return t&&t.length?ei(t,0,(e=n||e===i?1:ga(e))<0?0:e):[]},jn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=r-(e=n||e===i?1:ga(e)))<0?0:e,r):[]},jn.takeRightWhile=function(t,e){return t&&t.length?ui(t,so(e,3),!1,!0):[]},jn.takeWhile=function(t,e){return t&&t.length?ui(t,so(e,3)):[]},jn.tap=function(t,e){return e(t),t},jn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new xt(o);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ts(t,e,{leading:r,maxWait:e,trailing:i})},jn.thru=ps,jn.toArray=da,jn.toPairs=ja,jn.toPairsIn=Fa,jn.toPath=function(t){return Vs(t)?Ce(t,Qo):ca(t)?[t]:xi(Uo(va(t)))},jn.toPlainObject=ba,jn.transform=function(t,e,n){var r=Vs(t),i=r||Gs(t)||ha(t);if(e=so(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ea(t)&&Xs(o)?Fn(Yt(t)):{}}return(i?ve:vr)(t,(function(t,r,i){return e(n,t,r,i)})),n},jn.unary=function(t){return ks(t,1)},jn.union=ns,jn.unionBy=rs,jn.unionWith=is,jn.uniq=function(t){return t&&t.length?li(t):[]},jn.uniqBy=function(t,e){return t&&t.length?li(t,so(e,2)):[]},jn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?li(t,i,e):[]},jn.unset=function(t,e){return null==t||ci(t,e)},jn.unzip=os,jn.unzipWith=ss,jn.update=function(t,e,n){return null==t?t:hi(t,e,yi(n))},jn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:hi(t,e,yi(n),r)},jn.values=Pa,jn.valuesIn=function(t){return null==t?[]:ze(t,Ra(t))},jn.without=as,jn.words=Xa,jn.wrap=function(t,e){return Qs(yi(e),t)},jn.xor=ls,jn.xorBy=cs,jn.xorWith=hs,jn.zip=us,jn.zipObject=function(t,e){return pi(t||[],e||[],tr)},jn.zipObjectDeep=function(t,e){return pi(t||[],e||[],Jr)},jn.zipWith=fs,jn.entries=ja,jn.entriesIn=Fa,jn.extend=wa,jn.extendWith=_a,ll(jn,jn),jn.add=vl,jn.attempt=Za,jn.camelCase=Ha,jn.capitalize=Ka,jn.ceil=Al,jn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ma(n))==n?n:0),e!==i&&(e=(e=ma(e))==e?e:0),sr(ma(t),e,n)},jn.clone=function(t){return ar(t,4)},jn.cloneDeep=function(t){return ar(t,5)},jn.cloneDeepWith=function(t,e){return ar(t,5,e="function"==typeof e?e:i)},jn.cloneWith=function(t,e){return ar(t,4,e="function"==typeof e?e:i)},jn.conformsTo=function(t,e){return null==e||lr(t,e,Ta(e))},jn.deburr=za,jn.defaultTo=function(t,e){return null==t||t!=t?e:t},jn.divide=wl,jn.endsWith=function(t,e,n){t=va(t),e=ai(e);var r=t.length,o=n=n===i?r:sr(ga(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},jn.eq=Ps,jn.escape=function(t){return(t=va(t))&&q.test(t)?t.replace(Y,$e):t},jn.escapeRegExp=function(t){return(t=va(t))&&nt.test(t)?t.replace(et,"\\$&"):t},jn.every=function(t,e,n){var r=Vs(t)?we:dr;return n&&bo(t,e,n)&&(e=i),r(t,so(e,3))},jn.find=ms,jn.findIndex=zo,jn.findKey=function(t,e){return Oe(t,so(e,3),vr)},jn.findLast=bs,jn.findLastIndex=Vo,jn.findLastKey=function(t,e){return Oe(t,so(e,3),Ar)},jn.floor=_l,jn.forEach=vs,jn.forEachRight=As,jn.forIn=function(t,e){return null==t?t:mr(t,so(e,3),Ra)},jn.forInRight=function(t,e){return null==t?t:br(t,so(e,3),Ra)},jn.forOwn=function(t,e){return t&&vr(t,so(e,3))},jn.forOwnRight=function(t,e){return t&&Ar(t,so(e,3))},jn.get=xa,jn.gt=Hs,jn.gte=Ks,jn.has=function(t,e){return null!=t&&po(t,e,Sr)},jn.hasIn=ka,jn.head=Wo,jn.identity=il,jn.includes=function(t,e,n,r){t=Ws(t)?t:Pa(t),n=n&&!r?ga(n):0;var i=t.length;return n<0&&(n=mn(i+n,0)),la(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Re(t,e,n)>-1},jn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=mn(r+i,0)),Re(t,e,i)},jn.inRange=function(t,e,n){return e=pa(e),n===i?(n=e,e=0):n=pa(n),function(t,e,n){return t>=bn(e,n)&&t<mn(e,n)}(t=ma(t),e,n)},jn.invoke=Oa,jn.isArguments=zs,jn.isArray=Vs,jn.isArrayBuffer=Ys,jn.isArrayLike=Ws,jn.isArrayLikeObject=qs,jn.isBoolean=function(t){return!0===t||!1===t||na(t)&&Er(t)==m},jn.isBuffer=Gs,jn.isDate=$s,jn.isElement=function(t){return na(t)&&1===t.nodeType&&!oa(t)},jn.isEmpty=function(t){if(null==t)return!0;if(Ws(t)&&(Vs(t)||"string"==typeof t||"function"==typeof t.splice||Gs(t)||ha(t)||zs(t)))return!t.length;var e=fo(t);if(e==_||e==x)return!t.size;if(_o(t))return!Nr(t).length;for(var n in t)if(Rt.call(t,n))return!1;return!0},jn.isEqual=function(t,e){return Or(t,e)},jn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Or(t,e,i,n):!!r},jn.isError=Js,jn.isFinite=function(t){return"number"==typeof t&&pn(t)},jn.isFunction=Xs,jn.isInteger=Zs,jn.isLength=ta,jn.isMap=ra,jn.isMatch=function(t,e){return t===e||Tr(t,e,lo(e))},jn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Tr(t,e,lo(e),n)},jn.isNaN=function(t){return ia(t)&&t!=+t},jn.isNative=function(t){if(wo(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(t)},jn.isNil=function(t){return null==t},jn.isNull=function(t){return null===t},jn.isNumber=ia,jn.isObject=ea,jn.isObjectLike=na,jn.isPlainObject=oa,jn.isRegExp=sa,jn.isSafeInteger=function(t){return Zs(t)&&t>=-9007199254740991&&t<=u},jn.isSet=aa,jn.isString=la,jn.isSymbol=ca,jn.isTypedArray=ha,jn.isUndefined=function(t){return t===i},jn.isWeakMap=function(t){return na(t)&&fo(t)==L},jn.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==Er(t)},jn.join=function(t,e){return null==t?"":gn.call(t,e)},jn.kebabCase=Va,jn.last=Jo,jn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ga(n))<0?mn(r+o,0):bn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Te(t,Ne,o,!0)},jn.lowerCase=Ya,jn.lowerFirst=Wa,jn.lt=ua,jn.lte=fa,jn.max=function(t){return t&&t.length?pr(t,il,Cr):i},jn.maxBy=function(t,e){return t&&t.length?pr(t,so(e,2),Cr):i},jn.mean=function(t){return De(t,il)},jn.meanBy=function(t,e){return De(t,so(e,2))},jn.min=function(t){return t&&t.length?pr(t,il,Dr):i},jn.minBy=function(t,e){return t&&t.length?pr(t,so(e,2),Dr):i},jn.stubArray=yl,jn.stubFalse=ml,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=Il,jn.nth=function(t,e){return t&&t.length?Pr(t,ga(e)):i},jn.noConflict=function(){return oe._===this&&(oe._=Qt),this},jn.noop=cl,jn.now=xs,jn.pad=function(t,e,n){t=va(t);var r=(e=ga(e))?on(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Hi(un(i),n)+t+Hi(hn(i),n)},jn.padEnd=function(t,e,n){t=va(t);var r=(e=ga(e))?on(t):0;return e&&r<e?t+Hi(e-r,n):t},jn.padStart=function(t,e,n){t=va(t);var r=(e=ga(e))?on(t):0;return e&&r<e?Hi(e-r,n)+t:t},jn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),An(va(t).replace(rt,""),e||0)},jn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&bo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pa(t),e===i?(e=t,t=0):e=pa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=wn();return bn(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return Yr(t,e)},jn.reduce=function(t,e,n){var r=Vs(t)?xe:je,i=arguments.length<3;return r(t,so(e,4),n,i,ur)},jn.reduceRight=function(t,e,n){var r=Vs(t)?ke:je,i=arguments.length<3;return r(t,so(e,4),n,i,fr)},jn.repeat=function(t,e,n){return e=(n?bo(t,e,n):e===i)?1:ga(e),Wr(va(t),e)},jn.replace=function(){var t=arguments,e=va(t[0]);return t.length<3?e:e.replace(t[1],t[2])},jn.result=function(t,e,n){var r=-1,o=(e=mi(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[Qo(e[r])];s===i&&(r=o,s=n),t=Xs(s)?s.call(t):s}return t},jn.round=El,jn.runInContext=t,jn.sample=function(t){return(Vs(t)?$n:Gr)(t)},jn.size=function(t){if(null==t)return 0;if(Ws(t))return la(t)?on(t):t.length;var e=fo(t);return e==_||e==x?t.size:Nr(t).length},jn.snakeCase=qa,jn.some=function(t,e,n){var r=Vs(t)?Be:ni;return n&&bo(t,e,n)&&(e=i),r(t,so(e,3))},jn.sortedIndex=function(t,e){return ri(t,e)},jn.sortedIndexBy=function(t,e,n){return ii(t,e,so(n,2))},jn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ri(t,e);if(r<n&&Ps(t[r],e))return r}return-1},jn.sortedLastIndex=function(t,e){return ri(t,e,!0)},jn.sortedLastIndexBy=function(t,e,n){return ii(t,e,so(n,2),!0)},jn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ri(t,e,!0)-1;if(Ps(t[n],e))return n}return-1},jn.startCase=Ga,jn.startsWith=function(t,e,n){return t=va(t),n=null==n?0:sr(ga(n),0,t.length),e=ai(e),t.slice(n,n+e.length)==e},jn.subtract=Cl,jn.sum=function(t){return t&&t.length?Fe(t,il):0},jn.sumBy=function(t,e){return t&&t.length?Fe(t,so(e,2)):0},jn.template=function(t,e,n){var r=jn.templateSettings;n&&bo(t,e,n)&&(e=i),t=va(t),e=_a({},e,r,$i);var o,s,a=_a({},e.imports,r.imports,$i),l=Ta(a),c=ze(a,l),h=0,u=e.interpolate||vt,f="__p += '",d=Ct((e.escape||vt).source+"|"+u.source+"|"+(u===J?ut:vt).source+"|"+(e.evaluate||vt).source+"|$","g"),p="//# sourceURL="+(Rt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jt+"]")+"\n";t.replace(d,(function(e,n,r,i,a,l){return r||(r=i),f+=t.slice(h,l).replace(At,Je),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),f+="';\n";var g=Rt.call(e,"variable")&&e.variable;if(g){if(ct.test(g))throw new wt("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(H,""):f).replace(K,"$1").replace(z,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Za((function(){return _t(l,p+"return "+f).apply(i,c)}));if(y.source=f,Js(y))throw y;return y},jn.times=function(t,e){if((t=ga(t))<1||t>u)return[];var n=d,r=bn(t,d);e=so(e),t-=d;for(var i=Pe(r,e);++n<t;)e(n);return i},jn.toFinite=pa,jn.toInteger=ga,jn.toLength=ya,jn.toLower=function(t){return va(t).toLowerCase()},jn.toNumber=ma,jn.toSafeInteger=function(t){return t?sr(ga(t),-9007199254740991,u):0===t?t:0},jn.toString=va,jn.toUpper=function(t){return va(t).toUpperCase()},jn.trim=function(t,e,n){if((t=va(t))&&(n||e===i))return He(t);if(!t||!(e=ai(e)))return t;var r=sn(t),o=sn(e);return vi(r,Ye(r,o),We(r,o)+1).join("")},jn.trimEnd=function(t,e,n){if((t=va(t))&&(n||e===i))return t.slice(0,an(t)+1);if(!t||!(e=ai(e)))return t;var r=sn(t);return vi(r,0,We(r,sn(e))+1).join("")},jn.trimStart=function(t,e,n){if((t=va(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=ai(e)))return t;var r=sn(t);return vi(r,Ye(r,sn(e))).join("")},jn.truncate=function(t,e){var n=30,r="...";if(ea(e)){var o="separator"in e?e.separator:o;n="length"in e?ga(e.length):n,r="omission"in e?ai(e.omission):r}var s=(t=va(t)).length;if(Xe(t)){var a=sn(t);s=a.length}if(n>=s)return t;var l=n-on(r);if(l<1)return r;var c=a?vi(a,0,l).join(""):t.slice(0,l);if(o===i)return c+r;if(a&&(l+=c.length-l),sa(o)){if(t.slice(l).search(o)){var h,u=c;for(o.global||(o=Ct(o.source,va(ft.exec(o))+"g")),o.lastIndex=0;h=o.exec(u);)var f=h.index;c=c.slice(0,f===i?l:f)}}else if(t.indexOf(ai(o),l)!=l){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},jn.unescape=function(t){return(t=va(t))&&W.test(t)?t.replace(V,ln):t},jn.uniqueId=function(t){var e=++Mt;return va(t)+e},jn.upperCase=$a,jn.upperFirst=Ja,jn.each=vs,jn.eachRight=As,jn.first=Wo,ll(jn,(bl={},vr(jn,(function(t,e){Rt.call(jn.prototype,e)||(bl[e]=t)})),bl),{chain:!1}),jn.VERSION="4.17.21",ve(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){jn[t].placeholder=jn})),ve(["drop","take"],(function(t,e){Kn.prototype[t]=function(n){n=n===i?1:mn(ga(n),0);var r=this.__filtered__&&!e?new Kn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,d),type:t+(r.__dir__<0?"Right":"")}),r},Kn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ve(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Kn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:so(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ve(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Kn.prototype[t]=function(){return this[n](1).value()[0]}})),ve(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Kn.prototype[t]=function(){return this.__filtered__?new Kn(this):this[n](1)}})),Kn.prototype.compact=function(){return this.filter(il)},Kn.prototype.find=function(t){return this.filter(t).head()},Kn.prototype.findLast=function(t){return this.reverse().find(t)},Kn.prototype.invokeMap=qr((function(t,e){return"function"==typeof t?new Kn(this):this.map((function(n){return Br(n,t,e)}))})),Kn.prototype.reject=function(t){return this.filter(Ds(so(t)))},Kn.prototype.slice=function(t,e){t=ga(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Kn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=ga(e))<0?n.dropRight(-e):n.take(e-t)),n)},Kn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Kn.prototype.toArray=function(){return this.take(d)},vr(Kn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=jn[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(jn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,l=e instanceof Kn,c=a[0],h=l||Vs(e),u=function(t){var e=o.apply(jn,Se([t],a));return r&&f?e[0]:e};h&&n&&"function"==typeof c&&1!=c.length&&(l=h=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,g=l&&!d;if(!s&&h){e=g?e:new Kn(this);var y=t.apply(e,a);return y.__actions__.push({func:ps,args:[u],thisArg:i}),new Hn(y,f)}return p&&g?t.apply(this,a):(y=this.thru(u),p?r?y.value()[0]:y.value():y)})})),ve(["pop","push","shift","sort","splice","unshift"],(function(t){var e=kt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);jn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Vs(i)?i:[],t)}return this[n]((function(n){return e.apply(Vs(n)?n:[],t)}))}})),vr(Kn.prototype,(function(t,e){var n=jn[e];if(n){var r=n.name+"";Rt.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:e,func:n})}})),Ln[Qi(i,2).name]=[{name:"wrapper",func:i}],Kn.prototype.clone=function(){var t=new Kn(this.__wrapped__);return t.__actions__=xi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=xi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=xi(this.__views__),t},Kn.prototype.reverse=function(){if(this.__filtered__){var t=new Kn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Kn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Vs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=bn(e,t+s);break;case"takeRight":t=mn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,h=this.__iteratees__,u=h.length,f=0,d=bn(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return fi(t,this.__actions__);var p=[];t:for(;l--&&f<d;){for(var g=-1,y=t[c+=e];++g<u;){var m=h[g],b=m.iteratee,v=m.type,A=b(y);if(2==v)y=A;else if(!A){if(1==v)continue t;break t}}p[f++]=y}return p},jn.prototype.at=gs,jn.prototype.chain=function(){return ds(this)},jn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(t){for(var e,n=this;n instanceof Pn;){var r=Fo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},jn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Kn){var e=t;return this.__actions__.length&&(e=new Kn(this)),(e=e.reverse()).__actions__.push({func:ps,args:[es],thisArg:i}),new Hn(e,this.__chain__)}return this.thru(es)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,se&&(jn.prototype[se]=function(){return this}),jn}();oe._=cn,(r=function(){return cn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},8599:(t,e,n)=>{var r=n(8764).Buffer;function i(t,e){if(!(this instanceof i))return new i(t,e);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=t||1024,this.deduplicate=e?e.deduplicate:null,this.zeros=this.deduplicate?o(this.deduplicate.length):null}function o(t){if(r.alloc)return r.alloc(t);var e=new r(t);return e.fill(0),e}function s(t,e){this.offset=t*e.length,this.buffer=e,this.updated=!1,this.deduplicate=0}t.exports=i,i.prototype.updated=function(t){for(;this.deduplicate&&t.buffer[t.deduplicate]===this.deduplicate[t.deduplicate];)if(t.deduplicate++,t.deduplicate===this.deduplicate.length){t.deduplicate=0,t.buffer.equals&&t.buffer.equals(this.deduplicate)&&(t.buffer=this.deduplicate);break}!t.updated&&this.updates&&(t.updated=!0,this.updates.push(t))},i.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var t=this.updates.pop();return t.updated=!1,t},i.prototype._array=function(t,e){if(t>=this.maxPages){if(e)return;!function(t,e){for(;t.maxPages<e;){var n=t.pages;t.pages=new Array(32768),t.pages[0]=n,t.level++,t.maxPages*=32768}}(this,t)}var n,r;n=((n=((n=t)-((r=this.path)[0]=32767&n))/32768)-(r[1]=32767&n))/32768,r[3]=(n-(r[2]=32767&n))/32768&32767;for(var i=this.pages,o=this.level;o>0;o--){var s=this.path[o],a=i[s];if(!a){if(e)return;a=i[s]=new Array(32768)}i=a}return i},i.prototype.get=function(t,e){var n,i,a=this._array(t,e),l=this.path[0],c=a&&a[l];return c||e||(c=a[l]=new s(t,o(this.pageSize)),t>=this.length&&(this.length=t+1)),c&&c.buffer===this.deduplicate&&this.deduplicate&&!e&&(c.buffer=(n=c.buffer,i=r.allocUnsafe?r.allocUnsafe(n.length):new r(n.length),n.copy(i),i),c.deduplicate=0),c},i.prototype.set=function(t,e){var n=this._array(t,!1),r=this.path[0];if(t>=this.length&&(this.length=t+1),!e||this.zeros&&e.equals&&e.equals(this.zeros))n[r]=void 0;else{this.deduplicate&&e.equals&&e.equals(this.deduplicate)&&(e=this.deduplicate);var i=n[r],a=function(t,e){if(t.length===e)return t;if(t.length>e)return t.slice(0,e);var n=o(e);return t.copy(n),n}(e,this.pageSize);i?i.buffer=a:n[r]=new s(t,a)}},i.prototype.toBuffer=function(){for(var t=new Array(this.length),e=o(this.pageSize),n=0;n<t.length;)for(var i=this._array(n,!0),s=0;s<32768&&n<t.length;s++)t[n++]=i&&i[s]?i[s].buffer:e;return r.concat(t)}},942:function(t,e,n){"use strict";const r=n(9727),i=Object.prototype.hasOwnProperty,o=Object.propertyIsEnumerable,s=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0}),a=this,l={concatArrays:!1},c=t=>{const e=[];for(const n in t)i.call(t,n)&&e.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(t);for(let r=0;r<n.length;r++)o.call(t,n[r])&&e.push(n[r])}return e};function h(t){return Array.isArray(t)?function(t){const e=t.slice(0,0);return c(t).forEach((n=>{s(e,n,h(t[n]))})),e}(t):r(t)?function(t){const e=null===Object.getPrototypeOf(t)?Object.create(null):{};return c(t).forEach((n=>{s(e,n,h(t[n]))})),e}(t):t}const u=(t,e,n,r)=>(n.forEach((n=>{n in t&&t[n]!==Object.getPrototypeOf(t)?s(t,n,f(t[n],e[n],r)):s(t,n,h(e[n]))})),t);function f(t,e,n){return n.concatArrays&&Array.isArray(t)&&Array.isArray(e)?((t,e,n)=>{let r=t.slice(0,0),o=0;return[t,e].forEach((e=>{const a=[];for(let n=0;n<e.length;n++)i.call(e,n)&&(a.push(String(n)),s(r,o++,e===t?e[n]:h(e[n])));r=u(r,e,c(e).filter((t=>-1===a.indexOf(t))),n)})),r})(t,e,n):r(e)&&r(t)?u(t,e,c(e),n):h(e)}t.exports=function(){const t=f(h(l),this!==a&&this||{},l);let e={foobar:{}};for(let n=0;n<arguments.length;n++){const i=arguments[n];if(void 0!==i){if(!r(i))throw new TypeError("`"+i+"` is not an Option Object");e=f(e,{foobar:i},t)}}return e.foobar}},9727:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n;return"[object Object]"===e.call(t)&&(null===(n=Object.getPrototypeOf(t))||n===Object.getPrototypeOf({}))}},9667:(t,e,n)=>{var r=n(8764).Buffer;const i=n(535);t.exports=class{constructor(t,e){if(!t||!t.leaf||!t.parent)throw new Error("opts.leaf and opts.parent required");this.roots=e||t.roots||[],this.blocks=this.roots.length?1+i.rightSpan(this.roots[this.roots.length-1].index)/2:0;for(var n=0;n<this.roots.length;n++){var r=this.roots[n];r&&!r.parent&&(r.parent=i.parent(r.index))}this._leaf=t.leaf,this._parent=t.parent}next(t,e){r.isBuffer(t)||(t=r.from(t)),e||(e=[]);var n=2*this.blocks++,o={index:n,parent:i.parent(n),hash:null,size:t.length,data:t};for(o.hash=this._leaf(o,this.roots),this.roots.push(o),e.push(o);this.roots.length>1;){var s=this.roots[this.roots.length-2],a=this.roots[this.roots.length-1];if(s.parent!==a.parent)break;this.roots.pop(),this.roots[this.roots.length-1]=o={index:s.parent,parent:i.parent(s.parent),hash:this._parent(s,a),size:s.size+a.size,data:null},e.push(o)}return e}}},9369:(t,e,n)=>{var r=n(4155),i=n(2520),o=n(869),s=parseInt("0777",8);function a(t,e,n,l){"function"==typeof e?(n=e,e={}):e&&"object"==typeof e||(e={mode:e});var c=e.mode,h=e.fs||o;void 0===c&&(c=s&~r.umask()),l||(l=null);var u=n||function(){};t=i.resolve(t),h.mkdir(t,c,(function(n){if(!n)return u(null,l=l||t);"ENOENT"===n.code?a(i.dirname(t),e,(function(n,r){n?u(n,r):a(t,e,u,r)})):h.stat(t,(function(t,e){t||!e.isDirectory()?u(n,l):u(null,l)}))}))}t.exports=a.mkdirp=a.mkdirP=a,a.sync=function t(e,n,a){n&&"object"==typeof n||(n={mode:n});var l=n.mode,c=n.fs||o;void 0===l&&(l=s&~r.umask()),a||(a=null),e=i.resolve(e);try{c.mkdirSync(e,l),a=a||e}catch(r){if("ENOENT"===r.code)a=t(i.dirname(e),n,a),t(e,n,a);else{var h;try{h=c.statSync(e)}catch(t){throw r}if(!h.isDirectory())throw r}}return a}},7824:t=>{var e=1e3,n=60*e,r=60*n,i=24*r;function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,s){s=s||{};var a,l=typeof t;if("string"===l&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===l&&!1===isNaN(t))return s.long?o(a=t,i,"day")||o(a,r,"hour")||o(a,n,"minute")||o(a,e,"second")||a+" ms":function(t){return t>=i?Math.round(t/i)+"d":t>=r?Math.round(t/r)+"h":t>=n?Math.round(t/n)+"m":t>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},9204:t=>{t.exports=function t(n,r){if(!n){var i=new e(r);throw Error.captureStackTrace&&Error.captureStackTrace(i,t),i}};class e extends Error{}e.prototype.name="AssertionError"},9486:(t,e,n)=>{var r=n(4155);function i(t){t.continueSync()}t.exports=class{constructor(){this._tick=0,this._fns=[],this._dep=null}get waiting(){return this._tick>0}depend(t){if(null!==this._dep)throw new Error("Can only depend on one other guard currently");this._dep=t}wait(){this._tick++}continue(t,e,n){1===this._tick?r.nextTick(i,this):this._tick--,t&&t(e,n)}waitAndContinue(){let t=!1;return this.wait(),()=>!t&&(t=!0,this.continue(),!0)}continueSync(t,e,n){if(!--this._tick){for(;null!==this._fns&&this._fns.length;)this._ready(this._fns.pop());t&&t(e,n)}}destroy(){const t=this._fns;if(!t)for(this._fns=null;t.length;)t.pop()()}ready(t){null===this._fns||0===this._tick?this._ready(t):this._fns.push(t)}_ready(t){null===this._dep?t():this._dep.ready(t)}}},3098:(t,e,n)=>{var r=n(4155);const i=n(7187),o=n(5717),s=Symbol("opening queue"),a=Symbol("closing when inactive"),l=Symbol("closing queue"),c=Symbol("sync"),h=Symbol("fast close");function u(t){if(!(this instanceof u))return new u(t);i.EventEmitter.call(this),t||(t={}),t.open&&(this._open=t.open),t.close&&(this._close=t.close),this.opening=!1,this.opened=!1,this.closing=!1,this.closed=!1,this.actives=0,this[s]=null,this[a]=null,this[l]=null,this[c]=!1,this[h]=!0}function f(t){if(this[c])return r.nextTick(f.bind(this),t);const e=this[s];for(this[s]=null,this.opening=!1,this.opened=!t;e.length;)e.shift()(t);const n=this[a];if(n&&!this.actives)for(this[a]=null;n.length;)this.close(n.shift())}function d(t){if(this[c])return r.nextTick(d.bind(this),t);const e=this[l];for(this.closing=!1,this[l]=null,this.closed=!t;e.length;)e.shift()(t)}function p(){}t.exports=u,o(u,i.EventEmitter),u.prototype._open=function(t){t(null)},u.prototype._close=function(t){t(null)},u.prototype.open=function(t){return t||(t=p),this[l]||this.closed?r.nextTick(t,new Error("Resource is closed")):this.opened?r.nextTick(t):void(this[s]?this[s].push(t):(this.opening=!0,this[s]=[t],this[c]=!0,this._open(f.bind(this)),this[c]=!1))},u.prototype.active=function(t){return this[h]&&this[a]||this[l]||this.closed?(t&&r.nextTick(t,new Error("Resource is closed")),!1):(this.actives++,!0)},u.prototype.inactive=function(t,e,n){if(!--this.actives){const t=this[a];if(t)for(this[a]=null;t.length;)this.close(t.shift())}t&&t(e,n)},u.prototype.close=function(t,e){return"function"==typeof t?this.close(!1,t):(e||(e=p),t&&(this[h]=!1),this.closed?r.nextTick(e):this.actives||this[s]?(this[a]||(this[a]=[]),void this[a].push(e)):this.opened?void(this[l]?this[l].push(e):(this.closing=!0,this[l]=[e],this[c]=!0,this._close(d.bind(this)),this[c]=!1)):(this.closed=!0,void r.nextTick(e)))}},6555:(t,e,n)=>{const{sodium_memzero:r}=n(8542),{sodium_increment:i,sodium_memcmp:o,sodium_is_zero:s}=n(9696);var a=n(9204),l=n(8337),c=l.KEYLEN+l.NONCELEN,h=l.NONCELEN,u=l.MACLEN;t.exports={STATELEN:c,NONCELEN:h,MACLEN:u,initializeKey:function(t,e){a(t.byteLength===c),a(null==e||e.byteLength===l.KEYLEN),null!=e?(t.set(e),r(t.subarray(d,p))):r(t.subarray(0,f))},hasKey:g,setNonce:function(t,e){a(t.byteLength===c),a(e.byteLength===h),t.set(e,d)},encryptWithAd:m,decryptWithAd:b,rekey:v};var f=l.KEYLEN,d=f,p=d+l.NONCELEN;function g(t){a(t.byteLength===c);var e=t.subarray(0,f);return!1===s(e)}var y=new Uint8Array(8).fill(255);function m(t,e,n,r){a(t.byteLength===c),a(null!=e.byteLength),a(null!=r.byteLength);var s=t.subarray(d,p);if(o(s,y))throw new Error("Nonce overflow");if(!1===g(t))return e.set(r),m.bytesRead=r.byteLength,void(m.bytesWritten=m.bytesRead);var h=t.subarray(0,f);l.encrypt(e,h,s,n,r),m.bytesRead=l.encrypt.bytesRead,m.bytesWritten=l.encrypt.bytesWritten,i(s)}function b(t,e,n,r){a(t.byteLength===c),a(null!=e.byteLength),a(null!=r.byteLength);var s=t.subarray(d,p);if(o(s,y))throw new Error("Nonce overflow");if(!1===g(t))return e.set(r),b.bytesRead=r.byteLength,void(b.bytesWritten=b.bytesRead);var h=t.subarray(0,f);l.decrypt(e,h,s,n,r),b.bytesRead=l.decrypt.bytesRead,b.bytesWritten=l.decrypt.bytesWritten,i(s)}function v(t){a(t.byteLength===c);var e=t.subarray(0,f);l.rekey(e,e),v.bytesRead=l.rekey.bytesRead,v.bytesWritten=l.rekey.bytesWritten}m.bytesRead=0,m.bytesWritten=0,b.bytesRead=0,b.bytesWritten=0,v.bytesRead=0,v.bytesWritten=0},8337:(t,e,n)=>{const{sodium_malloc:r,sodium_memzero:i}=n(8542),{crypto_aead_chacha20poly1305_ietf_KEYBYTES:o,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:s,crypto_aead_chacha20poly1305_ietf_ABYTES:a,crypto_aead_chacha20poly1305_ietf_encrypt:l,crypto_aead_chacha20poly1305_ietf_decrypt:c}=n(684);var h=n(9204),u=32,f=16;h(o===u),h(12===s),h(a===f),t.exports={KEYLEN:u,NONCELEN:8,MACLEN:f,encrypt:p,decrypt:g,rekey:A};var d=r(s);function p(t,e,n,r,o){h(t.byteLength>=o.byteLength+f,"output buffer must be at least plaintext plus MACLEN bytes long"),h(e.byteLength===u),h(8===n.byteLength),h(null==r||null!=r.byteLength),i(d),d.set(n,4),p.bytesWritten=l(t.subarray(0,o.byteLength+f),o,r,null,d,e),p.bytesRead=p.bytesWritten-f,i(d)}function g(t,e,n,r,o){h(t.byteLength>=o.byteLength-f),h(e.byteLength===u),h(8===n.byteLength),h(null==r||null!=r.byteLength),i(d),d.set(n,4),g.bytesWritten=c(t.subarray(0,o.byteLength-f),null,o,r,d,e),g.bytesRead=g.bytesWritten+f,i(d)}p.bytesWritten=0,p.bytesRead=0,g.bytesWritten=0,g.bytesRead=0;var y=new Uint8Array(8).fill(255),m=new Uint8Array(0),b=new Uint8Array(32),v=r(48);function A(t,e){h(t.byteLength===u),h(e.byteLength===u),i(v),v.set(e),p(v,e,y,m,b),A.bytesWritten=p.bytesWritten,A.bytesRead=p.bytesRead,t.set(v.subarray(0,u)),i(v)}i(v),A.bytesWritten=0,A.bytesRead=0},1974:(t,e,n)=>{const{crypto_kx_SEEDBYTES:r,crypto_kx_keypair:i,crypto_kx_seed_keypair:o}=n(9142),{crypto_scalarmult_BYTES:s,crypto_scalarmult_SCALARBYTES:a,crypto_scalarmult:l}=n(1152);var c=n(9204),h=s,u=s,f=a,d=r;t.exports={DHLEN:h,PKLEN:u,SKLEN:f,SEEDLEN:d,generateKeypair:function(t,e){c(t.byteLength===u),c(e.byteLength===f),i(t,e)},generateSeedKeypair:function(t,e,n){c(t.byteLength===u),c(e.byteLength===f),c(n.byteLength===f),o(t,e,n)},dh:function(t,e,n){c(t.byteLength===h),c(e.byteLength===f),c(n.byteLength===u),l(t,e,n)}}},6575:(t,e,n)=>{const{sodium_malloc:r,sodium_memzero:i,sodium_free:o}=n(8542),s=n(9204),a=n(6313),l=n(454),c=n(6555),h=n(1974),u=h.PKLEN,f=h.SKLEN;function d(){this.symmetricState=r(l.STATELEN),this.initiator=null,this.spk=null,this.ssk=null,this.epk=null,this.esk=null,this.rs=null,this.re=null,this.messagePatterns=null}t.exports=Object.freeze({initialize:function(t,e,n,r,i,o,c){s(Object.keys(_).includes(t),"Unsupported handshake pattern"),s("boolean"==typeof e,"Initiator must be a boolean"),s(null!=n.byteLength,"prolouge must be a Buffer"),s(null==i||i.publicKey.byteLength===h.PKLEN,`e.publicKey must be ${h.PKLEN} bytes`),s(null==i||i.secretKey.byteLength===h.SKLEN,`e.secretKey must be ${h.SKLEN} bytes`),s(null==o||o.byteLength===h.PKLEN,`rs must be ${h.PKLEN} bytes`),s(null==c||c.byteLength===h.PKLEN,`re must be ${h.PKLEN} bytes`);var u=new d,f=Uint8Array.from(`Noise_${t}_25519_ChaChaPoly_BLAKE2b`,x);l.initializeSymmetric(u.symmetricState,f),l.mixHash(u.symmetricState,n),u.role=!0===e?p:g,null!=r&&(s(r.publicKey.byteLength===h.PKLEN,`s.publicKey must be ${h.PKLEN} bytes`),s(r.secretKey.byteLength===h.SKLEN,`s.secretKey must be ${h.SKLEN} bytes`),u.spk=I(r.publicKey),u.ssk=I(r.secretKey)),null!=i&&(s(i.publicKey.byteLength===h.PKLEN),s(i.secretKey.byteLength===h.SKLEN),u.epk=I(i.publicKey),u.esk=I(i.secretKey)),null!=o&&(s(o.byteLength===h.PKLEN),u.rs=I(o)),null!=c&&(s(c.byteLength===h.PKLEN),u.re=I(c));var b=_[t];for(var v of a(b.premessages)){var A=v.shift();for(var w of v)switch(w){case m:s(u.role===A?null!=u.epk.byteLength:null!=u.re.byteLength),l.mixHash(u.symmetricState,u.role===A?u.epk:u.re);break;case y:s(u.role===A?null!=u.spk.byteLength:null!=u.rs.byteLength),l.mixHash(u.symmetricState,u.role===A?u.spk:u.rs);break;default:throw new Error("Invalid premessage pattern")}}return u.messagePatterns=a(b.messagePatterns),s(!u.messagePatterns.filter((t=>t[0]===p)).some((t=>t.includes(y)))||null!==u.spk&&null!==u.ssk,"This handshake pattern requires a static keypair"),u},writeMessage:C,readMessage:S,destroy:function(t){null!=t.symmetricState&&(o(t.symmetricState),t.symmetricState=null),t.role=null,null!=t.spk&&(o(t.spk),t.spk=null),null!=t.ssk&&(o(t.ssk),t.ssk=null),null!=t.epk&&(o(t.epk),t.epk=null),null!=t.esk&&(o(t.esk),t.esk=null),null!=t.rs&&(o(t.rs),t.rs=null),null!=t.re&&(o(t.re),t.re=null),t.messagePatterns=null},keygen:function t(e,n){return e?e.publicKey?(h.generateKeypair(e.publicKey,e.secretKey),e):void(null!=e.byteLength&&h.generateKeypair(null,e)):t(e={publicKey:r(u),secretKey:r(f)})},seedKeygen:function(t){var e={publicKey:r(u),secretKey:r(f)};return h.generateSeedKeypair(e.publicKey,e.secretKey,t),e},SKLEN:f,PKLEN:u});const p=Symbol("initiator"),g=Symbol("responder"),y=Symbol("s"),m=Symbol("e"),b=Symbol("es"),v=Symbol("se"),A=Symbol("ee"),w=Symbol("es");var _=Object.freeze({N:{premessages:[[g,y]],messagePatterns:[[p,m,b]]},K:{premessages:[[p,y],[g,y]],messagePatterns:[[p,m,b,w]]},X:{premessages:[[g,y]],messagePatterns:[[p,m,b,y,w]]},NN:{premessages:[],messagePatterns:[[p,m],[g,m,A]]},KN:{premessages:[[p,y]],messagePatterns:[[p,m],[g,m,A,v]]},NK:{premessages:[[g,y]],messagePatterns:[[p,m,b],[g,m,A]]},KK:{premessages:[[p,y],[g,y]],messagePatterns:[[p,m,b,w],[g,m,A,v]]},NX:{premessages:[],messagePatterns:[[p,m],[g,m,A,y,b]]},KX:{premessages:[[p,y]],messagePatterns:[[p,m],[g,m,A,v,y,b]]},XN:{premessages:[],messagePatterns:[[p,m],[g,m,A],[p,y,v]]},IN:{premessages:[],messagePatterns:[[p,m,y],[g,m,A,v]]},XK:{premessages:[[g,y]],messagePatterns:[[p,m,b],[g,m,A],[p,y,v]]},IK:{premessages:[[g,y]],messagePatterns:[[p,m,b,y,w],[g,m,A,v]]},XX:{premessages:[],messagePatterns:[[p,m],[g,m,A,y,b],[p,y,v]]},IX:{premessages:[],messagePatterns:[[p,m,y],[g,m,A,v,y,b]]}});function I(t){var e=r(t.byteLength);return e.set(t),e}var E=r(h.DHLEN);function C(t,e,n){s(t instanceof d),s(null!=e.byteLength),s(null!=n.byteLength);var o=t.messagePatterns.shift(),a=0;for(var u of(s(null!=o),s(t.role===o.shift()),o))switch(u){case m:s(null==t.epk),s(null==t.esk),t.epk=r(h.PKLEN),t.esk=r(h.SKLEN),h.generateKeypair(t.epk,t.esk),n.set(t.epk,a),a+=t.epk.byteLength,l.mixHash(t.symmetricState,t.epk);break;case y:s(t.spk.byteLength===h.PKLEN),l.encryptAndHash(t.symmetricState,n.subarray(a),t.spk),a+=l.encryptAndHash.bytesWritten;break;case A:h.dh(E,t.esk,t.re),l.mixKey(t.symmetricState,E),i(E);break;case b:t.role===p?h.dh(E,t.esk,t.rs):h.dh(E,t.ssk,t.re),l.mixKey(t.symmetricState,E),i(E);break;case v:t.role===p?h.dh(E,t.ssk,t.re):h.dh(E,t.esk,t.rs),l.mixKey(t.symmetricState,E),i(E);break;case w:h.dh(E,t.ssk,t.rs),l.mixKey(t.symmetricState,E),i(E);break;default:throw new Error("Invalid message pattern")}if(l.encryptAndHash(t.symmetricState,n.subarray(a),e),a+=l.encryptAndHash.bytesWritten,C.bytes=a,0===t.messagePatterns.length){var f=r(c.STATELEN),g=r(c.STATELEN);return l.split(t.symmetricState,f,g),{tx:f,rx:g}}}function S(t,e,n){s(t instanceof d),s(null!=e.byteLength),s(null!=n.byteLength);var o=t.messagePatterns.shift(),a=0;for(var u of(s(null!=o),s(o.shift()!==t.role),o))switch(u){case m:s(null==t.re),s(e.byteLength-a>=h.PKLEN),t.re=r(h.PKLEN),t.re.set(e.subarray(a,a+h.PKLEN)),a+=h.PKLEN,l.mixHash(t.symmetricState,t.re);break;case y:s(null==t.rs),t.rs=r(h.PKLEN);var f;f=l._hasKey(t.symmetricState)?h.PKLEN+16:h.PKLEN,s(e.byteLength-a>=f),l.decryptAndHash(t.symmetricState,t.rs,e.subarray(a,a+f)),a+=l.decryptAndHash.bytesRead;break;case A:h.dh(E,t.esk,t.re),l.mixKey(t.symmetricState,E),i(E);break;case b:t.role===p?h.dh(E,t.esk,t.rs):h.dh(E,t.ssk,t.re),l.mixKey(t.symmetricState,E),i(E);break;case v:t.role===p?h.dh(E,t.ssk,t.re):h.dh(E,t.esk,t.rs),l.mixKey(t.symmetricState,E),i(E);break;case w:h.dh(E,t.ssk,t.rs),l.mixKey(t.symmetricState,E),i(E);break;default:throw new Error("Invalid message pattern")}if(l.decryptAndHash(t.symmetricState,n,e.subarray(a)),S.bytes=l.decryptAndHash.bytesWritten,0===t.messagePatterns.length){var g=r(c.STATELEN),_=r(c.STATELEN);return l.split(t.symmetricState,_,g),{tx:g,rx:_}}}function x(t){return t.charCodeAt(0)}C.bytes=0,S.bytes=0},6090:(t,e,n)=>{const{sodium_malloc:r,sodium_memzero:i}=n(8542),{crypto_generichash_batch:o}=n(168),s=n(9204),a=n(825),l=n(1974),c=64;function h(t,e,n){return a(t,n,e)}s(128===a.KEYBYTES,"mismatching hmac BLOCKLEN"),s(a.BYTES===c,"mismatching hmac HASHLEN"),t.exports={HASHLEN:c,BLOCKLEN:128,hash:function(t,e){s(t.byteLength===c),s(Array.isArray(e)),o(t,e)},hkdf:function(t,e,n,r,o){s(t.byteLength===c),s(e.byteLength===c),s(null==n||n.byteLength===c),s(r.byteLength===c),s([0,32,l.DHLEN,l.PKLEN].includes(o.byteLength)),i(u),h(u,r,[o]),h(t,u,[f]),h(e,u,[t,d]),null!=n&&h(n,u,[e,p]),i(u)}};const u=r(c),f=new Uint8Array([1]),d=new Uint8Array([2]),p=new Uint8Array([3])},6265:(t,e,n)=>{t.exports=n(6575)},454:(t,e,n)=>{const{sodium_malloc:r,sodium_memzero:i}=n(8542);var o=n(9204),s=n(6555),a=n(6090),l=a.HASHLEN+a.HASHLEN+s.STATELEN,c=a.HASHLEN;t.exports={STATELEN:l,initializeSymmetric:function(t,e){o(t.byteLength===l),o(null!=e.byteLength),i(t),e.byteLength<=c?t.set(e,u):a.hash(t.subarray(u,f),[e]),t.subarray(0,h).set(t.subarray(u,f)),s.initializeKey(t.subarray(d,p),null)},mixKey:function(t,e){o(t.byteLength===l),o(null!=e.byteLength),a.hkdf(t.subarray(0,h),g,null,t.subarray(0,h),e),s.initializeKey(t.subarray(d,p),g.subarray(0,32)),i(g)},mixHash:y,mixKeyAndHash:function(t,e){o(t.byteLength===l),o(null!=e.byteLength),a.hkdf(t.subarray(0,h),m,g,t.subarray(0,h),e),y(t,m),i(m),s.initializeKey(t.subarray(d,p),g.subarray(0,32)),i(g)},getHandshakeHash:function(t,e){o(t.byteLength===l),o(e.byteLength===c),e.set(t.subarray(u,f))},encryptAndHash:b,decryptAndHash:v,split:function(t,e,n){o(t.byteLength===l),o(e.byteLength===s.STATELEN),o(n.byteLength===s.STATELEN),a.hkdf(A,w,null,t.subarray(0,h),_),s.initializeKey(e,A.subarray(0,32)),s.initializeKey(n,w.subarray(0,32)),i(A),i(w)},_hasKey:function(t){return s.hasKey(t.subarray(d,p))}};var h=a.HASHLEN,u=h,f=u+a.HASHLEN,d=f,p=d+s.STATELEN,g=r(c);function y(t,e){o(t.byteLength===l);var n=t.subarray(u,f);a.hash(n,[n,e])}var m=r(c);function b(t,e,n){o(t.byteLength===l),o(null!=e.byteLength),o(null!=n.byteLength);var r=t.subarray(d,p),i=t.subarray(u,f);s.encryptWithAd(r,e,i,n),b.bytesRead=s.encryptWithAd.bytesRead,b.bytesWritten=s.encryptWithAd.bytesWritten,y(t,e.subarray(0,b.bytesWritten))}function v(t,e,n){o(t.byteLength===l),o(null!=e.byteLength),o(null!=n.byteLength);var r=t.subarray(d,p),i=t.subarray(u,f);s.decryptWithAd(r,e,i,n),v.bytesRead=s.decryptWithAd.bytesRead,v.bytesWritten=s.decryptWithAd.bytesWritten,y(t,n.subarray(0,v.bytesRead))}b.bytesRead=0,b.bytesWritten=0,v.bytesRead=0,v.bytesWritten=0;var A=r(c),w=r(c),_=new Uint8Array(0)},4244:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},609:(t,e,n)=>{"use strict";var r=n(4289),i=n(5559),o=n(4244),s=n(5624),a=n(2281),l=i(s(),Object);r(l,{getPolyfill:s,implementation:o,shim:a}),t.exports=l},5624:(t,e,n)=>{"use strict";var r=n(4244);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},2281:(t,e,n)=>{"use strict";var r=n(5624),i=n(4289);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},8987:(t,e,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(1414),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{u(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),r=s(t),a=e&&"[object String]"===o.call(t),f=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=c&&n;if(a&&t.length>0&&!i.call(t,0))for(var g=0;g<t.length;++g)f.push(String(g));if(r&&t.length>0)for(var y=0;y<t.length;++y)f.push(String(y));else for(var m in t)p&&"prototype"===m||!i.call(t,m)||f.push(String(m));if(l)for(var b=function(t){if("undefined"==typeof window||!d)return u(t);try{return u(t)}catch(t){return!1}}(t),v=0;v<h.length;++v)b&&"constructor"===h[v]||!i.call(t,h[v])||f.push(h[v]);return f}}t.exports=r},2215:(t,e,n)=>{"use strict";var r=Array.prototype.slice,i=n(1414),o=Object.keys,s=o?function(t){return o(t)}:n(8987),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?a(r.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},1414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},778:(t,e,n)=>{var r=n(2479);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}t.exports=r(i),t.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},1725:t=>{"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},2974:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},8059:(t,e,n)=>{var r=n(4155),i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),l=r[n];n<o;l=r[++n])g(l)||!A(l)?s+=" "+l:s+=" "+a(l);return s},e.deprecate=function(t,i){if(b(n.g.process))return function(){return e.deprecate(t,i).apply(this,arguments)};if(!0===r.noDeprecation)return t;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return t.apply(this,arguments)}};var o,s={};function a(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),h(r,t,r.depth)}function l(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function c(t,e){return t}function h(t,n,r){if(t.customInspect&&n&&I(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return m(i)||(i=h(t,i,r)),i}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),_(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(I(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(_(n))return u(n)}var c,A="",E=!1,C=["{","}"];return d(n)&&(E=!0,C=["[","]"]),I(n)&&(A=" [Function"+(n.name?": "+n.name:"")+"]"),v(n)&&(A=" "+RegExp.prototype.toString.call(n)),w(n)&&(A=" "+Date.prototype.toUTCString.call(n)),_(n)&&(A=" "+u(n)),0!==s.length||E&&0!=n.length?r<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=E?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)k(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))})),o}(t,n,r,a,s):s.map((function(e){return f(t,n,r,a,e,E)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(c,A,C)):C[0]+A+C[1]}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),k(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(a=g(n)?h(t,l.value,null):h(t,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function b(t){return void 0===t}function v(t){return A(t)&&"[object RegExp]"===E(t)}function A(t){return"object"==typeof t&&null!==t}function w(t){return A(t)&&"[object Date]"===E(t)}function _(t){return A(t)&&("[object Error]"===E(t)||t instanceof Error)}function I(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(b(o)&&(o=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=r.pid;s[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=v,e.isObject=A,e.isDate=w,e.isError=_,e.isFunction=I,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(2974);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),S[t.getMonth()],e].join(" ")}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",x(),e.format.apply(e,arguments))},e.inherits=n(1725),e._extend=function(t,e){if(!e||!A(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}},2520:(t,e,n)=>{"use strict";var r=n(4155),i="win32"===r.platform,o=n(8059);function s(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(i))}return n}function a(t){for(var e=t.length-1,n=0;n<=e&&!t[n];n++);for(var r=e;r>=0&&!t[r];r--);return 0===n&&r===e?t:n>r?[]:t.slice(n,r+1)}var l=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,c=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,h={};function u(t){var e=l.exec(t),n=(e[1]||"")+(e[2]||""),r=e[3]||"",i=c.exec(r);return[n,i[1],i[2],i[3]]}function f(t){var e=l.exec(t),n=e[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!e[2],tail:e[3]}}function d(t){return"\\\\"+t.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}h.resolve=function(){for(var t="",e="",n=!1,i=arguments.length-1;i>=-1;i--){var a;if(i>=0?a=arguments[i]:t?(a=r.env["="+t])&&a.substr(0,3).toLowerCase()===t.toLowerCase()+"\\"||(a=t+"\\"):a=r.cwd(),!o.isString(a))throw new TypeError("Arguments to path.resolve must be strings");if(a){var l=f(a),c=l.device,h=l.isUnc,u=l.isAbsolute,p=l.tail;if((!c||!t||c.toLowerCase()===t.toLowerCase())&&(t||(t=c),n||(e=p+"\\"+e,n=u),t&&n))break}}return h&&(t=d(t)),t+(n?"\\":"")+(e=s(e.split(/[\\\/]+/),!n).join("\\"))||"."},h.normalize=function(t){var e=f(t),n=e.device,r=e.isUnc,i=e.isAbsolute,o=e.tail,a=/[\\\/]$/.test(o);return(o=s(o.split(/[\\\/]+/),!i).join("\\"))||i||(o="."),o&&a&&(o+="\\"),r&&(n=d(n)),n+(i?"\\":"")+o},h.isAbsolute=function(t){return f(t).isAbsolute},h.join=function(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(!o.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&t.push(n)}var r=t.join("\\");return/^[\\\/]{2}[^\\\/]/.test(t[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),h.normalize(r)},h.relative=function(t,e){t=h.resolve(t),e=h.resolve(e);for(var n=t.toLowerCase(),r=e.toLowerCase(),i=a(e.split("\\")),o=a(n.split("\\")),s=a(r.split("\\")),l=Math.min(o.length,s.length),c=l,u=0;u<l;u++)if(o[u]!==s[u]){c=u;break}if(0==c)return e;var f=[];for(u=c;u<o.length;u++)f.push("..");return(f=f.concat(i.slice(c))).join("\\")},h._makeLong=function(t){if(!o.isString(t))return t;if(!t)return"";var e=h.resolve(t);return/^[a-zA-Z]\:\\/.test(e)?"\\\\?\\"+e:/^\\\\[^?.]/.test(e)?"\\\\?\\UNC\\"+e.substring(2):t},h.dirname=function(t){var e=u(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},h.basename=function(t,e){var n=u(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},h.extname=function(t){return u(t)[3]},h.format=function(t){if(!o.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!o.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var n=t.dir,r=t.base||"";return n?n[n.length-1]===h.sep?n+r:n+h.sep+r:r},h.parse=function(t){if(!o.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=u(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},h.sep="\\",h.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,g={};function y(t){return p.exec(t).slice(1)}g.resolve=function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var i=n>=0?arguments[n]:r.cwd();if(!o.isString(i))throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,e="/"===i[0])}return(e?"/":"")+(t=s(t.split("/"),!e).join("/"))||"."},g.normalize=function(t){var e=g.isAbsolute(t),n=t&&"/"===t[t.length-1];return(t=s(t.split("/"),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},g.isAbsolute=function(t){return"/"===t.charAt(0)},g.join=function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(!o.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(t+=t?"/"+n:n)}return g.normalize(t)},g.relative=function(t,e){t=g.resolve(t).substr(1),e=g.resolve(e).substr(1);for(var n=a(t.split("/")),r=a(e.split("/")),i=Math.min(n.length,r.length),o=i,s=0;s<i;s++)if(n[s]!==r[s]){o=s;break}var l=[];for(s=o;s<n.length;s++)l.push("..");return(l=l.concat(r.slice(o))).join("/")},g._makeLong=function(t){return t},g.dirname=function(t){var e=y(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},g.basename=function(t,e){var n=y(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},g.extname=function(t){return y(t)[3]},g.format=function(t){if(!o.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!o.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);return(t.dir?t.dir+g.sep:"")+(t.base||"")},g.parse=function(t){if(!o.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=y(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},g.sep="/",g.delimiter=":",t.exports=i?h:g,t.exports.posix=g,t.exports.win32=h},4913:(t,e,n)=>{var r=n(8764).Buffer;t.exports=function(t){return r.isBuffer(t)&&(t=t.toString("hex")),"string"==typeof t&&t.length>8?t.slice(0,6)+".."+t.slice(-2):t}},8212:(t,e,n)=>{"use strict";var r=n(4155);void 0===r||!r.version||0===r.version.indexOf("v0.")||0===r.version.indexOf("v1.")&&0!==r.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return r.nextTick(t);case 2:return r.nextTick((function(){t.call(null,e)}));case 3:return r.nextTick((function(){t.call(null,e,n)}));case 4:return r.nextTick((function(){t.call(null,e,n,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return r.nextTick((function(){t.apply(null,o)}))}}}:t.exports=r},4155:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,l=[],c=!1,h=-1;function u(){c&&a&&(c=!1,a.length?l=a.concat(l):h=-1,l.length&&f())}function f(){if(!c){var t=s(u);c=!0;for(var e=l.length;e;){for(a=l,l=[];++h<e;)a&&a[h].run();h=-1,e=l.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},5661:(t,e,n)=>{var r=n(8764).Buffer,i=n(6511),o=n(1842);function s(t,e,n,r){return e.bytes=n.bytes=0,{type:t,encode:e,decode:n,encodingLength:r}}function a(t){return r.isBuffer(t)?t.length:r.byteLength(t)}e.make=s,e.name=function(t){for(var n=Object.keys(e),r=0;r<n.length;r++)if(e[n[r]]===t)return n[r];return null},e.skip=function(t,e,n){switch(t){case 0:return i.decode(e,n),n+i.decode.bytes;case 1:return n+8;case 2:var r=i.decode(e,n);return n+i.decode.bytes+r;case 3:case 4:throw new Error("Groups are not supported");case 5:return n+4}throw new Error("Unknown wire type: "+t)},e.bytes=s(2,(function t(e,n,o){var s=o,l=a(e);return i.encode(l,n,o),o+=i.encode.bytes,r.isBuffer(e)?e.copy(n,o):n.write(e,o,l),t.bytes=(o+=l)-s,n}),(function t(e,n){var r=n,o=i.decode(e,n);n+=i.decode.bytes;var s=e.slice(n,n+o);return n+=s.length,t.bytes=n-r,s}),(function(t){var e=a(t);return i.encodingLength(e)+e})),e.string=s(2,(function t(e,n,o){var s=o,a=r.byteLength(e);return i.encode(a,n,o,"utf-8"),o+=i.encode.bytes,n.write(e,o,a),t.bytes=(o+=a)-s,n}),(function t(e,n){var r=n,o=i.decode(e,n);n+=i.decode.bytes;var s=e.toString("utf-8",n,n+o);return t.bytes=(n+=o)-r,s}),(function(t){var e=r.byteLength(t);return i.encodingLength(e)+e})),e.bool=s(0,(function t(e,n,r){return n[r]=e?1:0,t.bytes=1,n}),(function t(e,n){var r=e[n]>0;return t.bytes=1,r}),(function(){return 1})),e.int32=s(0,(function t(e,n,r){return i.encode(e<0?e+4294967296:e,n,r),t.bytes=i.encode.bytes,n}),(function t(e,n){var r=i.decode(e,n);return t.bytes=i.decode.bytes,r>2147483647?r-4294967296:r}),(function(t){return i.encodingLength(t<0?t+4294967296:t)})),e.int64=s(0,(function t(e,n,r){if(e<0){var o=r+9;for(i.encode(-1*e,n,r),n[r+=i.encode.bytes-1]=128|n[r];r<o-1;)n[++r]=255;n[o]=1,t.bytes=10}else i.encode(e,n,r),t.bytes=i.encode.bytes;return n}),(function t(e,n){var o=i.decode(e,n);if(o>=Math.pow(2,63)){for(var s=9;255===e[n+s-1];)s--;s=s||9;var a=r.allocUnsafe(s);e.copy(a,0,n,n+s),a[s-1]=127&a[s-1],o=-1*i.decode(a,0),t.bytes=10}else t.bytes=i.decode.bytes;return o}),(function(t){return t<0?10:i.encodingLength(t)})),e.sint32=e.sint64=s(0,o.encode,o.decode,o.encodingLength),e.uint32=e.uint64=e.enum=e.varint=s(0,i.encode,i.decode,i.encodingLength),e.fixed64=e.sfixed64=s(1,(function t(e,n,r){return e.copy(n,r),t.bytes=8,n}),(function t(e,n){var r=e.slice(n,n+8);return t.bytes=8,r}),(function(){return 8})),e.double=s(1,(function t(e,n,r){return n.writeDoubleLE(e,r),t.bytes=8,n}),(function t(e,n){var r=e.readDoubleLE(n);return t.bytes=8,r}),(function(){return 8})),e.fixed32=s(5,(function t(e,n,r){return n.writeUInt32LE(e,r),t.bytes=4,n}),(function t(e,n){var r=e.readUInt32LE(n);return t.bytes=4,r}),(function(){return 4})),e.sfixed32=s(5,(function t(e,n,r){return n.writeInt32LE(e,r),t.bytes=4,n}),(function t(e,n){var r=e.readInt32LE(n);return t.bytes=4,r}),(function(){return 4})),e.float=s(5,(function t(e,n,r){return n.writeFloatLE(e,r),t.bytes=4,n}),(function t(e,n){var r=e.readFloatLE(n);return t.bytes=4,r}),(function(){return 4}))},1923:t=>{t.exports=function t(e,n){var r,i=0,o=0,s=n=n||0,a=e.length;do{if(s>=a)throw t.bytes=0,new RangeError("Could not decode varint");r=e[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return t.bytes=s-n,i}},9390:t=>{t.exports=function t(n,r,i){r=r||[];for(var o=i=i||0;n>=e;)r[i++]=255&n|128,n/=128;for(;-128&n;)r[i++]=255&n|128,n>>>=7;return r[i]=0|n,t.bytes=i-o+1,r};var e=Math.pow(2,31)},6511:(t,e,n)=>{t.exports={encode:n(9390),decode:n(1923),encodingLength:n(8802)}},8802:t=>{var e=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),l=Math.pow(2,56),c=Math.pow(2,63);t.exports=function(t){return t<e?1:t<n?2:t<r?3:t<i?4:t<o?5:t<s?6:t<a?7:t<l?8:t<c?9:10}},4286:(t,e,n)=>{var r=n(4155),i=n(778),o=n(2840),s=n(1156),a=function(){},l=/^v?\.0/.test(r.version),c=function(t){return"function"==typeof t},h=function(t,e,n,r){r=i(r);var h=!1;t.on("close",(function(){h=!0})),o(t,{readable:e,writable:n},(function(t){if(t)return r(t);h=!0,r()}));var u=!1;return function(e){if(!h&&!u)return u=!0,function(t){return!!l&&!!s&&(t instanceof(s.ReadStream||a)||t instanceof(s.WriteStream||a))&&c(t.close)}(t)?t.close(a):function(t){return t.setHeader&&c(t.abort)}(t)?t.abort():c(t.destroy)?t.destroy():void r(e||new Error("stream was destroyed"))}},u=function(t){t()},f=function(t,e){return t.pipe(e)};t.exports=function(){var t,e=Array.prototype.slice.call(arguments),n=c(e[e.length-1]||a)&&e.pop()||a;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r=e.map((function(i,o){var s=o<e.length-1;return h(i,s,o>0,(function(e){t||(t=e),e&&r.forEach(u),s||(r.forEach(u),n(t))}))}));return e.reduce(f)}},9665:(t,e,n)=>{let r;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n.g):t=>(r||(r=Promise.resolve())).then(t).catch((t=>setTimeout((()=>{throw t}),0)))},3527:t=>{t.exports="function"==typeof queueMicrotask?queueMicrotask:t=>Promise.resolve().then(t)},3208:t=>{t.exports=function(){throw new Error("random-access-file is not supported in the browser")}},9997:(t,e,n)=>{var r=n(8764).Buffer,i=n(4155),o=n(9539).inherits,s=n(1739),a=n(6159),l=n(9369),c=n(2520),h=a.constants||n(5321),u=h.O_RDONLY,f=h.O_RDWR|h.O_CREAT;function d(t,e){if(!(this instanceof d))return new d(t,e);s.call(this),e||(e={}),e.directory&&(t=c.join(e.directory,c.resolve("/",t).replace(/^\w+:\\/,""))),this.directory=e.directory||null,this.filename=t,this.fd=0,(e.writable||e.truncate)&&(this.preferReadonly=!1),this._size=e.size||e.length||0,this._truncate=!!e.truncate||this._size>0,this._rmdir=!!e.rmdir,this._lock=e.lock||y,this._sparse=e.sparse||y,this._alloc=e.alloc||r.allocUnsafe}function p(t,e,n){function r(r,o){return r?n.callback(r):(t.fd=o,t._lock(t.fd)?t._sparse(t.fd)?t._truncate&&e!==u?void a.ftruncate(t.fd,t._size,i):n.callback(null):n.callback(function(t){var e=new Error("ENOTSPARSE: File could not be marked as sparse");return e.code="ENOTSPARSE",e.path=t,e}(t.filename)):n.callback(function(t){var e=new Error("ELOCKED: File is locked");return e.code="ELOCKED",e.path=t,e}(t.filename)))}function i(t){if(t)return o(t);n.callback(null)}function o(e){a.close(t.fd,(function(){t.fd=0,n.callback(e)}))}t.fd?a.close(t.fd,(function(n){if(n)return o(n);t.fd=0,a.open(t.filename,e,r)})):a.open(t.filename,e,r)}function g(t){t.callback(null,r.alloc(0))}function y(t){return!0}t.exports=d,o(d,s),d.prototype._open=function(t){var e=this;l(c.dirname(this.filename),(function(n){if(n)return t.callback(n);p(e,f,t)}))},d.prototype._openReadonly=function(t){p(this,u,t)},d.prototype._write=function(t){var e=t.data,n=this.fd;a.write(n,e,0,t.size,t.offset,(function r(i,o){return i?t.callback(i):(t.size-=o,t.offset+=o,t.size?void a.write(n,e,e.length-t.size,t.size,t.offset,r):t.callback(null))}))},d.prototype._read=function(t){var e=this,n=t.data||this._alloc(t.size),r=this.fd;if(!t.size)return i.nextTick(g,t);a.read(r,n,0,t.size,t.offset,(function i(o,s){return o?t.callback(o):s?(t.size-=s,t.offset+=s,t.size?void a.read(r,n,n.length-t.size,t.size,t.offset,i):t.callback(null,n)):t.callback(function(t,e,n){var r=new Error("Could not satisfy length");return r.code="EPARTIALREAD",r.path=t,r.offset=e,r.size=n,r}(e.filename,t.offset,t.size))}))},d.prototype._del=function(t){var e=this.fd;function n(e){t.callback(e)}a.fstat(e,(function(r,i){return r?t.callback(r):t.offset+t.size<i.size?t.callback(null):void a.ftruncate(e,t.offset,n)}))},d.prototype._stat=function(t){a.fstat(this.fd,(function(e,n){t.callback(e,n)}))},d.prototype._close=function(t){var e=this;a.close(this.fd,(function(n){if(n)return t.callback(n);e.fd=0,t.callback(null)}))},d.prototype._destroy=function(t){var e=this,n=this.directory&&c.resolve(c.join(this.directory,".")),r=c.resolve(c.dirname(this.filename));function i(e){if(r=c.join(r,".."),e||r===n)return t.callback(null);a.rmdir(r,i)}a.unlink(this.filename,(function(o){if(!e._rmdir||!n||r===n)return t.callback(o);a.rmdir(r,i)}))}},4954:(t,e,n)=>{var r=n(8764).Buffer;const i=n(1739),o=n(5721),s=n(5717);function a(t){if(!(this instanceof a))return new a(t);"number"==typeof t&&(t={length:t}),t||(t={}),i.call(this),r.isBuffer(t)&&(t={length:t.length,buffer:t}),o(t)||(t={}),this.length=t.length||0,this.pageSize=t.length||t.pageSize||1048576,this.buffers=[],t.buffer&&this.buffers.push(t.buffer)}t.exports=a,s(a,i),a.prototype._stat=function(t){t.callback(null,{size:this.length})},a.prototype._write=function(t){var e=Math.floor(t.offset/this.pageSize),n=t.offset-e*this.pageSize,r=0;const i=t.offset+t.size;for(i>this.length&&(this.length=i);r<t.size;){const i=this._page(e++,!0),o=this.pageSize-n,s=o<t.size-r?r+o:t.size;t.data.copy(i,n,r,s),r=s,n=0}t.callback(null,null)},a.prototype._read=function(t){var e=Math.floor(t.offset/this.pageSize),n=t.offset-e*this.pageSize,i=0;if(t.offset+t.size>this.length)return t.callback(new Error("Could not satisfy length"),null);const o=r.alloc(t.size);for(;i<t.size;){const r=this._page(e++,!1),s=this.pageSize-n,a=t.size-i,l=s<a?s:a;r&&r.copy(o,i,n,n+l),i+=l,n=0}t.callback(null,o)},a.prototype._del=function(t){var e=Math.floor(t.offset/this.pageSize),n=t.offset-e*this.pageSize,r=0;if(n&&t.offset+t.size>=this.length){var i=this.buffers[e];i&&i.fill(0,n)}for(t.offset+t.size>this.length&&(t.size=Math.max(0,this.length-t.offset));r<t.size;)0===n&&t.size-r>=this.pageSize&&(this.buffers[e++]=void 0),n=0,r+=this.pageSize-n;t.offset+t.size>=this.length&&(this.length=t.offset),t.callback(null,null)},a.prototype._destroy=function(t){this._buffers=[],this.length=0,t.callback(null,null)},a.prototype._page=function(t,e){var n=this.buffers[t];return n||!e?n:n=this.buffers[t]=r.alloc(this.pageSize)},a.prototype.toBuffer=function(){const t=r.alloc(this.length);for(var e=0;e<this.buffers.length;e++)this.buffers[e]&&this.buffers[e].copy(t,e*this.pageSize);return t}},1739:(t,e,n)=>{var r=n(7187),i=n(5717),o=n(3527),s=y(new Error("Not readable")),a=y(new Error("Not writable")),l=y(new Error("Not deletable")),c=y(new Error("Not statable")),h=y(new Error("No readonly open"));function u(t){if(!(this instanceof u))return new u(t);r.EventEmitter.call(this),this._queued=[],this._pending=0,this._needsOpen=!0,this.opened=!1,this.closed=!1,this.destroyed=!1,t&&(t.openReadonly&&(this._openReadonly=t.openReadonly),t.open&&(this._open=t.open),t.read&&(this._read=t.read),t.write&&(this._write=t.write),t.del&&(this._del=t.del),t.stat&&(this._stat=t.stat),t.close&&(this._close=t.close),t.destroy&&(this._destroy=t.destroy)),this.preferReadonly=this._openReadonly!==h,this.readable=this._read!==s,this.writable=this._write!==a,this.deletable=this._del!==l,this.statable=this._stat!==c}function f(){}function d(t,e,n,r,i,o){this.type=e,this.offset=n,this.data=i,this.size=r,this.storage=t,this._sync=!1,this._callback=o,this._openError=null}function p(t,e){t._queued.push(e),t._pending||e._run()}function g(t){t.preferReadonly&&(t._needsOpen=!0,t.preferReadonly=!1)}function y(t){return function(e){m(e,t)}}function m(t,e,n){o((()=>t.callback(e,n)))}t.exports=u,i(u,r.EventEmitter),u.prototype.read=function(t,e,n){this.run(new d(this,0,t,e,null,n))},u.prototype._read=s,u.prototype.write=function(t,e,n){n||(n=f),g(this),this.run(new d(this,1,t,e.length,e,n))},u.prototype._write=a,u.prototype.del=function(t,e,n){n||(n=f),g(this),this.run(new d(this,2,t,e,null,n))},u.prototype._del=l,u.prototype.stat=function(t){this.run(new d(this,3,0,0,null,t))},u.prototype._stat=c,u.prototype.open=function(t){if(t||(t=f),this.opened&&!this._needsOpen)return o((()=>t(null)));p(this,new d(this,4,0,0,null,t))},u.prototype._open=y(null),u.prototype._openReadonly=h,u.prototype.close=function(t){if(t||(t=f),this.closed)return o((()=>t(null)));p(this,new d(this,5,0,0,null,t))},u.prototype._close=y(null),u.prototype.destroy=function(t){t||(t=f),this.closed||this.close(f),p(this,new d(this,6,0,0,null,t))},u.prototype._destroy=y(null),u.prototype.run=function(t){this._needsOpen&&this.open(f),this._queued.length?this._queued.push(t):t._run()},d.prototype._maybeOpenError=function(t){if(4===this.type)for(var e=this.storage._queued,n=0;n<e.length;n++)e[n]._openError=t},d.prototype._unqueue=function(t){var e=this.storage,n=e._queued;if(t)this._maybeOpenError(t);else switch(this.type){case 4:e.opened||(e.opened=!0,e.emit("open"));break;case 5:e.closed||(e.closed=!0,e.emit("close"));break;case 6:e.destroyed||(e.destroyed=!0,e.emit("destroy"))}n.length&&n[0]===this&&n.shift(),--e._pending||function(t){for(var e=t._queued;e.length>0;){var n=e[0].type>3;if(n&&t._pending||e[0]._run(),n)return;e.shift()}}(e)},d.prototype.callback=function(t,e){if(this._sync)return m(this,t,e);this._unqueue(t),this._callback(t,e)},d.prototype._openAndNotClosed=function(){var t=this.storage;return!(!t.opened||t.closed)||(t.opened?t.closed&&m(this,new Error("Closed")):m(this,this._openError||new Error("Not opened")),!1)},d.prototype._open=function(){var t=this.storage;return t.opened&&!t._needsOpen?m(this,null):t.closed?m(this,new Error("Closed")):(t._needsOpen=!1,void(t.preferReadonly?t._openReadonly(this):t._open(this)))},d.prototype._run=function(){var t=this.storage;switch(t._pending++,this._sync=!0,this.type){case 0:this._openAndNotClosed()&&t._read(this);break;case 1:this._openAndNotClosed()&&t._write(this);break;case 2:this._openAndNotClosed()&&t._del(this);break;case 3:this._openAndNotClosed()&&t._stat(this);break;case 4:this._open();break;case 5:t.closed||!t.opened?m(this,null):t._close(this);break;case 6:t.destroyed?m(this,null):t._destroy(this)}this._sync=!1}},1798:(t,e,n)=>{"use strict";var r=n(4155),i=65536,o=n(9509).Buffer,s=n.g.crypto||n.g.msCrypto;s&&s.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var n=o.allocUnsafe(t);if(t>0)if(t>i)for(var a=0;a<t;a+=i)s.getRandomValues(n.slice(a,a+i));else s.getRandomValues(n);return"function"==typeof e?r.nextTick((function(){e(null,n)})):n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},4281:t=>{"use strict";var e={};function n(t,n,r){r||(r=Error);var i=function(t){var e,r;function i(e,r,i){return t.call(this,function(t,e,r){return"string"==typeof n?n:n(t,e,r)}(e,r,i))||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i}(r);i.prototype.name=r.name,i.prototype.code=t,e[t]=i}function r(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}n("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(t,e,n){var i,o,s,a,l;if("string"==typeof e&&(o="not ",e.substr(0,o.length)===o)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(r(e,"type"));else{var c=("number"!=typeof l&&(l=0),l+".".length>(a=t).length||-1===a.indexOf(".",l)?"argument":"property");s='The "'.concat(t,'" ').concat(c," ").concat(i," ").concat(r(e,"type"))}return s+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},6753:(t,e,n)=>{"use strict";var r=n(4155),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=n(9481),s=n(4229);n(5717)(h,o);for(var a=i(s.prototype),l=0;l<a.length;l++){var c=a[l];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(t){if(!(this instanceof h))return new h(t);o.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||r.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},2725:(t,e,n)=>{"use strict";t.exports=i;var r=n(4605);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(5717)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},9481:(t,e,n)=>{"use strict";var r,i=n(4155);t.exports=C,C.ReadableState=E,n(7187).EventEmitter;var o,s=function(t,e){return t.listeners(e).length},a=n(2503),l=n(8764).Buffer,c=n.g.Uint8Array||function(){},h=n(4616);o=h&&h.debuglog?h.debuglog("stream"):function(){};var u,f,d,p=n(7327),g=n(1195),y=n(2457).getHighWaterMark,m=n(4281).q,b=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,A=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5717)(C,a);var _=g.errorOrDestroy,I=["error","close","destroy","pause","resume"];function E(t,e,i){r=r||n(6753),t=t||{},"boolean"!=typeof i&&(i=e instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=y(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=n(2553).s),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function C(t){if(r=r||n(6753),!(this instanceof C))return new C(t);var e=this instanceof r;this._readableState=new E(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function S(t,e,n,r,i){o("readableAddChunk",e);var s,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(o("onEofChunk"),!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?L(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,O(t)))}}(t,a);else if(i||(s=function(t,e){var n,r;return r=e,l.isBuffer(r)||r instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],e)),n}(a,e)),s)_(t,s);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),r)a.endEmitted?_(t,new w):x(t,a,e,!0);else if(a.ended)_(t,new v);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?x(t,a,e,!1):T(t,a)):x(t,a,e,!1)}else r||(a.reading=!1,T(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function x(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&L(t)),T(t,e)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),C.prototype.destroy=g.destroy,C.prototype._undestroy=g.undestroy,C.prototype._destroy=function(t,e){e(t)},C.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=l.from(t,e),e=""),n=!0),S(this,t,e,!1,n)},C.prototype.unshift=function(t){return S(this,t,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){u||(u=n(2553).s);var e=new u(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var k=1073741824;function B(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=k?t=k:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function L(t){var e=t._readableState;o("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(O,t))}function O(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,U(t)}function T(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(R,t,e))}function R(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(o("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function M(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function N(t){o("readable nexttick read 0"),t.read(0)}function D(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),U(t),e.flowing&&!e.reading&&t.read(0)}function U(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function Q(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function j(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(F,e,t))}function F(t,e){if(o("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function P(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}C.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return o("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):L(this),null;if(0===(t=B(t,e))&&e.ended)return 0===e.length&&j(this),null;var r,i=e.needReadable;return o("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&o("length less than watermark",i=!0),e.ended||e.reading?o("reading or ended",i=!1):i&&(o("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=B(n,e))),null===(r=t>0?Q(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&j(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(t){_(this,new A("_read()"))},C.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,o("pipe count=%d opts=%j",r.pipesCount,e);var a=e&&!1===e.end||t===i.stdout||t===i.stderr?g:l;function l(){o("onend"),t.end()}r.endEmitted?i.nextTick(a):n.once("end",a),t.on("unpipe",(function e(i,s){o("onunpipe"),i===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",c),t.removeListener("error",f),t.removeListener("unpipe",e),n.removeListener("end",l),n.removeListener("end",g),n.removeListener("data",u),h=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}));var c=function(t){return function(){var e=t._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,U(t))}}(n);t.on("drain",c);var h=!1;function u(e){o("ondata");var i=t.write(e);o("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==P(r.pipes,t))&&!h&&(o("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(e){o("onerror",e),g(),t.removeListener("error",f),0===s(t,"error")&&_(t,e)}function d(){t.removeListener("finish",p),g()}function p(){o("onfinish"),t.removeListener("close",d),g()}function g(){o("unpipe"),n.unpipe(t)}return n.on("data",u),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on(e,n)}(t,"error",f),t.once("close",d),t.once("finish",p),t.emit("pipe",n),r.flowing||(o("pipe resume"),n.resume()),t},C.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=P(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},C.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e),r=this._readableState;return"data"===t?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===t&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,o("on readable",r.length,r.reading),r.length?L(this):r.reading||i.nextTick(N,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(t,e){var n=a.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(M,this),n},C.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(M,this),e},C.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(D,t,e))}(this,t)),t.paused=!1,this},C.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<I.length;s++)t.on(I[s],this.emit.bind(this,I[s]));return this._read=function(e){o("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(5850)),f(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),C._fromList=Q,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,e){return void 0===d&&(d=n(5167)),d(C,t,e)})},4605:(t,e,n)=>{"use strict";t.exports=h;var r=n(4281).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,l=n(6753);function c(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function h(t){if(!(this instanceof h))return new h(t);l.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",u)}function u(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,n){f(t,e,n)}))}function f(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}n(5717)(h,l),h.prototype.push=function(t,e){return this._transformState.needTransform=!1,l.prototype.push.call(this,t,e)},h.prototype._transform=function(t,e,n){n(new i("_transform()"))},h.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},h.prototype._destroy=function(t,e){l.prototype._destroy.call(this,t,(function(t){e(t)}))}},4229:(t,e,n)=>{"use strict";var r,i=n(4155);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(undefined),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=C,C.WritableState=E;var s,a={deprecate:n(4927)},l=n(2503),c=n(8764).Buffer,h=n.g.Uint8Array||function(){},u=n(1195),f=n(2457).getHighWaterMark,d=n(4281).q,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,v=d.ERR_STREAM_NULL_VALUES,A=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,_=u.errorOrDestroy;function I(){}function E(t,e,s){r=r||n(6753),t=t||{},"boolean"!=typeof s&&(s=e instanceof r),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if("function"!=typeof o)throw new y;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(O,t,e),t._writableState.errorEmitted=!0,_(t,r)):(o(r),t._writableState.errorEmitted=!0,_(t,r),O(t,e))}(t,n,r,e,o);else{var s=B(n)||t.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||k(t,n),r?i.nextTick(x,t,n,s,o):x(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function C(t){var e=this instanceof(r=r||n(6753));if(!e&&!s.call(C,this))return new C(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function S(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new b("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function x(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),O(t,e)}function k(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)i[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;i.allBuffers=l,S(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,u=n.callback;if(S(t,e,!1,e.objectMode?1:c.length,c,h,u),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function B(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function L(t,e){t._final((function(n){e.pendingcb--,n&&_(t,n),e.prefinished=!0,t.emit("prefinish"),O(t,e)}))}function O(t,e){var n=B(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,i.nextTick(L,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return n}n(5717)(C,l),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===C&&t&&t._writableState instanceof E}})):s=function(t){return t instanceof this},C.prototype.pipe=function(){_(this,new m)},C.prototype.write=function(t,e,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=t,c.isBuffer(r)||r instanceof h);return a&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=I),o.ending?function(t,e){var n=new A;_(t,n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var o;return null===n?o=new v:"string"==typeof n||e.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(_(t,o),i.nextTick(r,o),!1)}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,a,r,i,o);return l}(this,o,a,t,e,n)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||k(this,t))},C.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(t,e,n){n(new g("_write()"))},C.prototype._writev=null,C.prototype.end=function(t,e,n){var r=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,O(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),C.prototype.destroy=u.destroy,C.prototype._undestroy=u.undestroy,C.prototype._destroy=function(t,e){e(t)}},5850:(t,e,n)=>{"use strict";var r,i=n(4155);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n(8610),a=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),h=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(t,e){return{value:t,done:e}}function g(t){var e=t[a];if(null!==e){var n=t[d].read();null!==n&&(t[u]=null,t[a]=null,t[l]=null,e(p(n,!1)))}}function y(t){i.nextTick(g,t)}var m=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((o(r={get stream(){return this[d]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[h])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(e,n){i.nextTick((function(){t[c]?n(t[c]):e(p(void 0,!0))}))}));var n,r=this[u];if(r)n=new Promise(function(t,e){return function(n,r){t.then((function(){e[h]?n(p(void 0,!0)):e[f](n,r)}),r)}}(r,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[f])}return this[u]=n,n}},Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var t=this;return new Promise((function(e,n){t[d].destroy(null,(function(t){t?n(t):e(p(void 0,!0))}))}))})),r),m);t.exports=function(t){var e,n=Object.create(b,(o(e={},d,{value:t,writable:!0}),o(e,a,{value:null,writable:!0}),o(e,l,{value:null,writable:!0}),o(e,c,{value:null,writable:!0}),o(e,h,{value:t._readableState.endEmitted,writable:!0}),o(e,f,{value:function(t,e){var r=n[d].read();r?(n[u]=null,n[a]=null,n[l]=null,t(p(r,!1))):(n[a]=t,n[l]=e)},writable:!0}),e));return n[u]=null,s(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[l];return null!==e&&(n[u]=null,n[a]=null,n[l]=null,e(t)),void(n[c]=t)}var r=n[a];null!==r&&(n[u]=null,n[a]=null,n[l]=null,r(p(void 0,!0))),n[h]=!0})),t.on("readable",y.bind(null,n)),n}},7327:(t,e,n)=>{"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=n(8764).Buffer,a=n(2361).inspect,l=a&&a.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n;return e=t,n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,n,r,i=s.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,n=i,r=a,s.prototype.copy.call(e,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0==(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:l,value:function(t,e){return a(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}],n&&o(e.prototype,n),t}()},1195:(t,e,n)=>{"use strict";var r=n(4155);function i(t,e){s(t,e),o(t)}function o(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function s(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,t)):r.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?n._writableState?n._writableState.errorEmitted?r.nextTick(o,n):(n._writableState.errorEmitted=!0,r.nextTick(i,n,t)):r.nextTick(i,n,t):e?(r.nextTick(o,n),e(t)):r.nextTick(o,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}},8610:(t,e,n)=>{"use strict";var r=n(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"==typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&e.readable,a=n.writable||!1!==n.writable&&e.writable,l=function(){e.writable||h()},c=e._writableState&&e._writableState.finished,h=function(){a=!1,c=!0,s||o.call(e)},u=e._readableState&&e._readableState.endEmitted,f=function(){s=!1,u=!0,a||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return s&&!u?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):a&&!c?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},g=function(){e.req.on("finish",h)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",h),e.on("abort",p),e.req?g():e.on("request",g)):a&&!e._writableState&&(e.on("end",l),e.on("close",l)),e.on("end",f),e.on("finish",h),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",h),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",h),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",h),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},5167:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(t,e,n)=>{"use strict";var r,i=n(4281).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function l(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===r&&(r=n(8610)),r(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var l=!1;return function(e){if(!a&&!l)return l=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function c(t){t()}function h(t,e){return t.pipe(e)}function u(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=u(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var s=e.map((function(t,n){var o=n<e.length-1;return l(t,o,n>0,(function(t){r||(r=t),t&&s.forEach(c),o||(s.forEach(c),i(r))}))}));return e.reduce(h)}},2457:(t,e,n)=>{"use strict";var r=n(4281).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},2503:(t,e,n)=>{t.exports=n(7187).EventEmitter},8473:(t,e,n)=>{(e=t.exports=n(9481)).Stream=e,e.Readable=e,e.Writable=n(4229),e.Duplex=n(6753),e.Transform=n(4605),e.PassThrough=n(2725),e.finished=n(8610),e.pipeline=n(9946)},4630:(t,e,n)=>{const r=n(6486),i=n(9282),{TextOperation:o}=n(1645);t.exports={FirepadTreeMerge:class{constructor(){this.operations=[],this.applied=new Map,this.residues=new Map,this.ownIds=new Set}static from(t){var e=new this;for(let[n,r]of t.entries())e.insert(n,r);return e}newOperation(t,e){var n=this.operations.slice(-1)[0];return{id:e,v:[{o:t,p:n&&[n.id,n.v.length-1]}]}}push(t){this.operations.push(t),this.applied.set(t.id,t.v[0].o),this.ownIds.add(t.id)}insert(t,e){let n=e.v.slice(-1)[0],[r,i]=this.preadjust(t,n),o=this.postadjust(t,i);return this.operations.splice(t,0,e),this.applied.set(e.id,i),this.residues.set(e.id,r),o}recompose(){return 0===this.operations.length?new o:this._op(this.seq.reduce(((t,e)=>this._compose(t,e))))}getText(){if(0===this.operations.length)return"";var t=this.recompose();return i.strictEqual(t.ops.length,1),i.strictEqual(t.ops[0].type,"insert"),t.ops[0].text}preadjust(t,e){var n,r=e.o,o=-1;if(e.p){let[t,s]=e.p;o=this.operations.findIndex((e=>e.id===t)),i(o>=0,"parent operation is missing");let a=this.operations[o];i(a.v.length>s,"parent operation is too new");for(let t of a.v.slice(s+1))r=this._xform(t.r,r)[1];(n=this.residues.get(t))&&([n,r]=this._xform(n,r))}for(let e of this.operations.slice(o+1,t)){let t=this._xform(this.applied.get(e.id),r);n=this._compose(n,t[0]),r=t[1]}return[n,r]}postadjust(t,e){var n=e;for(let e of this.operations.slice(t)){let t=this._xform(n,this.applied.get(e.id));this.residues.set(e.id,this._compose(this.residues.get(e.id),t[0])),this.applied.set(e.id,t[1]),n=t[0]}return n}rebase(t=this.ownIds){var e=void 0,n=[];for(let[i,o]of this.operations.entries()){if(t.has(o.id)){let t=this.residues.get(o.id);if(t){let r={o:this.applied.get(o.id),p:e,r:t};o.v.push(r),this.residues.delete(o.id),n.push([i,r])}}let s=o.v.slice(-1)[0];if(!r.isEqual(s.p,e))break;e=[o.id,o.v.length-1]}return n}rebased(t,e){var n=this.operations[t];i.strictEqual(n.id,e.id),i.strictEqual(JSON.stringify(n.v),JSON.stringify(e.v.slice(0,n.v.length))),this.operations[t]=e;var[r,o]=this.preadjust(t,e.v.slice(-1)[0]);this.residues.set(e.id,r),i.strictEqual(JSON.stringify(o),JSON.stringify(this.applied.get(e.id)))}isLinear(){var t=void 0;for(let e of this.operations){let n=e.v.slice(-1)[0];if(!r.isEqual(n.p,t))return!1;t=[e.id,e.v.length-1]}return!0}get raw(){return this.operations.map((t=>t.v.slice(-1)[0].o))}get seq(){return this.operations.map((t=>this.applied.get(t.id)))}_xform(t,e){return this._op(t).transform(this._op(e))}_compose(t,e){return t?e?this._op(t).compose(this._op(e)):t:e}_op(t){return t instanceof o?t:o.fromJSON(t)}_byId(t){var e=new Map;for(let n of t)e.set(n.id,n);return e}_flatten(t){var e=[],n=[];for(let o of t){var r=e.findIndex((t=>t.id===o.p)),i=n[r];if(i){let t=this._xform(i,o.o);i=t[0],console.log("residue",JSON.stringify(i)),o={id:o.id,o:t[1],p:o.p}}for(let t of e.slice(r+1)){let e=this._xform(t.o,o.o);i=i?this._compose(i,e[0]):e[0],console.log("residue",JSON.stringify(i)),o={id:o.id,o:e[1],p:t.id}}e.push(o),n.push(i)}return e}}}},973:t=>{class e{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}then(t){return this.promise.then(t)}catch(t){return this.promise.catch(t)}}function n(){return new e}n.Deferred=e,t.exports=n},5834:(t,e,n)=>{const r=n(4650),i=n(340);function o(t){return r.obj((function(e,n,r){for(var i=0;i<e.length;)this.push(e.slice(i,i+t)),i+=t;r()}))}o.ofDuplex=function(t,e){return i(t,t.pipe(o(e)))},t.exports=o},9509:(t,e,n)=>{var r=n(8764),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},3553:(t,e,n)=>{const r=n(7867),i=n(7882);var o=r;t.exports=function(){return new o},t.exports.ready=function(t){i.ready((function(){t()}))},t.exports.WASM_SUPPORTED=i.WASM_SUPPORTED,t.exports.WASM_LOADED=!1,t.exports.SHA256_BYTES=32,i.ready((function(e){e||(t.exports.WASM_LOADED=!0,t.exports=o=i)}))},7867:(t,e,n)=>{const r=n(9204),i=n(130);t.exports=c;const o=t.exports.SHA256_BYTES=32,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function a(t,e,n,r){return((t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+e+(((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)+r)<<0}function l(t,e){var n,r,i,[o,l,c,h,f,d,p,g]=t;const y=new Uint32Array(64);for(let t=0;t<16;t++)y[t]=u(e[t]);for(let t=16;t<64;t++)y[t]=a(y[t-2],y[t-7],y[t-15],y[t-16]);for(let t=0;t<64;t+=4)n=o&l^o&c^l&c,r=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),i=g+(f&d^~f&p)+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+y[m=t]+s[m],g=h+i,n=(h=i+(r+n))&o^h&l^o&l,r=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),i=p+(g&f^~g&d)+((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+y[m+1]+s[m+1],p=c+i,n=(c=i+(r+n))&h^c&o^h&o,r=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),i=d+(p&g^~p&f)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+y[m+2]+s[m+2],d=l+i,n=(l=i+(r+n))&c^l&h^c&h,r=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),i=f+(d&p^~d&g)+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+y[m+3]+s[m+3],f=o+i,o=i+(r+n);var m;t[0]=t[0]+o,t[1]=t[1]+l,t[2]=t[2]+c,t[3]=t[3]+h,t[4]=t[4]+f,t[5]=t[5]+d,t[6]=t[6]+p,t[7]=t[7]+g}function c(){return this instanceof c?(this.buffer=new ArrayBuffer(64),this.bytesRead=0,this.pos=0,this.digestLength=o,this.finalised=!1,this.load=new Uint8Array(this.buffer),this.words=new Uint32Array(this.buffer),this.state=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this):new c}function h(t){if(!(this instanceof h))return new h(t);this.pad=i.alloc(64),this.inner=c(),this.outer=c();const e=i.alloc(32);t.byteLength>64&&(c().update(t).digest(e),t=e),this.pad.fill(54);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.inner.update(this.pad),this.pad.fill(92);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}function u(t){return(16711935&t)>>>8|(16711935&t)<<24|(4278255360&t)<<8|(4278255360&t)>>>24}c.prototype.update=function(t,e){r(!1===this.finalised,"Hash instance finalised");var[n,o]=function(t,e){var n=i.from(t,e);return[n,n.byteLength]}(t,e),s=0;for(this.bytesRead+=o;o>0&&(this.load.set(n.subarray(s,s+64-this.pos),this.pos),s+=64-this.pos,!((o-=64-this.pos)<0));)this.pos=0,l(this.state,this.words);return this.pos=63&this.bytesRead,this.load.fill(0,this.pos),this},c.prototype.digest=function(t,e=0){r(!1===this.finalised,"Hash instance finalised"),this.finalised=!0,this.load.fill(0,this.pos),this.load[this.pos]=128,this.pos>55&&(l(this.state,this.words),this.words.fill(0),this.pos=0);const n=new DataView(this.buffer);n.setUint32(56,this.bytesRead/2**29),n.setUint32(60,this.bytesRead<<3),l(this.state,this.words);const o=new Uint8Array(this.state.map(u).buffer);if(!t)return new Uint8Array(o);if("string"==typeof t)return i.toString(o,t);r(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),r(t.byteLength>=this.digestLength+e,"input not large enough for digest");for(let n=0;n<this.digestLength;n++)t[n+e]=o[n];return t},h.prototype.update=function(t,e){return this.inner.update(t,e),this},h.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)},c.HMAC=h},7882:(t,e,n)=>{const r=n(9204),i=n(130),o="undefined"!=typeof WebAssembly&&n(2714)({imports:{debug:{log(...t){console.log(...t.map((t=>(t>>>0).toString(16).padStart(8,"0"))))},log_tee:t=>(console.log((t>>>0).toString(16).padStart(8,"0")),t)}}});let s=0;const a=[];t.exports=c;const l=t.exports.SHA256_BYTES=32;function c(){if(!(this instanceof c))return new c;if(!o)throw new Error("WASM not loaded. Wait for Sha256.ready(cb)");a.length||(a.push(s),s+=108),this.finalized=!1,this.digestLength=l,this.pointer=a.pop(),this.pos=0,this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+108),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+108)}function h(t){if(!(this instanceof h))return new h(t);this.pad=i.alloc(64),this.inner=c(),this.outer=c();const e=i.alloc(32);t.byteLength>64&&(c().update(t).digest(e),t=e),this.pad.fill(54);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.inner.update(this.pad),this.pad.fill(92);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}function u(){}c.prototype._realloc=function(t){o.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},c.prototype.update=function(t,e){r(!1===this.finalized,"Hash instance finalized"),s%4!=0&&(s+=4-s%4),r(s%4==0,"input shoud be aligned for int32");const[n,a]=function(t,e){var n=i.from(t,e);return[n,n.byteLength]}(t,e);return r(n instanceof Uint8Array,"input must be Uint8Array or Buffer"),s+a>this._memory.length&&this._realloc(s+t.length),this._memory.fill(0,s,s+(a+64-1&-64)-64),this._memory.set(n.subarray(0,64-this.pos),this.pointer+40+this.pos),this._memory.set(n.subarray(64-this.pos),s),this.pos=this.pos+a&63,o.sha256(this.pointer,s,a,0),this},c.prototype.digest=function(t,e=0){r(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,a.push(this.pointer);const n=this.pointer+40+this.pos;this._memory.fill(0,n,this.pointer+40+64),o.sha256(this.pointer,s,0,1);const l=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!t)return l;if("string"==typeof t)return i.toString(l,t);r(t instanceof Uint8Array,"output must be Uint8Array or Buffer"),r(t.byteLength>=this.digestLength+e,"output must have at least 'SHA256_BYTES' bytes remaining");for(let n=0;n<this.digestLength;n++)t[n+e]=l[n];return t},c.WASM=o,c.WASM_SUPPORTED="undefined"!=typeof WebAssembly,c.ready=function(t){return t||(t=u),o?(t(),Promise.resolve()):t(new Error("WebAssembly not supported"))},c.prototype.ready=c.ready,h.prototype.update=function(t,e){return this.inner.update(t,e),this},h.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)},c.HMAC=h},2714:t=>{var e,n,r=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var n=e.length,r=new Uint8Array(3*(n-("="==e[n-1])-("="==e[n-2]))/4|0),i=0,o=0;i<n;){var s=t[e.charCodeAt(i++)],a=t[e.charCodeAt(i++)],l=t[e.charCodeAt(i++)],c=t[e.charCodeAt(i++)];r[o++]=s<<2|a>>4,r[o++]=a<<4|l>>2,r[o++]=l<<6|c}return r}})(),i=(e={"wasm-binary:./sha256.wat"(t,e){e.exports=r("AGFzbQEAAAABNAVgAX8Bf2AIf39/f39/f38AYAR/f39/AX9gEX9/f39/f39/f39/f39/f39/AGAEf39/fwADBgUAAQIDBAUDAQABBikIfwFBAAt/AUEAC38BQQALfwFBAAt/AUEAC38BQQALfwFBAAt/AUEACwcTAgZtZW1vcnkCAAZzaGEyNTYABAreFwUZACAAQf+B/AdxQQh4IABBgP6DeHFBCHdyC7wDAQZ/IwQjBXEjBEF/cyMGcXMhCiMAIwFxIwAjAnFzIwEjAnFzIQsjAEECeCMAQQ14cyMAQRZ4cyEMIwRBBngjBEELeHMjBEEZeHMhDSMHIApqIA1qIABqIARqIQggDCALaiEJIwMgCGokByAIIAlqJAMjByMEcSMHQX9zIwVxcyEKIwMjAHEjAyMBcXMjACMBcXMhCyMDQQJ4IwNBDXhzIwNBFnhzIQwjB0EGeCMHQQt4cyMHQRl4cyENIwYgCmogDWogAWogBWohCCAMIAtqIQkjAiAIaiQGIAggCWokAiMGIwdxIwZBf3MjBHFzIQojAiMDcSMCIwBxcyMDIwBxcyELIwJBAngjAkENeHMjAkEWeHMhDCMGQQZ4IwZBC3hzIwZBGXhzIQ0jBSAKaiANaiACaiAGaiEIIAwgC2ohCSMBIAhqJAUgCCAJaiQBIwUjBnEjBUF/cyMHcXMhCiMBIwJxIwEjA3FzIwIjA3FzIQsjAUECeCMBQQ14cyMBQRZ4cyEMIwVBBngjBUELeHMjBUEZeHMhDSMEIApqIA1qIANqIAdqIQggDCALaiEJIwAgCGokBCAIIAlqJAALKwAgAEEReCAAQRN4cyAAQQp2cyABaiACQQd4IAJBEnhzIAJBA3ZzIANqagvLCwEwfyAAKAJoRQRAIABB58yn0AY2AgAgAEGF3Z7bezYCBCAAQfLmu+MDNgIIIABBuuq/qno2AgwgAEH/pLmIBTYCECAAQYzRldh5NgIUIABBq7OP/AE2AhggAEGZmoPfBTYCHCAAQQE2AmgLIAAoAgAkACAAKAIEJAEgACgCCCQCIAAoAgwkAyAAKAIQJAQgACgCFCQFIAAoAhgkBiAAKAIcJAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEGY36iUBEGRid2JB0HP94Oue0Glt9fNfhABIAUgBiAHIAhB24TbygNB8aPEzwVBpIX+kXlB1b3x2HoQASAJIAogCyAMQZjVnsB9QYG2jZQBQb6LxqECQcP7sagFEAEgDSAOIA8gEEH0uvmVB0H+4/qGeEGnjfDeeUH04u+MfBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBwdPtpH5Bho/5/X5BxruG/gBBzMOyoAIQASAFIAYgByAIQe/YpO8CQaqJ0tMEQdzTwuUFQdqR5rcHEAEgCSAKIAsgDEHSovnBeUHtjMfBekHIz4yAe0HH/+X6exABIA0gDiAPIBBB85eAt3xBx6KerX1B0capNkHn0qShARABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBhZXcvQJBuMLs8AJB/Nux6QRBk5rgmQUQASAFIAYgByAIQdTmqagGQbuVqLMHQa6Si454QYXZyJN5EAEgCSAKIAsgDEGh0f+VekHLzOnAekHwlq6SfEGjo7G7fBABIA0gDiAPIBBBmdDLjH1BpIzktH1Bheu4oH9B8MCqgwEQASAPIAogAiABEAIhASAQIAsgAyACEAIhAiABIAwgBCADEAIhAyACIA0gBSAEEAIhBCADIA4gBiAFEAIhBSAEIA8gByAGEAIhBiAFIBAgCCAHEAIhByAGIAEgCSAIEAIhCCAHIAIgCiAJEAIhCSAIIAMgCyAKEAIhCiAJIAQgDCALEAIhCyAKIAUgDSAMEAIhDCALIAYgDiANEAIhDSAMIAcgDyAOEAIhDiANIAggECAPEAIhDyAOIAkgASAQEAIhECABIAIgAyAEQZaCk80BQYjY3fEBQczuoboCQbX5wqUDEAEgBSAGIAcgCEGzmfDIA0HK1OL2BEHPlPPcBUHz37nBBhABIAkgCiALIAxB7oW+pAdB78aVxQdBlPChpnhBiISc5ngQASANIA4gDyAQQfr/+4V5QevZwaJ6QffH5vd7QfLxxbN8EAEgACAAKAIAIwBqNgIAIAAgACgCBCMBajYCBCAAIAAoAggjAmo2AgggACAAKAIMIwNqNgIMIAAgACgCECMEajYCECAAIAAoAhQjBWo2AhQgACAAKAIYIwZqNgIYIAAgACgCHCMHajYCHAuKCAIBfhJ/IAApAyAhBCAEp0E/cSACaiEGIAQgAq18IQQgACAENwMgAkAgACgCKCEHIAAoAiwhCCAAKAIwIQkgACgCNCEKIAAoAjghCyAAKAI8IQwgACgCQCENIAAoAkQhDiAAKAJIIQ8gACgCTCEQIAAoAlAhESAAKAJUIRIgACgCWCETIAAoAlwhFCAAKAJgIRUgACgCZCEWIAZBwABrIgZBAEgNACAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAwNAIAEoAgAhByABKAIEIQggASgCCCEJIAEoAgwhCiABKAIQIQsgASgCFCEMIAEoAhghDSABKAIcIQ4gASgCICEPIAEoAiQhECABKAIoIREgASgCLCESIAEoAjAhEyABKAI0IRQgASgCOCEVIAEoAjwhFiABQcAAaiEBIAZBwABrIgZBAEgEQCAAIAc2AiggACAINgIsIAAgCTYCMCAAIAo2AjQgACALNgI4IAAgDDYCPCAAIA02AkAgACAONgJEIAAgDzYCSCAAIBA2AkwgACARNgJQIAAgEjYCVCAAIBM2AlggACAUNgJcIAAgFTYCYCAAIBY2AmQMAgsgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMMAAsLIANBAUYEQCAEp0E/cSEGQYABIAZBA3FBA3R0IQUCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgBkECdg4PAwQFBgcICQoLDA0ODxABAgsLIAUgFXIhFUEAIQULIAUgFnIhFkEAIQUgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMgACAENwMgQQAhB0EAIQhBACEJQQAhCkEAIQtBACEMQQAhDUEAIQ5BACEPQQAhEEEAIRFBACESQQAhE0EAIRRBACEVQQAhFgsgBSAHciEHQQAhBQsgBSAIciEIQQAhBQsgBSAJciEJQQAhBQsgBSAKciEKQQAhBQsgBSALciELQQAhBQsgBSAMciEMQQAhBQsgBSANciENQQAhBQsgBSAOciEOQQAhBQsgBSAPciEPQQAhBQsgBSAQciEQQQAhBQsgBSARciERQQAhBQsgBSASciESQQAhBQsgBSATciETQQAhBQsgBSAUciEUQQAhBQsgBEIdiKcQACEVIARCA4anEAAhFiAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAyAAIAAoAgAQADYCACAAIAAoAgQQADYCBCAAIAAoAggQADYCCCAAIAAoAgwQADYCDCAAIAAoAhAQADYCECAAIAAoAhQQADYCFCAAIAAoAhgQADYCGCAAIAAoAhwQADYCHAsL")}},function(){return n||(0,e[Object.keys(e)[0]])((n={exports:{}}).exports,n),n.exports})(),o=new WebAssembly.Module(i);t.exports=t=>new WebAssembly.Instance(o,t).exports},1246:(t,e,n)=>{const r=n(3572),i=n(9540);var o=r;t.exports=function(){return new o},t.exports.ready=function(t){i.ready((function(){t()}))},t.exports.WASM_SUPPORTED=i.SUPPORTED,t.exports.WASM_LOADED=!1,t.exports.SHA512_BYTES=64,i.ready((function(e){e||(t.exports.WASM_LOADED=!0,t.exports=o=i)}))},3572:(t,e,n)=>{const r=n(9204),i=n(130);t.exports=a;const o=128;var s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function a(){return this instanceof a?(this.hh=new Int32Array(8),this.hl=new Int32Array(8),this.buffer=new Uint8Array(128),this.finalised=!1,this.bytesRead=0,this.pos=0,this.hh[0]=1779033703,this.hh[1]=3144134277,this.hh[2]=1013904242,this.hh[3]=2773480762,this.hh[4]=1359893119,this.hh[5]=2600822924,this.hh[6]=528734635,this.hh[7]=1541459225,this.hl[0]=4089235720,this.hl[1]=2227873595,this.hl[2]=4271175723,this.hl[3]=1595750129,this.hl[4]=2917565137,this.hl[5]=725511199,this.hl[6]=4215389547,this.hl[7]=327033209,this):new a}function l(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function c(t,e,n,r){for(var i,o,a,l,c,h,u,f,d,p,g,y,m,b,v,A,w,_,I,E,C,S,x,k,B,L,O=new Int32Array(16),T=new Int32Array(16),R=t[0],M=t[1],N=t[2],D=t[3],U=t[4],Q=t[5],j=t[6],F=t[7],P=e[0],H=e[1],K=e[2],z=e[3],V=e[4],Y=e[5],W=e[6],q=e[7],G=0;r>=128;){for(I=0;I<16;I++)E=8*I+G,O[I]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],T[I]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(I=0;I<80;I++)if(i=R,o=M,a=N,l=D,c=U,h=Q,u=j,d=P,p=H,g=K,y=z,m=V,b=Y,v=W,x=65535&(S=q),k=S>>>16,B=65535&(C=F),L=C>>>16,x+=65535&(S=(V>>>14|U<<18)^(V>>>18|U<<14)^(U>>>9|V<<23)),k+=S>>>16,B+=65535&(C=(U>>>14|V<<18)^(U>>>18|V<<14)^(V>>>9|U<<23)),L+=C>>>16,x+=65535&(S=V&Y^~V&W),k+=S>>>16,B+=65535&(C=U&Q^~U&j),L+=C>>>16,x+=65535&(S=s[2*I+1]),k+=S>>>16,B+=65535&(C=s[2*I]),L+=C>>>16,C=O[I%16],k+=(S=T[I%16])>>>16,B+=65535&C,L+=C>>>16,B+=(k+=(x+=65535&S)>>>16)>>>16,x=65535&(S=_=65535&x|k<<16),k=S>>>16,B=65535&(C=w=65535&B|(L+=B>>>16)<<16),L=C>>>16,x+=65535&(S=(P>>>28|R<<4)^(R>>>2|P<<30)^(R>>>7|P<<25)),k+=S>>>16,B+=65535&(C=(R>>>28|P<<4)^(P>>>2|R<<30)^(P>>>7|R<<25)),L+=C>>>16,k+=(S=P&H^P&K^H&K)>>>16,B+=65535&(C=R&M^R&N^M&N),L+=C>>>16,f=65535&(B+=(k+=(x+=65535&S)>>>16)>>>16)|(L+=B>>>16)<<16,A=65535&x|k<<16,x=65535&(S=y),k=S>>>16,B=65535&(C=l),L=C>>>16,k+=(S=_)>>>16,B+=65535&(C=w),L+=C>>>16,M=i,N=o,D=a,U=l=65535&(B+=(k+=(x+=65535&S)>>>16)>>>16)|(L+=B>>>16)<<16,Q=c,j=h,F=u,R=f,H=d,K=p,z=g,V=y=65535&x|k<<16,Y=m,W=b,q=v,P=A,I%16==15)for(E=0;E<16;E++)C=O[E],x=65535&(S=T[E]),k=S>>>16,B=65535&C,L=C>>>16,C=O[(E+9)%16],x+=65535&(S=T[(E+9)%16]),k+=S>>>16,B+=65535&C,L+=C>>>16,w=O[(E+1)%16],x+=65535&(S=((_=T[(E+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),k+=S>>>16,B+=65535&(C=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),L+=C>>>16,w=O[(E+14)%16],k+=(S=((_=T[(E+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,B+=65535&(C=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),L+=C>>>16,L+=(B+=(k+=(x+=65535&S)>>>16)>>>16)>>>16,O[E]=65535&B|L<<16,T[E]=65535&x|k<<16;x=65535&(S=P),k=S>>>16,B=65535&(C=R),L=C>>>16,C=t[0],k+=(S=e[0])>>>16,B+=65535&C,L+=C>>>16,L+=(B+=(k+=(x+=65535&S)>>>16)>>>16)>>>16,t[0]=R=65535&B|L<<16,e[0]=P=65535&x|k<<16,x=65535&(S=H),k=S>>>16,B=65535&(C=M),L=C>>>16,C=t[1],k+=(S=e[1])>>>16,B+=65535&C,L+=C>>>16,L+=(B+=(k+=(x+=65535&S)>>>16)>>>16)>>>16,t[1]=M=65535&B|L<<16,e[1]=H=65535&x|k<<16,x=65535&(S=K),k=S>>>16,B=65535&(C=N),L=C>>>16,C=t[2],k+=(S=e[2])>>>16,B+=65535&C,L+=C>>>16,L+=(B+=(k+=(x+=65535&S)>>>16)>>>16)>>>16,t[2]=N=65535&B|L<<16,e[2]=K=65535&x|k<<16,x=65535&(S=z),k=S>>>16,B=65535&(C=D),L=C>>>16,C=t[3],k+=(S=e[3])>>>16,B+=65535&C,L+=C>>>16,L+=(B+=(k+=(x+=65535&S)>>>16)>>>16)>>>16,t[3]=D=65535&B|L<<16,e[3]=z=65535&x|k<<16,x=65535&(S=V),k=S>>>16,B=65535&(C=U),L=C>>>16,C=t[4],k+=(S=e[4])>>>16,B+=65535&C,L+=C>>>16,L+=(B+=(k+=(x+=65535&S)>>>16)>>>16)>>>16,t[4]=U=65535&B|L<<16,e[4]=V=65535&x|k<<16,x=65535&(S=Y),k=S>>>16,B=65535&(C=Q),L=C>>>16,C=t[5],k+=(S=e[5])>>>16,B+=65535&C,L+=C>>>16,L+=(B+=(k+=(x+=65535&S)>>>16)>>>16)>>>16,t[5]=Q=65535&B|L<<16,e[5]=Y=65535&x|k<<16,x=65535&(S=W),k=S>>>16,B=65535&(C=j),L=C>>>16,C=t[6],k+=(S=e[6])>>>16,B+=65535&C,L+=C>>>16,L+=(B+=(k+=(x+=65535&S)>>>16)>>>16)>>>16,t[6]=j=65535&B|L<<16,e[6]=W=65535&x|k<<16,x=65535&(S=q),k=S>>>16,B=65535&(C=F),L=C>>>16,C=t[7],k+=(S=e[7])>>>16,B+=65535&C,L+=C>>>16,L+=(B+=(k+=(x+=65535&S)>>>16)>>>16)>>>16,t[7]=F=65535&B|L<<16,e[7]=q=65535&x|k<<16,G+=128,r-=128}}function h(t){if(!(this instanceof h))return new h(t);this.pad=i.alloc(128),this.inner=a(),this.outer=a();const e=i.alloc(64);t.byteLength>128&&(a().update(t).digest(e),t=e),this.pad.fill(54);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.inner.update(this.pad),this.pad.fill(92);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}a.prototype.update=function(t,e){r(!1===this.finalised,"Hash instance finalised");var[n,s]=function(t,e){var n=i.from(t,e);return[n,n.byteLength]}(t,e);this.bytesRead+=s;const a=s+this.pos&-128;this.buffer.set(n.subarray(0,o-this.pos),this.pos);const l=this.pos;return(s-=o-this.pos)>=0&&(c(this.hh,this.hl,this.buffer,128),this.pos=0),s>127&&(c(this.hh,this.hl,n.subarray(o-l,a-l),a-o),s%=128),this.buffer.set(n.subarray(n.byteLength-s)),this.pos=127&this.bytesRead,this.buffer.fill(0,this.pos),this},a.prototype.digest=function(t,e=0){if(r(!1===this.finalised,"Hash instance finalised"),this.finalised=!0,this.buffer.fill(0,this.pos),this.buffer[this.pos]=128,this.pos>111&&(c(this.hh,this.hl,this.buffer,128),this.buffer.fill(0),this.pos=0),l(this.buffer,120,this.bytesRead/536870912|0,this.bytesRead<<3),c(this.hh,this.hl,this.buffer,128),t instanceof Uint8Array&&t.byteLength>63){for(let n=0;n<8;n++)l(t,8*n+e,this.hh[n],this.hl[n]);return t}const n=new Uint8Array(64);for(let t=0;t<8;t++)l(n,8*t,this.hh[t],this.hl[t]);return"string"==typeof t?i.toString(n,t):n},h.prototype.update=function(t,e){return this.inner.update(t,e),this},h.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)},a.HMAC=h},9540:(t,e,n)=>{const r=n(9204),i=n(130),o="undefined"!=typeof WebAssembly&&n(706)({imports:{debug:{log(...t){console.log(...t.map((t=>(t>>>0).toString(16).padStart(8,"0"))))},log_tee:t=>(console.log((t>>>0).toString(16).padStart(8,"0")),t)}}});let s=0;const a=[];t.exports=h;const l=t.exports.SHA512_BYTES=64,c=128;function h(){if(!(this instanceof h))return new h;if(!o)throw new Error("WASM not loaded. Wait for Sha512.ready(cb)");a.length||(a.push(s),s+=216),this.finalized=!1,this.digestLength=l,this.pointer=a.pop(),this.pos=0,this.wasm=o,this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+216),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+216)}function u(t){if(!(this instanceof u))return new u(t);this.pad=i.alloc(128),this.inner=h(),this.outer=h();const e=i.alloc(64);t.byteLength>128&&(h().update(t).digest(e),t=e),this.pad.fill(54);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.inner.update(this.pad),this.pad.fill(92);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}function f(){}h.prototype._realloc=function(t){o.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},h.prototype.update=function(t,e){r(!1===this.finalized,"Hash instance finalized"),s%8!=0&&(s+=8-s%8),r(s%8==0,"input should be aligned for int64");const[n,a]=function(t,e){var n=i.from(t,e);return[n,n.byteLength]}(t,e);return r(n instanceof Uint8Array,"input must be Uint8Array or Buffer"),s+t.length>this._memory.length&&this._realloc(s+t.length),this._memory.fill(0,s,s+(a+c-1&-128)-c),this._memory.set(n.subarray(0,c-this.pos),this.pointer+80+this.pos),this._memory.set(n.subarray(c-this.pos),s),this.pos=this.pos+a&127,o.sha512(this.pointer,s,a,0),this},h.prototype.digest=function(t,e=0){r(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,a.push(this.pointer);const n=this.pointer+80+this.pos;this._memory.fill(0,n,this.pointer+80+c),o.sha512(this.pointer,s,0,1);const l=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!t)return l;if("string"==typeof t)return i.toString(l,t);r(t instanceof Uint8Array,"output must be Uint8Array or Buffer"),r(t.byteLength>=this.digestLength+e,"output must have at least 'SHA512_BYTES' bytes remaining");for(let n=0;n<this.digestLength;n++)t[n+e]=l[n];return t},h.WASM=o,h.WASM_SUPPORTED="undefined"!=typeof WebAssembly,h.ready=function(t){return t||(t=f),o?(t(),Promise.resolve()):t(new Error("WebAssembly not supported"))},h.prototype.ready=h.ready,u.prototype.update=function(t,e){return this.inner.update(t,e),this},u.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)},h.HMAC=u},706:t=>{var e,n,r=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var n=e.length,r=new Uint8Array(3*(n-("="==e[n-1])-("="==e[n-2]))/4|0),i=0,o=0;i<n;){var s=t[e.charCodeAt(i++)],a=t[e.charCodeAt(i++)],l=t[e.charCodeAt(i++)],c=t[e.charCodeAt(i++)];r[o++]=s<<2|a>>4,r[o++]=a<<4|l>>2,r[o++]=l<<6|c}return r}})(),i=(e={"wasm-binary:./sha512.wat"(t,e){e.exports=r("AGFzbQEAAAABNAVgAX4BfmAIfn5+fn5+fn4AYAR+fn5+AX5gEX9+fn5+fn5+fn5+fn5+fn5+AGAEf39/fwADBgUAAQIDBAUDAQABBikIfgFCAAt+AUIAC34BQgALfgFCAAt+AUIAC34BQgALfgFCAAt+AUIACwcTAgZtZW1vcnkCAAZzaGE1MTIABAqZHgVCACAAQoCA/P+PgECDQhCJIABC//+DgPD/P4NCEIqEIQAgAEL/gfyH8J/A/wCDQgiJIABCgP6D+I/gv4B/g0IIioQLvAMBBn4jBCMFgyMEQn+FIwaDhSEKIwAjAYMjACMCg4UjASMCg4UhCyMAQhyKIwBCIoqFIwBCJ4qFIQwjBEIOiiMEQhKKhSMEQimKhSENIwcgCnwgDXwgAHwgBHwhCCAMIAt8IQkjAyAIfCQHIAggCXwkAyMHIwSDIwdCf4UjBYOFIQojAyMAgyMDIwGDhSMAIwGDhSELIwNCHIojA0IiioUjA0InioUhDCMHQg6KIwdCEoqFIwdCKYqFIQ0jBiAKfCANfCABfCAFfCEIIAwgC3whCSMCIAh8JAYgCCAJfCQCIwYjB4MjBkJ/hSMEg4UhCiMCIwODIwIjAIOFIwMjAIOFIQsjAkIciiMCQiKKhSMCQieKhSEMIwZCDoojBkISioUjBkIpioUhDSMFIAp8IA18IAJ8IAZ8IQggDCALfCEJIwEgCHwkBSAIIAl8JAEjBSMGgyMFQn+FIweDhSEKIwEjAoMjASMDg4UjAyMCg4UhCyMBQhyKIwFCIoqFIwFCJ4qFIQwjBUIOiiMFQhKKhSMFQimKhSENIwQgCnwgDXwgA3wgB3whCCAMIAt8IQkjACAIfCQEIAggCXwkAAsrACAAQhOKIABCPYqFIABCBoiFIAF8IAJCAYogAkIIioUgAkIHiIUgA3x8C6QRACAAKQPQAUIAUQRAIABCiJLznf/M+YTqADcDACAAQrvOqqbY0Ouzu383AwggAEKr8NP0r+68tzw3AxAgAELx7fT4paf9p6V/NwMYIABC0YWa7/rPlIfRADcDICAAQp/Y+dnCkdqCm383AyggAELr+obav7X2wR83AzAgAEL5wvibkaOz8NsANwM4IABCATcD0AELIAApAwAkACAAKQMIJAEgACkDECQCIAApAxgkAyAAKQMgJAQgACkDKCQFIAApAzAkBiAAKQM4JAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEKi3KK5jfOLxcIAQs3LvZ+SktGb8QBCr/a04v75vuC1f0K8t6eM2PT22mkQASAFIAYgByAIQrjqopq/y7CrOUKZoJewm77E+NkAQpuf5fjK1OCfkn9CmIK2093al46rfxABIAkgCiALIAxCwoSMmIrT6oNYQr7fwauU4NbBEkKM5ZL35LfhmCRC4un+r724n4bVABABIA0gDiAPIBBC75Luk8+ul9/yAEKxrdrY47+s74B/QrWknK7y1IHum39ClM2k+8yu/M1BEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBELSlcX3mbjazWRC48u8wuPwkd9vQrWrs9zouOfgD0LluLK9x7mohiQQASAFIAYgByAIQvWErMn1jcv0LUKDyZv1ppWhusoAQtT3h+rLu6rY3ABCtafFmKib4vz2ABABIAkgCiALIAxCq7+b866qlJ+Yf0KQ5NDt0s3xmKh/Qr/C7MeJ+cmBsH9C5J289/v436y/fxABIA0gDiAPIBBCwp+i7bP+gvBGQqXOqpj5qOTTVULvhI6AnuqY5QZC8Ny50PCsypQUEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBEL838i21NDC2ydCppKb4YWnyI0uQu3VkNbFv5uWzQBC3+fW7Lmig5zTABABIAUgBiAHIAhC3se93cjqnIXlAEKo5d7js9eCtfYAQubdtr/kpbLhgX9Cu+qIpNGQi7mSfxABIAkgCiALIAxC5IbE55SU+t+if0KB4Ijiu8mZjah/QpGv4oeN7uKlQkKw/NKysLSUtkcQASANIA4gDyAQQpikvbedg7rJUUKQ0parxcTBzFZCqsDEu9WwjYd0Qrij75WDjqi1EBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCyKHLxuuisNIZQtPWhoqFgdubHkKZ17v8zemdpCdCqJHtjN6Wr9g0EAEgBSAGIAcgCELjtKWuvJaDjjlCy5WGmq7JquzOAELzxo+798myztsAQqPxyrW9/puX6AAQASAJIAogCyAMQvzlvu/l3eDH9ABC4N7cmPTt2NL4AELy1sKPyoKe5IR/QuzzkNOBwcDjjH8QASANIA4gDyAQQqi8jJui/7/fkH9C6fuK9L2dm6ikf0KV8pmW+/7o/L5/QqumyZuunt64RhABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCnMOZ0e7Zz5NKQoeEg47ymK7DUUKe1oPv7Lqf7WpC+KK78/7v0751EAEgBSAGIAcgCEK6392Qp/WZ+AZCprGiltq437EKQq6b5PfLgOafEUKbjvGY0ebCuBsQASAJIAogCyAMQoT7kZjS/t3tKEKTyZyGtO+q5TJCvP2mrqHBr888QsyawODJ+NmOwwAQASANIA4gDyAQQraF+dnsl/XizABCqvyV48+zyr/ZAELs9dvWs/Xb5d8AQpewndLEsYai7AAQASAAIAApAwAjAHw3AwAgACAAKQMIIwF8NwMIIAAgACkDECMCfDcDECAAIAApAxgjA3w3AxggACAAKQMgIwR8NwMgIAAgACkDKCMFfDcDKCAAIAApAzAjBnw3AzAgACAAKQM4Iwd8NwM4C8MIARV+IAApA0AhBCAAKQNIIQUgBEL/AIMgAq18IQggBCEGIAQgAq18IQQgACAENwNAIAQgBlQEQCAFQgF8IQUgACAFNwNICwJAIAApA1AhCSAAKQNYIQogACkDYCELIAApA2ghDCAAKQNwIQ0gACkDeCEOIAApA4ABIQ8gACkDiAEhECAAKQOQASERIAApA5gBIRIgACkDoAEhEyAAKQOoASEUIAApA7ABIRUgACkDuAEhFiAAKQPAASEXIAApA8gBIRggCEKAAX0iCEIAUw0AIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADA0AgASkDACEJIAEpAwghCiABKQMQIQsgASkDGCEMIAEpAyAhDSABKQMoIQ4gASkDMCEPIAEpAzghECABKQNAIREgASkDSCESIAEpA1AhEyABKQNYIRQgASkDYCEVIAEpA2ghFiABKQNwIRcgASkDeCEYIAFBgAFqIQEgCEKAAX0iCEIAUwRAIAAgCTcDUCAAIAo3A1ggACALNwNgIAAgDDcDaCAAIA03A3AgACAONwN4IAAgDzcDgAEgACAQNwOIASAAIBE3A5ABIAAgEjcDmAEgACATNwOgASAAIBQ3A6gBIAAgFTcDsAEgACAWNwO4ASAAIBc3A8ABIAAgGDcDyAEMAgsgACAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYgFyAYEAMMAAsLIANBAUYEQCAEQv8AgyEIQoABIAhCB4NCA4aGIQcCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgCKdBA3YODwMEBQYHCAkKCwwNDg8QAQILCyAHIBeEIRdCACEHCyAHIBiEIRhCACEHIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgBDcDQEIAIQlCACEKQgAhC0IAIQxCACENQgAhDkIAIQ9CACEQQgAhEUIAIRJCACETQgAhFEIAIRVCACEWQgAhF0IAIRgLIAcgCYQhCUIAIQcLIAcgCoQhCkIAIQcLIAcgC4QhC0IAIQcLIAcgDIQhDEIAIQcLIAcgDYQhDUIAIQcLIAcgDoQhDkIAIQcLIAcgD4QhD0IAIQcLIAcgEIQhEEIAIQcLIAcgEYQhEUIAIQcLIAcgEoQhEkIAIQcLIAcgE4QhE0IAIQcLIAcgFIQhFEIAIQcLIAcgFYQhFUIAIQcLIAcgFoQhFkIAIQcLIARCPYggBUIDiHwQACEXIARCCH4QACEYIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgACkDABAANwMAIAAgACkDCBAANwMIIAAgACkDEBAANwMQIAAgACkDGBAANwMYIAAgACkDIBAANwMgIAAgACkDKBAANwMoIAAgACkDMBAANwMwIAAgACkDOBAANwM4Cws=")}},function(){return n||(0,e[Object.keys(e)[0]])((n={exports:{}}).exports,n),n.exports})(),o=new WebAssembly.Module(i);t.exports=t=>new WebAssembly.Instance(o,t).exports},5903:(t,e,n)=>{var r=n(4155);const i=n(7187),o=n(6214),s=n(5717),a="undefined"!=typeof window&&window.WebSocket?window.WebSocket:null;function l(t,e,n){this.opened=!1,this.sockets=[],this.app=t;const r=this.channels=new Map;if(this.subscribers={get length(){return r.size}},!e||Array.isArray(e)&&0===e.length)throw Error("No URL specified");Array.isArray(e)||(e=[e]),e=e.map((function(t){return-1===(t=t.replace(/\/$/,"")).indexOf("://")?"ws://"+t:t}));let i=0;for(let r=0;r<e.length;r++){const o=new n(`${e[r]}/${t}`);this.sockets.push(o),o.addEventListener("open",(()=>{if(++i===e.length){this.opened=!0,this.emit("open");for(let t of this.channels.values())t.emit("open")}})),o.addEventListener("message",(t=>{this.onMessage(t)})),o.addEventListener("error",(t=>{this.listeners("error").length>0?this.emit("error",{event:t,url:e[r]}):console.error(t)}))}}s(l,i.EventEmitter),l.prototype.subscribe=function(t){if(this.closed)throw new Error("Cannot subscribe after close");return this.channels.has(t)||(this.channels.set(t,o.obj()),this.channels.get(t).on("close",(()=>{this.channels.delete(t)})),this.opened&&r.nextTick((()=>{this.channels.has(t)&&this.channels.get(t).emit("open")}))),this.channels.get(t)},l.prototype.broadcast=function(t,e,n){if(this.closed)throw new Error("Cannot broadcast after close");const r={app:this.app,channel:t,message:e};this.sockets.forEach((t=>{t.send(JSON.stringify(r))})),n&&n()},l.prototype.onMessage=function(t){t=JSON.parse(t.data);for(let e of this.channels.keys())if(t.channel!==e){if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]===t.channel&&this.channels.get(e).write(t.message)}else this.channels.get(e).write(t.message)},l.prototype.close=function(t){if(this.closed)return void(t&&r.nextTick(t));this.once("close",(()=>{t&&t(),this.closed=!0}));const e=this.sockets.length;if(0===e)return void this.emit("close");this.once("close:socket",(()=>{this._closeChannels()}));let n=0;this.sockets.forEach((t=>{t.addEventListener("close",(()=>{++n===e&&this.emit("close:socket")})),r.nextTick((function(){t.close()}))}))},l.prototype._closeChannels=function(){const t=this.channels.size;if(0===t)return void this.emit("close");let e=0;for(let n of this.channels.values())r.nextTick((()=>{n.end((()=>{++e===t&&(this.channels.clear(),this.emit("close"))}))}))},t.exports=function(t,e,n=a){if(!n)throw TypeError("No WebSocket class given.");return new l(t,e,n)}},6214:(t,e,n)=>{var r=n(4155),i=n(8473).Transform,o=n(5717);function s(t){i.call(this,t),this._destroyed=!1}function a(t,e,n){n(null,t)}function l(t){return function(e,n,r){return"function"==typeof e&&(r=n,n=e,e={}),"function"!=typeof n&&(n=a),"function"!=typeof r&&(r=null),t(e,n,r)}}o(s,i),s.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;r.nextTick((function(){t&&e.emit("error",t),e.emit("close")}))}},t.exports=l((function(t,e,n){var r=new s(t);return r._transform=e,n&&(r._flush=n),r})),t.exports.ctor=l((function(t,e,n){function r(e){if(!(this instanceof r))return new r(e);this.options=Object.assign({},t,e),s.call(this,this.options)}return o(r,s),r.prototype._transform=e,n&&(r.prototype._flush=n),r})),t.exports.obj=l((function(t,e,n){var r=new s(Object.assign({objectMode:!0,highWaterMark:16},t));return r._transform=e,n&&(r._flush=n),r}))},1842:(t,e,n)=>{var r=n(9365);e.encode=function t(e,n,i){e=e>=0?2*e:-2*e-1;var o=r.encode(e,n,i);return t.bytes=r.encode.bytes,o},e.decode=function t(e,n){var i=r.decode(e,n);return t.bytes=r.decode.bytes,1&i?(i+1)/-2:i/2},e.encodingLength=function(t){return r.encodingLength(t>=0?2*t:-2*t-1)}},7721:t=>{t.exports=function t(e,n){var r,i=0,o=0,s=n=n||0,a=e.length;do{if(s>=a)throw t.bytes=0,new RangeError("Could not decode varint");r=e[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return t.bytes=s-n,i}},508:t=>{t.exports=function t(n,r,i){r=r||[];for(var o=i=i||0;n>=e;)r[i++]=255&n|128,n/=128;for(;-128&n;)r[i++]=255&n|128,n>>>=7;return r[i]=0|n,t.bytes=i-o+1,r};var e=Math.pow(2,31)},9365:(t,e,n)=>{t.exports={encode:n(508),decode:n(7721),encodingLength:n(8184)}},8184:t=>{var e=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),l=Math.pow(2,56),c=Math.pow(2,63);t.exports=function(t){return t<e?1:t<n?2:t<r?3:t<i?4:t<o?5:t<s?6:t<a?7:t<l?8:t<c?9:10}},2518:(t,e,n)=>{var r=n(8764).Buffer,i=n(6265),o=n(454),s=n(6090),a=n(9204),l=r.alloc(0);function c(t,e){if(!(this instanceof c))return new c(t,e);var n=(e=e||{}).pattern||"NN",o=e.prolouge||l;this.handshakeHash=null,this.onstatickey=e.onstatickey||function(t,e){e()},this.onephemeralkey=e.onephemeralkey||function(t,e){e()},this.onhandshake=e.onhandshake||function(t,e){e()},this.state=i.initialize(n,t,o,e.staticKeyPair,e.ephemeralKeyPair,e.remoteStaticKey,e.remoteEphemeralKey),this.waiting=!1===t,this.finished=!1,this.split=null,this._tx=r.alloc(65535),this._rx=r.alloc(65535)}c.prototype.recv=function(t,e){var n=this;a(!1===n.finished,"Should not call recv if finished"),a(null!=t,"must have data"),a(t.byteLength<=n._rx.byteLength,"too much data received"),a(!0===n.waiting,"Wrong state, not ready to receive data"),a(null==n.split,"split should be null");var r=null!=n.state.re,o=null!=n.state.rs;try{n.split=i.readMessage(n.state,t,n._rx)}catch(t){return n._finish(t,null,e)}n.waiting=!1;var s=null!=n.state.re,l=null!=n.state.rs;return!1===r&&!0===s?n.onephemeralkey(n.state.re,c):c();function c(t){return t?h(t):!1===o&&!0===l?n.onstatickey(n.state.rs,h):h()}function h(t){if(t)return n._finish(t,null,e);var r=n._rx.subarray(0,i.readMessage.bytes);if(n.split)return n._finish(null,r,e);e(null,r)}},c.prototype.send=function(t,e){a(!1===this.finished,"Should not call send if finished"),a(!1===this.waiting,"Wrong state, not ready to send data"),a(null==this.split,"split should be null"),t=t||l;try{this.split=i.writeMessage(this.state,t,this._tx)}catch(t){return this._finish(t,null,e)}this.waiting=!0;var n=this._tx.subarray(0,i.writeMessage.bytes);return null!=this.split?this._finish(null,n,e):e(null,n)},c.prototype.destroy=function(){this._finish(null,null,(function(){}))},c.prototype._finish=function(t,e,n){a(!1===this.finished,"Already finished");const l=this;if(l.finished=!0,l.waiting=!1,l.split&&(l.handshakeHash=r.alloc(s.HASHLEN),o.getHandshakeHash(l.state.symmetricState,l.handshakeHash)),t)return c(t);function c(t){i.destroy(l.state),n(t,e,l.split),l._rx.fill(0),l._tx.fill(0)}l.onhandshake(l.state,c)},c.keygen=i.keygen,c.seedKeygen=i.seedKeygen,t.exports=c},9130:(t,e,n)=>{var r=n(8764).Buffer;const i=n(1561),o=n(8522),s=n(9033),a=n(5501),l=n(4877),c=n(3400);function h(t,e,n){n.handlers.onopen&&n.handlers.onopen(t,e)}function u(t,e,n){n.handlers.onoptions&&n.handlers.onoptions(t,e)}function f(t,e,n){n.handlers.onstatus&&n.handlers.onstatus(t,e)}function d(t,e,n){n.handlers.onhave&&n.handlers.onhave(t,e)}function p(t,e,n){n.handlers.onunhave&&n.handlers.onunhave(t,e)}function g(t,e,n){n.handlers.onwant&&n.handlers.onwant(t,e)}function y(t,e,n){n.handlers.onunwant&&n.handlers.onunwant(t,e)}function m(t,e,n){n.handlers.onrequest&&n.handlers.onrequest(t,e)}function b(t,e,n){n.handlers.oncancel&&n.handlers.oncancel(t,e)}function v(t,e,n){n.handlers.ondata&&n.handlers.ondata(t,e)}function A(t,e,n){n.handlers.onclose&&n.handlers.onclose(t,e)}function w(t,e,n,r){if(15!==e)return;const i=c.decode(n),o=n.slice(c.decode.bytes);r.handlers.onextension&&r.handlers.onextension(t,i,o)}function _(t,e){e.handlers.onmissing&&e.handlers.onmissing(t)}t.exports=class{constructor(t,e){const n={nonce:s.nonce()};this.handlers=e||{},this.remotePayload=null,this.remotePublicKey=null,this.publicKey=null,this.handshakeHash=null,this.destroyed=!1,this._initiator=t,this._payload=n,this._pending=[],this._handshake=null,this._split=null,this._encryption=null,this._noise=!(!1===e.encrypted&&!1===e.noise),this._buffering=null,this._handshaking=!1,this._messages=new a({onmessage:w,onmissing:_,context:this,types:[{context:this,onmessage:h,encoding:o.Open},{context:this,onmessage:u,encoding:o.Options},{context:this,onmessage:f,encoding:o.Status},{context:this,onmessage:d,encoding:o.Have},{context:this,onmessage:p,encoding:o.Unhave},{context:this,onmessage:g,encoding:o.Want},{context:this,onmessage:y,encoding:o.Unwant},{context:this,onmessage:m,encoding:o.Request},{context:this,onmessage:b,encoding:o.Cancel},{context:this,onmessage:v,encoding:o.Data},{context:this,onmessage:A,encoding:o.Close}]}),!1===e.encrypted&&!1===e.noise||(this._handshaking=!0,"function"!=typeof this.handlers.keyPair?this._onkeypair(null,this.handlers.keyPair||null):(this._buffering=[],this.handlers.keyPair(this._onkeypair.bind(this))))}_onkeypair(t,e){if(t)return this.destroy(t);if(null!==this._handshake)return;this.handlers.keyPair=e;const n=new i(this._initiator,o.NoisePayload.encode(this._payload),this.handlers,this._onhandshake.bind(this));if(this.publicKey=n.keyPair.publicKey,this._handshake=n,this._buffering)for(;this._buffering.length;)this._recv(this._buffering.shift());this._buffering=null}open(t,e){return this._send(t,0,e)}options(t,e){return this._send(t,1,e)}status(t,e){return this._send(t,2,e)}have(t,e){return this._send(t,3,e)}unhave(t,e){return this._send(t,4,e)}want(t,e){return this._send(t,5,e)}unwant(t,e){return this._send(t,6,e)}request(t,e){return this._send(t,7,e)}cancel(t,e){return this._send(t,8,e)}data(t,e){return this._send(t,9,e)}close(t,e){return this._send(t,10,e||{})}extension(t,e,n){const i=r.allocUnsafe(c.encodingLength(e)+n.length);return c.encode(e,i,0),n.copy(i,c.encode.bytes),this._send(t,15,i)}ping(){if(this._handshaking||this._pending.length)return;let t=r.from([0]);return null!==this._encryption&&(t=this._encryption.encrypt(t)),this.handlers.send(t)}_onhandshake(t,e,n,r,i,a){if(t)return this.destroy(new Error("Noise handshake error"));if(!e)return this.destroy(new Error("Remote did not include a handshake payload"));this.remotePublicKey=i,this.handshakeHash=a;try{e=o.NoisePayload.decode(e)}catch(t){return this.destroy(new Error("Could not parse remote payload"))}if(this._handshake=null,this._handshaking=!1,this._split=n,this._encryption=!1===this.handlers.encrypted?null:new s({rnonce:e.nonce,tnonce:this._payload.nonce},n),this.remotePayload=e,this.handlers.onhandshake&&this.handlers.onhandshake(),!this.destroyed)for(r&&this.recv(r);this._pending.length&&!this.destroyed;)this._sendNow(...this._pending.shift())}_send(t,e,n){return this._handshaking||this._pending.length?(this._pending.push([t,e,n]),!1):this._sendNow(t,e,n)}_sendNow(t,e,n){0===e&&n.key&&!n.capability&&(n.capability=this.capability(n.key),n.key=null);let r=this._messages.send(t,e,n);return null!==this._encryption&&(r=this._encryption.encrypt(r)),this.handlers.send(r)}capability(t){return l.capability(t,this._split)}remoteCapability(t){return l.remoteCapability(t,this._split)}recv(t){null!==this._buffering?this._buffering.push(t):this._recv(t)}_recv(t){this.destroyed||(this._handshaking?this._handshake.recv(t):(null!==this._encryption&&(t=this._encryption.decrypt(t)),this._messages.recv(t)||this.destroy(this._messages.error)))}destroy(t){this.destroyed||(this.destroyed=!0,this._handshake&&this._handshake.destroy(),this._encryption&&this._encryption.destroy(),this.handlers.destroy&&this.handlers.destroy(t))}static keyPair(t){return i.keyPair(t)}}},1561:(t,e,n)=>{var r=n(4155),i=n(8764).Buffer;const o=n(2518),s=n(1974),a=n(4877),l=n(3400);function c(t){if(t.destroyed)return;t.destroyed=!0;const e={rx:i.from(t.noise.split.rx),tx:i.from(t.noise.split.tx)};a.free(t.noise.split.rx),a.free(t.noise.split.tx),t.ondone(null,t.remotePayload,e,t.buffer,t.remotePublicKey,t.noise.handshakeHash)}function h(t){t.destroyed||t.noise.send(t.payload,t.onsend)}function u(t,e){if(t)return this.destroy(t);const n=i.allocUnsafe(l.encodingLength(e.length)+e.length);l.encode(e.length,n,0),e.copy(n,l.encode.bytes),this.options.send(n)}function f(t,e){if(t)return this.destroy(t);e&&e.length&&(this.remotePayload=i.from(e)),this.destroyed||this.noise.finished||!1===this.noise.waiting&&this.noise.send(this.payload,this.onsend)}function d(t,e){this.remotePublicKey=i.from(t),this.options.onauthenticate?this.options.onauthenticate(this.remotePublicKey,e):e(null)}t.exports=class t{constructor(e,n,i,s){this.options=i,this.ondone=s,this.buffer=null,this.length=0,this.remotePayload=null,this.payload=n,this.keyPair=i.keyPair||t.keyPair(),this.remotePublicKey=null,this.onrecv=f.bind(this),this.onsend=u.bind(this),this.destroyed=!1,this.noise=o(e,{pattern:"XX",onhandshake:function(t,e){r.nextTick(c,a),e(null)},staticKeyPair:this.keyPair,onstatickey:d.bind(this)});const a=this;!1===this.noise.waiting&&r.nextTick(h,this)}recv(t){if(!this.destroyed)for(this.buffer?this.buffer=i.concat([this.buffer,t]):this.buffer=t;!this.destroyed&&!this.noise.finished;){if(!this.buffer||this.buffer.length<3)return;if(this.length){if(this.buffer.length<this.length)return;const t=this.buffer.slice(0,this.length);this.buffer=this.length<this.buffer.length?this.buffer.slice(this.length):null,this.length=0,this.noise.recv(t,this.onrecv)}else this.length=l.decode(this.buffer,0),this.buffer=this.buffer.slice(l.decode.bytes)}}destroy(t){this.destroyed||(this.destroyed=!0,this.noise.finished||this.noise.destroy(),this.ondone(t))}static keyPair(t){const e={publicKey:i.alloc(s.PKLEN),secretKey:i.alloc(s.SKLEN)};return t?s.generateSeedKeypair(e.publicKey,e.secretKey,t):s.generateKeypair(e.publicKey,e.secretKey),e}}},9033:(t,e,n)=>{const r=n(5256),i=n(4877);t.exports=class{constructor(t,e){this.rnonce=t.rnonce,this.tnonce=t.tnonce,this.rx=new r(this.rnonce,e.rx.slice(0,32)),this.tx=new r(this.tnonce,e.tx.slice(0,32))}encrypt(t){return this.tx.update(t,t),t}decrypt(t){return this.rx.update(t,t),t}destroy(){this.tx.final(),this.rx.final()}static nonce(){return i.randomBytes(24)}}},8522:(t,e,n)=>{var r=n(8764).Buffer,i=n(5661),o=i.varint,s=i.skip,a=e.NoisePayload={buffer:!0,encodingLength:null,encode:null,decode:null},l=e.Open={buffer:!0,encodingLength:null,encode:null,decode:null},c=e.Options={buffer:!0,encodingLength:null,encode:null,decode:null},h=e.Status={buffer:!0,encodingLength:null,encode:null,decode:null},u=e.Have={buffer:!0,encodingLength:null,encode:null,decode:null},f=e.Unhave={buffer:!0,encodingLength:null,encode:null,decode:null},d=e.Want={buffer:!0,encodingLength:null,encode:null,decode:null},p=e.Unwant={buffer:!0,encodingLength:null,encode:null,decode:null},g=e.Request={buffer:!0,encodingLength:null,encode:null,decode:null},y=e.Cancel={buffer:!0,encodingLength:null,encode:null,decode:null},m=e.Data={buffer:!0,encodingLength:null,encode:null,decode:null},b=e.Close={buffer:!0,encodingLength:null,encode:null,decode:null};function v(t){return null!=t&&("number"!=typeof t||!isNaN(t))}!function(){var t=[i.bytes];function e(e){var n=0;if(!v(e.nonce))throw new Error("nonce is required");return n+(1+t[0].encodingLength(e.nonce))}a.encodingLength=e,a.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;if(!v(i.nonce))throw new Error("nonce is required");return o[s++]=10,t[0].encode(i.nonce,o,s),s+=t[0].encode.bytes,n.bytes=s-a,o},a.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={nonce:null},c=!1;;){if(i<=r){if(!c)throw new Error("Decoded message is not valid");return e.bytes=r-a,l}var h=o.decode(n,r);r+=o.decode.bytes,1==h>>3?(l.nonce=t[0].decode(n,r),r+=t[0].decode.bytes,c=!0):r=s(7&h,n,r)}}}(),function(){var t=[i.bytes];function e(e){var n=0;if(!v(e.discoveryKey))throw new Error("discoveryKey is required");return n+=1+t[0].encodingLength(e.discoveryKey),v(e.capability)&&(n+=1+t[0].encodingLength(e.capability)),n}l.encodingLength=e,l.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;if(!v(i.discoveryKey))throw new Error("discoveryKey is required");return o[s++]=10,t[0].encode(i.discoveryKey,o,s),s+=t[0].encode.bytes,v(i.capability)&&(o[s++]=18,t[0].encode(i.capability,o,s),s+=t[0].encode.bytes),n.bytes=s-a,o},l.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={discoveryKey:null,capability:null},c=!1;;){if(i<=r){if(!c)throw new Error("Decoded message is not valid");return e.bytes=r-a,l}var h=o.decode(n,r);switch(r+=o.decode.bytes,h>>3){case 1:l.discoveryKey=t[0].decode(n,r),r+=t[0].decode.bytes,c=!0;break;case 2:l.capability=t[0].decode(n,r),r+=t[0].decode.bytes;break;default:r=s(7&h,n,r)}}}}(),function(){var t=[i.string,i.bool];function e(e){var n=0;if(v(e.extensions))for(var r=0;r<e.extensions.length;r++)v(e.extensions[r])&&(n+=1+t[0].encodingLength(e.extensions[r]));return v(e.ack)&&(n+=1+t[1].encodingLength(e.ack)),n}c.encodingLength=e,c.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;if(v(i.extensions))for(var l=0;l<i.extensions.length;l++)v(i.extensions[l])&&(o[s++]=10,t[0].encode(i.extensions[l],o,s),s+=t[0].encode.bytes);return v(i.ack)&&(o[s++]=16,t[1].encode(i.ack,o,s),s+=t[1].encode.bytes),n.bytes=s-a,o},c.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={extensions:[],ack:!1};;){if(i<=r)return e.bytes=r-a,l;var c=o.decode(n,r);switch(r+=o.decode.bytes,c>>3){case 1:l.extensions.push(t[0].decode(n,r)),r+=t[0].decode.bytes;break;case 2:l.ack=t[1].decode(n,r),r+=t[1].decode.bytes;break;default:r=s(7&c,n,r)}}}}(),function(){var t=[i.bool];function e(e){var n=0;return v(e.uploading)&&(n+=1+t[0].encodingLength(e.uploading)),v(e.downloading)&&(n+=1+t[0].encodingLength(e.downloading)),n}h.encodingLength=e,h.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;return v(i.uploading)&&(o[s++]=8,t[0].encode(i.uploading,o,s),s+=t[0].encode.bytes),v(i.downloading)&&(o[s++]=16,t[0].encode(i.downloading,o,s),s+=t[0].encode.bytes),n.bytes=s-a,o},h.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={uploading:!1,downloading:!1};;){if(i<=r)return e.bytes=r-a,l;var c=o.decode(n,r);switch(r+=o.decode.bytes,c>>3){case 1:l.uploading=t[0].decode(n,r),r+=t[0].decode.bytes;break;case 2:l.downloading=t[0].decode(n,r),r+=t[0].decode.bytes;break;default:r=s(7&c,n,r)}}}}(),function(){var t=[i.varint,i.bytes,i.bool];function e(e){var n=0;if(!v(e.start))throw new Error("start is required");return n+=1+t[0].encodingLength(e.start),v(e.length)&&(n+=1+t[0].encodingLength(e.length)),v(e.bitfield)&&(n+=1+t[1].encodingLength(e.bitfield)),v(e.ack)&&(n+=1+t[2].encodingLength(e.ack)),n}u.encodingLength=e,u.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;if(!v(i.start))throw new Error("start is required");return o[s++]=8,t[0].encode(i.start,o,s),s+=t[0].encode.bytes,v(i.length)&&(o[s++]=16,t[0].encode(i.length,o,s),s+=t[0].encode.bytes),v(i.bitfield)&&(o[s++]=26,t[1].encode(i.bitfield,o,s),s+=t[1].encode.bytes),v(i.ack)&&(o[s++]=32,t[2].encode(i.ack,o,s),s+=t[2].encode.bytes),n.bytes=s-a,o},u.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={start:0,length:1,bitfield:null,ack:!1},c=!1;;){if(i<=r){if(!c)throw new Error("Decoded message is not valid");return e.bytes=r-a,l}var h=o.decode(n,r);switch(r+=o.decode.bytes,h>>3){case 1:l.start=t[0].decode(n,r),r+=t[0].decode.bytes,c=!0;break;case 2:l.length=t[0].decode(n,r),r+=t[0].decode.bytes;break;case 3:l.bitfield=t[1].decode(n,r),r+=t[1].decode.bytes;break;case 4:l.ack=t[2].decode(n,r),r+=t[2].decode.bytes;break;default:r=s(7&h,n,r)}}}}(),function(){var t=[i.varint];function e(e){var n=0;if(!v(e.start))throw new Error("start is required");return n+=1+t[0].encodingLength(e.start),v(e.length)&&(n+=1+t[0].encodingLength(e.length)),n}f.encodingLength=e,f.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;if(!v(i.start))throw new Error("start is required");return o[s++]=8,t[0].encode(i.start,o,s),s+=t[0].encode.bytes,v(i.length)&&(o[s++]=16,t[0].encode(i.length,o,s),s+=t[0].encode.bytes),n.bytes=s-a,o},f.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={start:0,length:1},c=!1;;){if(i<=r){if(!c)throw new Error("Decoded message is not valid");return e.bytes=r-a,l}var h=o.decode(n,r);switch(r+=o.decode.bytes,h>>3){case 1:l.start=t[0].decode(n,r),r+=t[0].decode.bytes,c=!0;break;case 2:l.length=t[0].decode(n,r),r+=t[0].decode.bytes;break;default:r=s(7&h,n,r)}}}}(),function(){var t=[i.varint];function e(e){var n=0;if(!v(e.start))throw new Error("start is required");return n+=1+t[0].encodingLength(e.start),v(e.length)&&(n+=1+t[0].encodingLength(e.length)),n}d.encodingLength=e,d.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;if(!v(i.start))throw new Error("start is required");return o[s++]=8,t[0].encode(i.start,o,s),s+=t[0].encode.bytes,v(i.length)&&(o[s++]=16,t[0].encode(i.length,o,s),s+=t[0].encode.bytes),n.bytes=s-a,o},d.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={start:0,length:0},c=!1;;){if(i<=r){if(!c)throw new Error("Decoded message is not valid");return e.bytes=r-a,l}var h=o.decode(n,r);switch(r+=o.decode.bytes,h>>3){case 1:l.start=t[0].decode(n,r),r+=t[0].decode.bytes,c=!0;break;case 2:l.length=t[0].decode(n,r),r+=t[0].decode.bytes;break;default:r=s(7&h,n,r)}}}}(),function(){var t=[i.varint];function e(e){var n=0;if(!v(e.start))throw new Error("start is required");return n+=1+t[0].encodingLength(e.start),v(e.length)&&(n+=1+t[0].encodingLength(e.length)),n}p.encodingLength=e,p.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;if(!v(i.start))throw new Error("start is required");return o[s++]=8,t[0].encode(i.start,o,s),s+=t[0].encode.bytes,v(i.length)&&(o[s++]=16,t[0].encode(i.length,o,s),s+=t[0].encode.bytes),n.bytes=s-a,o},p.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={start:0,length:0},c=!1;;){if(i<=r){if(!c)throw new Error("Decoded message is not valid");return e.bytes=r-a,l}var h=o.decode(n,r);switch(r+=o.decode.bytes,h>>3){case 1:l.start=t[0].decode(n,r),r+=t[0].decode.bytes,c=!0;break;case 2:l.length=t[0].decode(n,r),r+=t[0].decode.bytes;break;default:r=s(7&h,n,r)}}}}(),function(){var t=[i.varint,i.bool];function e(e){var n=0;if(!v(e.index))throw new Error("index is required");return n+=1+t[0].encodingLength(e.index),v(e.bytes)&&(n+=1+t[0].encodingLength(e.bytes)),v(e.hash)&&(n+=1+t[1].encodingLength(e.hash)),v(e.nodes)&&(n+=1+t[0].encodingLength(e.nodes)),n}g.encodingLength=e,g.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;if(!v(i.index))throw new Error("index is required");return o[s++]=8,t[0].encode(i.index,o,s),s+=t[0].encode.bytes,v(i.bytes)&&(o[s++]=16,t[0].encode(i.bytes,o,s),s+=t[0].encode.bytes),v(i.hash)&&(o[s++]=24,t[1].encode(i.hash,o,s),s+=t[1].encode.bytes),v(i.nodes)&&(o[s++]=32,t[0].encode(i.nodes,o,s),s+=t[0].encode.bytes),n.bytes=s-a,o},g.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={index:0,bytes:0,hash:!1,nodes:0},c=!1;;){if(i<=r){if(!c)throw new Error("Decoded message is not valid");return e.bytes=r-a,l}var h=o.decode(n,r);switch(r+=o.decode.bytes,h>>3){case 1:l.index=t[0].decode(n,r),r+=t[0].decode.bytes,c=!0;break;case 2:l.bytes=t[0].decode(n,r),r+=t[0].decode.bytes;break;case 3:l.hash=t[1].decode(n,r),r+=t[1].decode.bytes;break;case 4:l.nodes=t[0].decode(n,r),r+=t[0].decode.bytes;break;default:r=s(7&h,n,r)}}}}(),function(){var t=[i.varint,i.bool];function e(e){var n=0;if(!v(e.index))throw new Error("index is required");return n+=1+t[0].encodingLength(e.index),v(e.bytes)&&(n+=1+t[0].encodingLength(e.bytes)),v(e.hash)&&(n+=1+t[1].encodingLength(e.hash)),n}y.encodingLength=e,y.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;if(!v(i.index))throw new Error("index is required");return o[s++]=8,t[0].encode(i.index,o,s),s+=t[0].encode.bytes,v(i.bytes)&&(o[s++]=16,t[0].encode(i.bytes,o,s),s+=t[0].encode.bytes),v(i.hash)&&(o[s++]=24,t[1].encode(i.hash,o,s),s+=t[1].encode.bytes),n.bytes=s-a,o},y.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={index:0,bytes:0,hash:!1},c=!1;;){if(i<=r){if(!c)throw new Error("Decoded message is not valid");return e.bytes=r-a,l}var h=o.decode(n,r);switch(r+=o.decode.bytes,h>>3){case 1:l.index=t[0].decode(n,r),r+=t[0].decode.bytes,c=!0;break;case 2:l.bytes=t[0].decode(n,r),r+=t[0].decode.bytes;break;case 3:l.hash=t[1].decode(n,r),r+=t[1].decode.bytes;break;default:r=s(7&h,n,r)}}}}(),function(){var t=m.Node={buffer:!0,encodingLength:null,encode:null,decode:null};!function(){var e=[i.varint,i.bytes];function n(t){var n=0;if(!v(t.index))throw new Error("index is required");if(n+=1+e[0].encodingLength(t.index),!v(t.hash))throw new Error("hash is required");if(n+=1+e[1].encodingLength(t.hash),!v(t.size))throw new Error("size is required");return n+(1+e[0].encodingLength(t.size))}t.encodingLength=n,t.encode=function t(i,o,s){s||(s=0),o||(o=r.allocUnsafe(n(i)));var a=s;if(!v(i.index))throw new Error("index is required");if(o[s++]=8,e[0].encode(i.index,o,s),s+=e[0].encode.bytes,!v(i.hash))throw new Error("hash is required");if(o[s++]=18,e[1].encode(i.hash,o,s),s+=e[1].encode.bytes,!v(i.size))throw new Error("size is required");return o[s++]=24,e[0].encode(i.size,o,s),s+=e[0].encode.bytes,t.bytes=s-a,o},t.decode=function t(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={index:0,hash:null,size:0},c=!1,h=!1,u=!1;;){if(i<=r){if(!c||!h||!u)throw new Error("Decoded message is not valid");return t.bytes=r-a,l}var f=o.decode(n,r);switch(r+=o.decode.bytes,f>>3){case 1:l.index=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;case 2:l.hash=e[1].decode(n,r),r+=e[1].decode.bytes,h=!0;break;case 3:l.size=e[0].decode(n,r),r+=e[0].decode.bytes,u=!0;break;default:r=s(7&f,n,r)}}}}();var e=[i.varint,i.bytes,t];function n(t){var n=0;if(!v(t.index))throw new Error("index is required");if(n+=1+(i=e[0].encodingLength(t.index)),v(t.value)&&(n+=1+(i=e[1].encodingLength(t.value))),v(t.nodes))for(var r=0;r<t.nodes.length;r++)if(v(t.nodes[r])){var i=e[2].encodingLength(t.nodes[r]);n+=o.encodingLength(i),n+=1+i}return v(t.signature)&&(n+=1+(i=e[1].encodingLength(t.signature))),n}m.encodingLength=n,m.encode=function t(i,s,a){a||(a=0),s||(s=r.allocUnsafe(n(i)));var l=a;if(!v(i.index))throw new Error("index is required");if(s[a++]=8,e[0].encode(i.index,s,a),a+=e[0].encode.bytes,v(i.value)&&(s[a++]=18,e[1].encode(i.value,s,a),a+=e[1].encode.bytes),v(i.nodes))for(var c=0;c<i.nodes.length;c++)v(i.nodes[c])&&(s[a++]=26,o.encode(e[2].encodingLength(i.nodes[c]),s,a),a+=o.encode.bytes,e[2].encode(i.nodes[c],s,a),a+=e[2].encode.bytes);return v(i.signature)&&(s[a++]=34,e[1].encode(i.signature,s,a),a+=e[1].encode.bytes),t.bytes=a-l,s},m.decode=function t(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={index:0,value:null,nodes:[],signature:null},c=!1;;){if(i<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-a,l}var h=o.decode(n,r);switch(r+=o.decode.bytes,h>>3){case 1:l.index=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;case 2:l.value=e[1].decode(n,r),r+=e[1].decode.bytes;break;case 3:var u=o.decode(n,r);r+=o.decode.bytes,l.nodes.push(e[2].decode(n,r,r+u)),r+=e[2].decode.bytes;break;case 4:l.signature=e[1].decode(n,r),r+=e[1].decode.bytes;break;default:r=s(7&h,n,r)}}}}(),function(){var t=[i.bytes];function e(e){var n=0;return v(e.discoveryKey)&&(n+=1+t[0].encodingLength(e.discoveryKey)),n}b.encodingLength=e,b.encode=function n(i,o,s){s||(s=0),o||(o=r.allocUnsafe(e(i)));var a=s;return v(i.discoveryKey)&&(o[s++]=10,t[0].encode(i.discoveryKey,o,s),s+=t[0].encode.bytes),n.bytes=s-a,o},b.decode=function e(n,r,i){if(r||(r=0),i||(i=n.length),!(i<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");for(var a=r,l={discoveryKey:null};;){if(i<=r)return e.bytes=r-a,l;var c=o.decode(n,r);r+=o.decode.bytes,1==c>>3?(l.discoveryKey=t[0].decode(n,r),r+=t[0].decode.bytes):r=s(7&c,n,r)}}}()},6657:t=>{t.exports=function t(e,n){var r,i=0,o=0,s=n=n||0,a=e.length;do{if(s>=a)throw t.bytes=0,new RangeError("Could not decode varint");r=e[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return t.bytes=s-n,i}},8141:t=>{t.exports=function t(n,r,i){r=r||[];for(var o=i=i||0;n>=e;)r[i++]=255&n|128,n/=128;for(;-128&n;)r[i++]=255&n|128,n>>>=7;return r[i]=0|n,t.bytes=i-o+1,r};var e=Math.pow(2,31)},3400:(t,e,n)=>{t.exports={encode:n(8141),decode:n(6657),encodingLength:n(3401)}},3401:t=>{var e=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),l=Math.pow(2,56),c=Math.pow(2,63);t.exports=function(t){return t<e?1:t<n?2:t<r?3:t<i?4:t<o?5:t<s?6:t<a?7:t<l?8:t<c?9:10}},5501:(t,e,n)=>{var r=n(8764).Buffer;const i=n(2315);t.exports=class{constructor({maxSize:t=8388608,context:e=null,onmessage:n=null,onmissing:r=null,types:i=null}={}){this._message=null,this._ptr=0,this._varint=0,this._factor=1,this._length=0,this._header=0,this._state=0,this._consumed=0,this._maxSize=t,this._types=i||[],this.receiving=!1,this.destroyed=!1,this.error=null,this.context=e,this.onmessage=n,this.onmissing=r}destroy(t){t&&(this.error=t),this.destroyed=!0}recv(t){if(!0===this.receiving)throw new Error("Cannot recursively receive data");this.receiving=!0;let e=0;for(;e<t.length;)e=2===this._state?this._readMessage(t,e):this._readVarint(t,e);return 2===this._state&&0===this._length&&this._readMessage(t,e),this.receiving=!1,!this.destroyed}_readMessage(t,e){const n=t.length-e;return n>=this._length?(this._message?t.copy(this._message,this._message.length-this._length,e):this._message=t.slice(e,e+this._length),this._nextState(t,e+=this._length)?e:t.length):(this._message||(this._message=r.allocUnsafe(this._length)),t.copy(this._message,this._message.length-this._length,e),this._length-=n,t.length)}_readVarint(t,e){for(;e<t.length;e++){if(this._varint+=(127&t[e])*this._factor,this._consumed++,t[e]<128)return this._nextState(t,++e)?e:t.length;this._factor*=128}return this._consumed>=8&&this.destroy(new Error("Incoming varint is invalid")),t.length}_nextState(t,e){switch(this._state){case 0:return this._state=1,this._factor=1,this._length=this._varint,this._consumed=this._varint=0,0===this._length&&(this._state=0),!0;case 1:if(this._state=2,this._factor=1,this._header=this._varint,this._length-=this._consumed,this._consumed=this._varint=0,this._length<0||this._length>this._maxSize)return this.destroy(new Error("Incoming message is larger than max size")),!1;if(this.onmissing){const n=t.length-e;this._length>n&&this.onmissing(this._length-n,this.context)}return!0;case 2:return this._state=0,this._onmessage(this._header>>4,15&this._header,this._message,t,e),this._message=null,!this.destroyed;default:return!1}}_onmessage(t,e,n,r,i){if(e>=this._types.length){if(null===this.onmessage)return;return this.onmessage(t,e,n,this.context,r,i)}let o=null;const{onmessage:s,encoding:a,context:l}=this._types[e];try{o=a.decode(n)}catch(t){return void this.destroy(t)}s(t,o,l,r,i)}send(t,e,n){const o=t<<4|e,s=this._encodingLength(e,n)+i.encodingLength(o),a=r.allocUnsafe(i.encodingLength(s)+s);i.encode(s,a,0);const l=i.encode.bytes;return i.encode(o,a,l),this._encode(e,n,a,l+i.encode.bytes),a}sendBatch(t){let e=0,n=0;for(const{type:n,message:r}of t)e+=16+this._encodingLength(n,r);const o=r.allocUnsafe(e);for(const{channel:e,type:r,message:s}of t){const t=e<<4|r,a=this._encodingLength(r,s)+i.encodingLength(t);i.encode(a,o,n),n+=i.encode.bytes,i.encode(t,o,n),n+=i.encode.bytes,n+=this._encode(r,s,o,n)}return o.slice(0,n)}_encodingLength(t,e){return t>=this._types.length?e.length:this._types[t].encoding.encodingLength(e)}_encode(t,e,n,r){if(t>=this._types.length)return e.copy(n,r),e.length;const i=this._types[t].encoding;return i.encode(e,n,r),i.encode.bytes}}},9271:t=>{t.exports=function t(e,n){var r,i=0,o=0,s=n=n||0,a=e.length;do{if(s>=a)throw t.bytes=0,new RangeError("Could not decode varint");r=e[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return t.bytes=s-n,i}},2770:t=>{t.exports=function t(n,r,i){r=r||[];for(var o=i=i||0;n>=e;)r[i++]=255&n|128,n/=128;for(;-128&n;)r[i++]=255&n|128,n>>>=7;return r[i]=0|n,t.bytes=i-o+1,r};var e=Math.pow(2,31)},2315:(t,e,n)=>{t.exports={encode:n(2770),decode:n(9271),encodingLength:n(1719)}},1719:t=>{var e=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),l=Math.pow(2,56),c=Math.pow(2,63);t.exports=function(t){return t<e?1:t<n?2:t<r?3:t<i?4:t<o?5:t<s?6:t<a?7:t<l?8:t<c?9:10}},8853:(t,e,n)=>{const r=n(2488)("simple-peer"),i=n(5177),o=n(1798),s=n(8473),a=n(9665),l=n(2114),{Buffer:c}=n(8764),h=65536;function u(t){return t.replace(/a=ice-options:trickle\s\n/g,"")}class f extends s.Duplex{constructor(t){if(super(t=Object.assign({allowHalfOpen:!1},t)),this._id=o(4).toString("hex").slice(0,7),this._debug("new peer %o",t),this.channelName=t.initiator?t.channelName||o(20).toString("hex"):null,this.initiator=t.initiator||!1,this.channelConfig=t.channelConfig||f.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},f.config,t.config),this.offerOptions=t.offerOptions||{},this.answerOptions=t.answerOptions||{},this.sdpTransform=t.sdpTransform||(t=>t),this.streams=t.streams||(t.stream?[t.stream]:[]),this.trickle=void 0===t.trickle||t.trickle,this.allowHalfTrickle=void 0!==t.allowHalfTrickle&&t.allowHalfTrickle,this.iceCompleteTimeout=t.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=t.wrtc&&"object"==typeof t.wrtc?t.wrtc:i(),!this._wrtc)throw"undefined"==typeof window?l(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):l(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(t){return void this.destroy(l(t,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=t=>{this._onIceCandidate(t)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch((t=>{this.destroy(l(t,"ERR_PC_PEER_IDENTITY"))})),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=t=>{this._setupData(t)},this.streams&&this.streams.forEach((t=>{this.addStream(t)})),this._pc.ontrack=t=>{this._onTrack(t)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then((()=>{this.destroyed||(this._pendingCandidates.forEach((t=>{this._addIceCandidate(t)})),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())})).catch((t=>{this.destroy(l(t,"ERR_SET_REMOTE_DESCRIPTION"))})),t.sdp||t.candidate||t.renegotiate||t.transceiverRequest||this.destroy(l(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(t){const e=new this._wrtc.RTCIceCandidate(t);this._pc.addIceCandidate(e).catch((t=>{!e.address||e.address.endsWith(".local")?("Ignoring unsupported ICE candidate.",console.warn("Ignoring unsupported ICE candidate.")):this.destroy(l(t,"ERR_ADD_ICE_CANDIDATE"))}))}send(t){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(t)}}addTransceiver(t,e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,e),this._needsNegotiation()}catch(t){this.destroy(l(t,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:t,init:e}})}}addStream(t){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach((e=>{this.addTrack(e,t)}))}}addTrack(t,e){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const n=this._senderMap.get(t)||new Map;let r=n.get(e);if(r)throw r.removed?l(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):l(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");r=this._pc.addTrack(t,e),n.set(e,r),this._senderMap.set(t,n),this._needsNegotiation()}replaceTrack(t,e,n){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const r=this._senderMap.get(t),i=r?r.get(n):null;if(!i)throw l(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");e&&this._senderMap.set(e,r),null!=i.replaceTrack?i.replaceTrack(e):this.destroy(l(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,e){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const n=this._senderMap.get(t),r=n?n.get(e):null;if(!r)throw l(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{r.removed=!0,this._pc.removeTrack(r)}catch(t){"NS_ERROR_UNEXPECTED"===t.name?this._sendersAwaitingStable.push(r):this.destroy(l(t,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach((e=>{this.removeTrack(e,t)}))}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,a((()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1})))}negotiate(){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((()=>{this._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(t){this._destroy(t,(()=>{}))}_destroy(t,e){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",t&&(t.message||t)),a((()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(t){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(t){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close"),e()})))}_setupData(t){if(!t.channel)return this.destroy(l(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=t.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=h),this.channelName=this._channel.label,this._channel.onmessage=t=>{this._onChannelMessage(t)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=t=>{const e=t.error instanceof Error?t.error:new Error(`Datachannel error: ${t.message} ${t.filename}:${t.lineno}:${t.colno}`);this.destroy(l(e,"ERR_DATA_CHANNEL"))};let e=!1;this._closingInterval=setInterval((()=>{this._channel&&"closing"===this._channel.readyState?(e&&this._onChannelClose(),e=!0):e=!1}),5e3)}_read(){}_write(t,e,n){if(this.destroyed)return n(l(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(t)}catch(t){return this.destroy(l(t,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>h?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=t,this._cb=n}_onFinish(){if(this.destroyed)return;const t=()=>{setTimeout((()=>this.destroy()),1e3)};this._connected?t():this.once("connect",t)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))}),this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then((t=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(t.sdp=u(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const e=()=>{if(this.destroyed)return;const e=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:e.type,sdp:e.sdp})};this._pc.setLocalDescription(t).then((()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?e():this.once("_iceComplete",e))})).catch((t=>{this.destroy(l(t,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((t=>{this.destroy(l(t,"ERR_CREATE_OFFER"))}))}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach((t=>{t.mid||!t.sender.track||t.requested||(t.requested=!0,this.addTransceiver(t.sender.track.kind))}))}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then((t=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(t.sdp=u(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const e=()=>{if(this.destroyed)return;const e=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:e.type,sdp:e.sdp}),this.initiator||this._requestMissingTransceivers()};this._pc.setLocalDescription(t).then((()=>{this.destroyed||(this.trickle||this._iceComplete?e():this.once("_iceComplete",e))})).catch((t=>{this.destroy(l(t,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((t=>{this.destroy(l(t,"ERR_CREATE_ANSWER"))}))}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(l(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const t=this._pc.iceConnectionState,e=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",t,e),this.emit("iceStateChange",t,e),"connected"!==t&&"completed"!==t||(this._pcReady=!0,this._maybeReady()),"failed"===t&&this.destroy(l(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===t&&this.destroy(l(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(t){const e=t=>("[object Array]"===Object.prototype.toString.call(t.values)&&t.values.forEach((e=>{Object.assign(t,e)})),t);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((n=>{const r=[];n.forEach((t=>{r.push(e(t))})),t(null,r)}),(e=>t(e))):this._pc.getStats.length>0?this._pc.getStats((n=>{if(this.destroyed)return;const r=[];n.result().forEach((t=>{const n={};t.names().forEach((e=>{n[e]=t.stat(e)})),n.id=t.id,n.type=t.type,n.timestamp=t.timestamp,r.push(e(n))})),t(null,r)}),(e=>t(e))):t(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const t=()=>{this.destroyed||this.getStats(((e,n)=>{if(this.destroyed)return;e&&(n=[]);const r={},i={},o={};let s=!1;n.forEach((t=>{"remotecandidate"!==t.type&&"remote-candidate"!==t.type||(r[t.id]=t),"localcandidate"!==t.type&&"local-candidate"!==t.type||(i[t.id]=t),"candidatepair"!==t.type&&"candidate-pair"!==t.type||(o[t.id]=t)}));const a=t=>{s=!0;let e=i[t.localCandidateId];e&&(e.ip||e.address)?(this.localAddress=e.ip||e.address,this.localPort=Number(e.port)):e&&e.ipAddress?(this.localAddress=e.ipAddress,this.localPort=Number(e.portNumber)):"string"==typeof t.googLocalAddress&&(e=t.googLocalAddress.split(":"),this.localAddress=e[0],this.localPort=Number(e[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let n=r[t.remoteCandidateId];n&&(n.ip||n.address)?(this.remoteAddress=n.ip||n.address,this.remotePort=Number(n.port)):n&&n.ipAddress?(this.remoteAddress=n.ipAddress,this.remotePort=Number(n.portNumber)):"string"==typeof t.googRemoteAddress&&(n=t.googRemoteAddress.split(":"),this.remoteAddress=n[0],this.remotePort=Number(n[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach((t=>{"transport"===t.type&&t.selectedCandidatePairId&&a(o[t.selectedCandidatePairId]),("googCandidatePair"===t.type&&"true"===t.googActiveConnection||("candidatepair"===t.type||"candidate-pair"===t.type)&&t.selected)&&a(t)})),s||Object.keys(o).length&&!Object.keys(i).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(e){return this.destroy(l(e,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const t=this._cb;this._cb=null,t(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval((()=>this._onInterval()),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(t,100)}))};t()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>h||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((t=>{this._pc.removeTrack(t),this._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):t.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),t.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(this.destroyed)return;let e=t.data;e instanceof ArrayBuffer&&(e=c.from(e)),this.push(e)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const t=this._cb;this._cb=null,t(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(t){this.destroyed||t.streams.forEach((e=>{this._debug("on track"),this.emit("track",t.track,e),this._remoteTracks.push({track:t.track,stream:e}),this._remoteStreams.some((t=>t.id===e.id))||(this._remoteStreams.push(e),a((()=>{this._debug("on stream"),this.emit("stream",e)})))}))}_debug(){const t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],r.apply(null,t)}}f.WEBRTC_SUPPORT=!!i(),f.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},f.channelConfig={},t.exports=f},2488:(t,e,n)=>{var r=n(4155);e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))})),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=n(9474)(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},9474:(t,e,n)=>{t.exports=function(t){function e(t){let n,i,o,s=null;function a(...t){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=e.formatters[i];if("function"==typeof o){const e=t[s];n=o.call(r,e),t.splice(s,1),s--}return n})),e.formatArgs.call(r,t),(r.log||e.log).apply(r,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=r,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function r(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function i(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(i),...e.skips.map(i).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(5673),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}},5673:t=>{var e=1e3,n=60*e,r=60*n,i=24*r;function o(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,s){s=s||{};var a,l,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===c&&isFinite(t))return s.long?(a=t,(l=Math.abs(a))>=i?o(a,l,i,"day"):l>=r?o(a,l,r,"hour"):l>=n?o(a,l,n,"minute"):l>=e?o(a,l,e,"second"):a+" ms"):function(t){var o=Math.abs(t);return o>=i?Math.round(t/i)+"d":o>=r?Math.round(t/r)+"h":o>=n?Math.round(t/n)+"m":o>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},8937:t=>{function e(t,e){var n=t.l+e.l,r={h:t.h+e.h+(n/2>>>31)>>>0,l:n>>>0};t.h=r.h,t.l=r.l}function n(t,e){t.h^=e.h,t.h>>>=0,t.l^=e.l,t.l>>>=0}function r(t,e){var n={h:t.h<<e|t.l>>>32-e,l:t.l<<e|t.h>>>32-e};t.h=n.h,t.l=n.l}function i(t){var e=t.l;t.l=t.h,t.h=e}function o(t,o,s,a){e(t,o),e(s,a),r(o,13),r(a,16),n(o,t),n(a,s),i(t),e(s,o),e(t,a),r(o,17),r(a,21),n(o,s),n(a,t),i(s)}function s(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}t.exports=function(t,e,r){var i,a={h:s(r,4),l:s(r,0)},l={h:s(r,12),l:s(r,8)},c={h:a.h,l:a.l},h=a,u={h:l.h,l:l.l},f=l,d=0,p=e.length,g=p-7,y=new Uint8Array(new ArrayBuffer(8));for(n(c,{h:1936682341,l:1886610805}),n(u,{h:1685025377,l:1852075885}),n(h,{h:1819895653,l:1852142177}),n(f,{h:1952801890,l:2037671283});d<g;)n(f,i={h:s(e,d+4),l:s(e,d)}),o(c,u,h,f),o(c,u,h,f),n(c,i),d+=8;y[7]=p;for(var m=0;d<p;)y[m++]=e[d++];for(;m<7;)y[m++]=0;n(f,i={h:y[7]<<24|y[6]<<16|y[5]<<8|y[4],l:y[3]<<24|y[2]<<16|y[1]<<8|y[0]}),o(c,u,h,f),o(c,u,h,f),n(c,i),n(h,{h:0,l:255}),o(c,u,h,f),o(c,u,h,f),o(c,u,h,f),o(c,u,h,f);var b=c;n(b,u),n(b,h),n(b,f),t[0]=255&b.l,t[1]=b.l>>8&255,t[2]=b.l>>16&255,t[3]=b.l>>24&255,t[4]=255&b.h,t[5]=b.h>>8&255,t[6]=b.h>>16&255,t[7]=b.h>>24&255}},2976:(t,e,n)=>{var r=n(9204),i="undefined"!=typeof WebAssembly&&n(1044)(),o=n(8937);t.exports=c;var s=c.BYTES=8,a=c.KEYBYTES=16;c.WASM_SUPPORTED=!!i,c.WASM_LOADED=!!i;var l=new Uint8Array(i?i.memory.buffer:0);function c(t,e,n,c){var h;return n||(n=new Uint8Array(8)),!0!==c&&(r(n.length>=s,"output must be at least "+s),r(e.length>=a,"key must be at least "+a)),i?(t.length+24>l.length&&(h=t.length+24,i.memory.grow(Math.max(0,Math.ceil(Math.abs(h-l.length)/65536))),l=new Uint8Array(i.memory.buffer)),l.set(e,8),l.set(t,24),i.siphash(24,t.length),n.set(l.subarray(0,8))):o(n,t,e),n}},1044:t=>{var e,n,r=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var n=e.length,r=new Uint8Array(3*(n-("="==e[n-1])-("="==e[n-2]))/4|0),i=0,o=0;i<n;){var s=t[e.charCodeAt(i++)],a=t[e.charCodeAt(i++)],l=t[e.charCodeAt(i++)],c=t[e.charCodeAt(i++)];r[o++]=s<<2|a>>4,r[o++]=a<<4|l>>2,r[o++]=l<<6|c}return r}})(),i=(e={"wasm-binary:./siphash24.wat"(t,e){e.exports=r("AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=")}},function(){return n||(0,e[Object.keys(e)[0]])((n={exports:{}}).exports,n),n.exports})(),o=new WebAssembly.Module(i);t.exports=t=>new WebAssembly.Instance(o,t).exports},5658:(t,e,n)=>{const{crypto_stream_chacha20_ietf:r,crypto_stream_chacha20_ietf_xor_ic:i}=n(1777),{crypto_verify_16:o}=n(5157),s=n(1593),a=n(9204),l=16,c=Number.MAX_SAFE_INTEGER,h=new Uint8Array(16);function u(t,e,n,o,f,p,g){if(null===o)return u(t,e,n,new Uint8Array(0),f,p,g);a(t.byteLength===n.byteLength,"ciphertext should be same length than message"),a(12===p.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),a(32===g.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),a(n.byteLength<=c,"message is too large"),a(e.byteLength<=l,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");const y=new Uint8Array(64);var m=new Uint8Array(8);r(y,p,g);const b=new s(y);return y.fill(0),b.update(o,0,o.byteLength),b.update(h,0,16-o.byteLength&15),i(t,n,p,1,g),b.update(t,0,n.byteLength),b.update(h,0,16-n.byteLength&15),d(m,0,o.byteLength),b.update(m,0,m.byteLength),d(m,0,n.byteLength),b.update(m,0,m.byteLength),b.finish(e,0),m.fill(0),l}function f(t,e,n,u,p,g,y){if(null===p)return f(t,e,n,u,new Uint8Array(0),g,y);a(n.byteLength===t.byteLength,"message should be same length than ciphertext"),a(12===g.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),a(32===y.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),a(t.byteLength<=c,"message is too large"),a(u.byteLength<=l,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");const m=new Uint8Array(64),b=new Uint8Array(8),v=new Uint8Array(l);r(m,g,y);const A=new s(m);m.fill(0),A.update(p,0,p.byteLength),A.update(h,0,16-p.byteLength&15);const w=n.byteLength;A.update(n,0,w),A.update(h,0,16-w&15),d(b,0,p.byteLength),A.update(b,0,b.byteLength),d(b,0,w),A.update(b,0,b.byteLength),A.finish(v,0),a(16===v.byteLength);const _=o(v,0,u,0);if(v.fill(0),b.fill(0),!_)throw t.fill(0),new Error("could not verify data");i(t,n,g,1,y)}function d(t,e,n){t.fill(0,0,8);const r=new DataView(t.buffer,t.byteOffset,t.byteLength);r.setUint32(e,4294967295&n,!0),r.setUint32(e+4,n/2**32&4294967295,!0)}t.exports={crypto_aead_chacha20poly1305_ietf_encrypt:function t(e,n,r,i,o,s){if(null===r)return t(e,n,new Uint8Array(0),i,o,s);a(e.byteLength===n.byteLength+l,"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message"),a(12===o.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),a(32===s.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),a(n.byteLength<=c,"message is too large");const h=u(e.subarray(0,n.byteLength),e.subarray(n.byteLength),n,r,i,o,s);return n.byteLength+h},crypto_aead_chacha20poly1305_ietf_encrypt_detached:u,crypto_aead_chacha20poly1305_ietf_decrypt:function t(e,n,r,i,o,s){if(null===i)return t(e,n,r,new Uint8Array(0),o,s);if(a(e.byteLength===r.byteLength-l,"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext"),a(12===o.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),a(32===s.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),a(e.byteLength<=c,"message is too large"),r.byteLength<l)throw new Error("could not verify data");return f(e,n,r.subarray(0,r.byteLength-l),r.subarray(r.byteLength-l),i,o,s),r.byteLength-l},crypto_aead_chacha20poly1305_ietf_decrypt_detached:f,crypto_aead_chacha20poly1305_ietf_ABYTES:l,crypto_aead_chacha20poly1305_ietf_KEYBYTES:32,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:12,crypto_aead_chacha20poly1305_ietf_NSECBYTES:0,crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX:c}},5962:(t,e,n)=>{const{crypto_verify_32:r}=n(5157),i=n(1246),o=n(9204);t.exports={crypto_auth_BYTES:32,crypto_auth_KEYBYTES:32,crypto_auth:function(t,e,n){o(32===t.byteLength,"out should be 'crypto_auth_BYTES' in length"),o(32===n.byteLength,"key should be 'crypto_auth_KEYBYTES' in length");const r=new Uint8Array(64),s=i.HMAC(n);s.update(e),s.digest(r),t.set(r.subarray(0,32))},crypto_auth_verify:function(t,e,n){o(32===t.byteLength,"h should be 'crypto_auth_BYTES' in length"),o(32===n.byteLength,"key should be 'crypto_auth_KEYBYTES' in length");const s=i.HMAC(n).update(e).digest();return r(t,0,s,0)}}},4701:(t,e,n)=>{const{crypto_hash_sha512:r}=n(4426),{crypto_scalarmult:i,crypto_scalarmult_base:o}=n(9261),{randombytes:s}=n(2407),{crypto_generichash_batch:a}=n(1140),{crypto_stream_xsalsa20_MESSAGEBYTES_MAX:l}=n(6600),{crypto_secretbox_open_easy:c,crypto_secretbox_easy:h,crypto_secretbox_detached:u,crypto_secretbox_open_detached:f}=n(6539),d=n(4559),p=n(9204),g=32,y=32,m=16,b=l-16;function v(t,e){return w(t,g),w(e,y),s(e,32),o(t,e)}function A(t,e,n){const r=new Uint8Array(16),o=new Uint8Array(32);return p(0===i(o,n,e)),d.core_hsalsa20(t,r,o,d.SIGMA),!0}function w(t,e){if(!t||e&&t.length<e)throw new Error("Argument must be a buffer"+(e?" of length "+e:""))}function _(t){for(let e=0;e<t.length;e++)t[e]=0}t.exports={crypto_box_easy:function(t,e,n,r,i){return p(t.length>=e.length+m,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),p(e.length<=b,"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes"),function(t,e,n,r,i,o){w(e,m),w(r,24),w(i,g),w(o,y);const s=new Uint8Array(32);p(A(s,i,o));const a=function(t,e,n,r,i){return u(t,e,n,r,i)}(t,e,n,r,s);return _(s),a}(t.subarray(m,e.length+m),t.subarray(0,m),e,n,r,i)},crypto_box_open_easy:function(t,e,n,r,i){return p(e.length>=t.length+m,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),function(t,e,n,r,i,o){const s=new Uint8Array(32);p(A(s,i,o));const a=function(t,e,n,r,i){return f(t,e,n,r,i)}(t,e,n,r,s);return _(s),a}(t,e.subarray(m,t.length+m),e.subarray(0,m),n,r,i)},crypto_box_keypair:v,crypto_box_seed_keypair:function(t,e,n){p(t.byteLength===g,"pk should be 'crypto_box_PUBLICKEYBYTES' bytes"),p(e.byteLength===y,"sk should be 'crypto_box_SECRETKEYBYTES' bytes"),p(32===e.byteLength,"sk should be 'crypto_box_SEEDBYTES' bytes");const i=new Uint8Array(64);return r(i,n,32),e.set(i.subarray(0,32)),i.fill(0),o(t,e)},crypto_box_seal:function(t,e,n){w(t,48+e.length),w(n,g);var r=t.subarray(0,g),o=new Uint8Array(y);v(r,o);var s=new Uint8Array(24);a(s,[r,n]);var l=new Uint8Array(g);i(l,o,n);var c=new Uint8Array(32),u=new Uint8Array(16);d.core_hsalsa20(c,u,l,d.SIGMA),h(t.subarray(r.length),e,s,c),_(o)},crypto_box_seal_open:function(t,e,n,r){w(e,48),w(t,e.length-48),w(n,g),w(r,y);var o=e.subarray(0,g),s=new Uint8Array(24);a(s,[o,n]);var l=new Uint8Array(g);i(l,r,o);var h=new Uint8Array(32),u=new Uint8Array(16);return d.core_hsalsa20(h,u,l,d.SIGMA),c(t,e.subarray(o.length),s,h)},crypto_box_PUBLICKEYBYTES:g,crypto_box_SECRETKEYBYTES:y,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_box_SEALBYTES:48,crypto_box_SEEDBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_MACBYTES:m}},1140:(t,e,n)=>{var r=n(7462);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");t.exports.crypto_generichash_PRIMITIVE="blake2b",t.exports.crypto_generichash_BYTES_MIN=r.BYTES_MIN,t.exports.crypto_generichash_BYTES_MAX=r.BYTES_MAX,t.exports.crypto_generichash_BYTES=r.BYTES,t.exports.crypto_generichash_KEYBYTES_MIN=r.KEYBYTES_MIN,t.exports.crypto_generichash_KEYBYTES_MAX=r.KEYBYTES_MAX,t.exports.crypto_generichash_KEYBYTES=r.KEYBYTES,t.exports.crypto_generichash_WASM_SUPPORTED=r.WASM_SUPPORTED,t.exports.crypto_generichash_WASM_LOADED=!1,t.exports.crypto_generichash=function(t,e,n){r(t.length,n).update(e).final(t)},t.exports.crypto_generichash_ready=r.ready,t.exports.crypto_generichash_batch=function(t,e,n){for(var i=r(t.length,n),o=0;o<e.length;o++)i.update(e[o]);i.final(t)},t.exports.crypto_generichash_instance=function(e,n){return null==n&&(n=t.exports.crypto_generichash_BYTES),r(n,e)},r.ready((function(e){t.exports.crypto_generichash_WASM_LOADED=r.WASM_LOADED}))},4426:(t,e,n)=>{const r=n(1246),i=n(9204);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function o(t,e,n){return i(64===t.byteLength,"out must be 'crypto_hash_sha512_BYTES' bytes long"),r().update(e.subarray(0,n)).digest(t),0}t.exports={crypto_hash:function(t,e,n){return o(t,e,n)},crypto_hash_sha512:o,crypto_hash_sha512_BYTES:64,crypto_hash_BYTES:64}},4335:(t,e,n)=>{const r=n(3553),i=n(9204);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");t.exports={crypto_hash_sha256:function(t,e,n){return i(32===t.byteLength,"out must be 'crypto_hash_sha256_BYTES' bytes long"),r().update(e.subarray(0,n)).digest(t),0},crypto_hash_sha256_BYTES:32}},2466:(t,e,n)=>{const r=n(9204),i=n(2407).randombytes_buf,o=n(7462);t.exports.crypto_kdf_PRIMITIVE="blake2b",t.exports.crypto_kdf_BYTES_MIN=16,t.exports.crypto_kdf_BYTES_MAX=64,t.exports.crypto_kdf_CONTEXTBYTES=8,t.exports.crypto_kdf_KEYBYTES=32,t.exports.crypto_kdf_derive_from_key=function(e,n,i,s){r(e.length>=t.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),r(n>=0&&n<=9007199254740991,"subkey_id must be safe integer"),r(i.length>=t.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var a=new Uint8Array(o.PERSONALBYTES),l=new Uint8Array(o.SALTBYTES);a.set(i,0,t.exports.crypto_kdf_CONTEXTBYTES),function(t,e){var n=1,r=0;for(t[0]=255&e;++r<8&&(n*=256);)t[r]=e/n&255}(l,n);var c=Math.min(e.length,t.exports.crypto_kdf_BYTES_MAX);o(c,s.subarray(0,t.exports.crypto_kdf_KEYBYTES),l,a,!0).final(e)},t.exports.crypto_kdf_keygen=function(e){r(e.length>=t.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),i(e.subarray(0,t.exports.crypto_kdf_KEYBYTES))}},3979:(t,e,n)=>{const{crypto_scalarmult_base:r}=n(9261),{crypto_generichash:i}=n(1140),{randombytes_buf:o}=n(2407),s=n(9204);t.exports={crypto_kx_keypair:function(t,e){return s(32===t.byteLength,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),s(32===e.byteLength,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),o(e,32),r(t,e)},crypto_kx_seed_keypair:function(t,e,n){return s(32===t.byteLength,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),s(32===e.byteLength,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),s(32===n.byteLength,"seed must be 'crypto_kx_SEEDBYTES' bytes"),i(e,n),r(t,e)},crypto_kx_SEEDBYTES:32,crypto_kx_SECRETKEYBYTES:32,crypto_kx_PUBLICKEYBYTES:32}},855:(t,e,n)=>{const r=n(9204),i=n(1593),{crypto_verify_16:o}=n(5157);function s(t,e,n){r(16===t.byteLength,"mac must be 'crypto_onetimeauth_BYTES' bytes"),r(null!=e.byteLength,"msg must be buffer"),r(32===n.byteLength,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var o=new i(n);o.update(e,0,e.byteLength),o.finish(t,0)}t.exports={crypto_onetimeauth:s,crypto_onetimeauth_verify:function(t,e,n){r(16===t.byteLength,"mac must be 'crypto_onetimeauth_BYTES' bytes"),r(null!=e.byteLength,"msg must be buffer"),r(32===n.byteLength,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var i=new Uint8Array(16);return s(i,e,n),o(t,0,i,0)},crypto_onetimeauth_BYTES:16,crypto_onetimeauth_KEYBYTES:32,crypto_onetimeauth_PRIMITIVE:"poly1305"}},9261:(t,e,n)=>{const{_9:r,_121665:i,gf:o,inv25519:s,pack25519:a,unpack25519:l,sel25519:c,A:h,M:u,Z:f,S:d}=n(6706);function p(t,e,n){g(t,32),g(e,32),g(n,32);var r,p,y=new Uint8Array(32),m=new Float64Array(80),b=o(),v=o(),A=o(),w=o(),_=o(),I=o();for(p=0;p<31;p++)y[p]=e[p];for(y[31]=127&e[31]|64,y[0]&=248,l(m,n),p=0;p<16;p++)v[p]=m[p],w[p]=b[p]=A[p]=0;for(b[0]=w[0]=1,p=254;p>=0;--p)r=y[p>>>3]>>>(7&p)&1,c(b,v,r),c(A,w,r),h(_,b,A),f(b,b,A),h(A,v,w),f(v,v,w),d(w,_),d(I,b),u(b,A,b),u(A,v,_),h(_,b,A),f(b,b,A),d(v,b),f(A,w,I),u(b,A,i),h(b,b,w),u(A,A,b),u(b,w,I),u(w,v,m),d(v,_),c(b,v,r),c(A,w,r);for(p=0;p<16;p++)m[p+16]=b[p],m[p+32]=A[p],m[p+48]=v[p],m[p+64]=w[p];var E=m.subarray(32),C=m.subarray(16);return s(E,E),u(C,C,E),a(t,C),0}function g(t,e){if(!t||e&&t.length<e)throw new Error("Argument must be a buffer"+(e?" of length "+e:""))}t.exports={crypto_scalarmult:p,crypto_scalarmult_base:function(t,e){return p(t,e,r)},crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32}},6539:(t,e,n)=>{const r=n(9204),{crypto_stream:i,crypto_stream_xor:o}=n(6600),{crypto_onetimeauth:s,crypto_onetimeauth_verify:a,crypto_onetimeauth_BYTES:l,crypto_onetimeauth_KEYBYTES:c}=n(855),h=32,u=24,f=32,d=16;function p(t,e,n,i){r(t.byteLength===e.byteLength,"c must be 'm.byteLength' bytes");const a=e.byteLength;r(a>=f,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),r(n.byteLength===u,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(i.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes"),o(t,e,n,i),s(t.subarray(d,d+l),t.subarray(d+l,t.byteLength),t.subarray(0,c)),t.fill(0,0,d)}function g(t,e,n,s){r(e.byteLength===t.byteLength,"c must be 'm.byteLength' bytes");const p=t.byteLength;r(p>=f,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),r(n.byteLength===u,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(s.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes");const g=new Uint8Array(c);return i(g,n,s),!1!==a(e.subarray(d,d+l),e.subarray(d+l,e.byteLength),g)&&(o(t,e,n,s),t.fill(0,0,32),!0)}function y(t,e,n,i){r(t.byteLength===e.byteLength+16,"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),r(n.byteLength===u,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(i.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(f+e.byteLength),s=new Uint8Array(o.byteLength);o.set(e,f),p(s,o,n,i),t.set(s.subarray(d))}function m(t,e,n,i){r(e.byteLength===t.byteLength+16,"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),r(n.byteLength===u,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(i.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(d+e.byteLength),s=new Uint8Array(o.byteLength);return o.set(e,d),!1!==g(s,o,n,i)&&(t.set(s.subarray(f)),!0)}t.exports={crypto_secretbox:p,crypto_secretbox_open:g,crypto_secretbox_detached:function(t,e,n,i,o){r(t.byteLength===n.byteLength,"o must be 'msg.byteLength' bytes"),r(16===e.byteLength,"mac must be 'crypto_secretbox_MACBYTES' bytes"),r(i.byteLength===u,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(o.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes");const s=new Uint8Array(n.byteLength+e.byteLength);return y(s,n,i,o),e.set(s.subarray(0,e.byteLength)),t.set(s.subarray(e.byteLength)),!0},crypto_secretbox_open_detached:function(t,e,n,i,o){r(e.byteLength===t.byteLength,"o must be 'msg.byteLength' bytes"),r(16===n.byteLength,"mac must be 'crypto_secretbox_MACBYTES' bytes"),r(i.byteLength===u,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(o.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes");const s=new Uint8Array(e.byteLength+n.byteLength);return s.set(n),s.set(e,n.byteLength),m(t,s,i,o)},crypto_secretbox_easy:y,crypto_secretbox_open_easy:m,crypto_secretbox_KEYBYTES:h,crypto_secretbox_NONCEBYTES:u,crypto_secretbox_ZEROBYTES:f,crypto_secretbox_BOXZEROBYTES:d,crypto_secretbox_MACBYTES:16}},4608:(t,e,n)=>{const r=n(9204),{randombytes_buf:i}=n(2407),{crypto_stream_chacha20_ietf:o,crypto_stream_chacha20_ietf_xor:s,crypto_stream_chacha20_ietf_xor_ic:a,crypto_stream_chacha20_ietf_KEYBYTES:l}=n(1777),{crypto_core_hchacha20:c,crypto_core_hchacha20_INPUTBYTES:h}=n(2271),u=n(1593),{sodium_increment:f,sodium_is_zero:d,sodium_memcmp:p}=n(3007),g=Number.MAX_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER,m=new Uint8Array([0]),b=new Uint8Array([1]),v=new Uint8Array([2]),A=new Uint8Array([b|v]),w=52,_=32,I=44,E=new Uint8Array(16);function C(t,e){let n=1,r=0;for(t[0]=255&e;++r<8&&(n*=256);)t[r]=e/n&255}function S(t){r(t.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");const e=t.subarray(_,I);for(let t=0;t<4;t++)e[t]=0;e[0]=1}function x(t){r(t.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");const e=t.subarray(0,_),n=t.subarray(_,I),i=new Uint8Array(l+8);let o;for(o=0;o<l;o++)i[o]=e[o];for(o=0;o<8;o++)i[l+o]=n[4+o];for(s(i,i,n,e),o=0;o<l;o++)e[o]=i[o];for(o=0;o<8;o++)n[4+o]=i[l+o];S(t)}function k(t,e,n){for(let r=0;r<n;r++)t[r]^=e[r]}t.exports={crypto_secretstream_xchacha20poly1305_keygen:function(t){r(32===t.length),i(t)},crypto_secretstream_xchacha20poly1305_init_push:function(t,e,n){r(t.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),r(e instanceof Uint8Array&&24===e.length,"out not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),r(n instanceof Uint8Array&&32===n.length,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");const o=t.subarray(0,_),s=t.subarray(_,I),a=t.subarray(I);i(e,24),c(o,e,n,null),S(t);for(let t=0;t<8;t++)s[t+4]=e[t+h];a.fill(0)},crypto_secretstream_xchacha20poly1305_init_pull:function(t,e,n){r(t.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),r(e instanceof Uint8Array&&24===e.length,"_in not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),r(n instanceof Uint8Array&&32===n.length,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");const i=t.subarray(0,_),o=t.subarray(_,I),s=t.subarray(I);c(i,e,n,null),S(t);for(let t=0;t<8;t++)o[t+4]=e[t+h];s.fill(0)},crypto_secretstream_xchacha20poly1305_rekey:x,crypto_secretstream_xchacha20poly1305_push:function(t,e,n,i,s){r(t.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),i||(i=new Uint8Array(0));const l=t.subarray(0,_),c=t.subarray(_,I),h=new Uint8Array(64),p=new Uint8Array(8);r(g<=y),o(h,c,l);const m=new u(h);h.fill(0),m.update(i,0,i.byteLength),m.update(E,0,16-i.byteLength&15),h[0]=s[0],a(h,h,c,1,l),m.update(h,0,h.byteLength),e[0]=h[0];const b=e.subarray(1,e.byteLength);a(b,n,c,2,l),m.update(b,0,n.byteLength),m.update(E,0,16-h.byteLength+n.byteLength&15),C(p,i.byteLength),m.update(p,0,p.byteLength),C(p,h.byteLength+n.byteLength),m.update(p,0,p.byteLength);const A=e.subarray(1+n.byteLength,e.byteLength);return m.finish(A,0),r(!0),k(c.subarray(4,c.length),A,8),f(c),(0!=(s[0]&v)||d(c.subarray(0,4)))&&x(t),17+n.byteLength},crypto_secretstream_xchacha20poly1305_pull:function(t,e,n,i,s){r(t.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),s||(s=new Uint8Array(0));const l=t.subarray(0,_),c=t.subarray(_,I),h=new Uint8Array(64),g=new Uint8Array(8),y=new Uint8Array(16);r(i.byteLength>=17,"ciphertext is too short.");const m=i.byteLength-17;o(h,c,l);const b=new u(h);h.fill(0),b.update(s,0,s.byteLength),b.update(E,0,16-s.byteLength&15),h.fill(0),h[0]=i[0],a(h,h,c,1,l),n[0]=h[0],h[0]=i[0],b.update(h,0,h.byteLength);const A=i.subarray(1,i.length);b.update(A,0,m),b.update(E,0,16-h.byteLength+m&15),C(g,s.byteLength),b.update(g,0,g.byteLength),C(g,h.byteLength+e.byteLength),b.update(g,0,g.byteLength),b.finish(y,0);const S=i.subarray(1+m,i.length);if(!p(y,S))throw y.fill(0),new Error("MAC could not be verified.");return a(e,A.subarray(0,e.length),c,2,l),k(c.subarray(4,c.length),y,8),f(c),(0!=(n&v)||d(c.subarray(0,4)))&&x(t),m},crypto_secretstream_xchacha20poly1305_STATEBYTES:w,crypto_secretstream_xchacha20poly1305_ABYTES:17,crypto_secretstream_xchacha20poly1305_HEADERBYTES:24,crypto_secretstream_xchacha20poly1305_KEYBYTES:32,crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX:g,crypto_secretstream_xchacha20poly1305_TAGBYTES:1,crypto_secretstream_xchacha20poly1305_TAG_MESSAGE:m,crypto_secretstream_xchacha20poly1305_TAG_PUSH:b,crypto_secretstream_xchacha20poly1305_TAG_REKEY:v,crypto_secretstream_xchacha20poly1305_TAG_FINAL:A}},3025:(t,e,n)=>{var r=n(2976);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");e.crypto_shorthash_PRIMITIVE="siphash24",e.crypto_shorthash_BYTES=r.BYTES,e.crypto_shorthash_KEYBYTES=r.KEYBYTES,e.crypto_shorthash_WASM_SUPPORTED=r.WASM_SUPPORTED,e.crypto_shorthash_WASM_LOADED=r.WASM_LOADED,e.crypto_shorthash=function(t,e,n,i){r(e,n,t,i)}},6977:(t,e,n)=>{const{crypto_verify_32:r}=n(5157),{crypto_hash:i}=n(4426),{gf:o,gf0:s,gf1:a,D:l,D2:c,X:h,Y:u,I:f,A:d,Z:p,M:g,S:y,sel25519:m,pack25519:b,inv25519:v,unpack25519:A}=n(6706),{randombytes:w}=n(2407),{crypto_scalarmult_BYTES:_}=n(9261),{crypto_hash_sha512_BYTES:I}=n(4426),E=n(9204),C=64;function S(t,e){for(let n=0;n<16;n++)t[n]=0|e[n]}function x(t,e){var n=o(),r=o(),i=o(),s=o(),a=o(),l=o(),h=o(),u=o(),f=o();p(n,t[1],t[0]),p(f,e[1],e[0]),g(n,n,f),d(r,t[0],t[1]),d(f,e[0],e[1]),g(r,r,f),g(i,t[3],e[3]),g(i,i,c),g(s,t[2],e[2]),d(s,s,s),p(a,r,n),p(l,s,i),d(h,s,i),d(u,r,n),g(t[0],a,l),g(t[1],u,h),g(t[2],h,l),g(t[3],a,u)}function k(t,e,n){var r;for(r=0;r<4;r++)m(t[r],e[r],n)}function B(t,e){var n=o(),r=o(),i=o();v(i,e[2]),g(n,e[0],i),g(r,e[1],i),b(t,r),t[31]^=j(n)<<7}function L(t,e,n){var r,i,l=[o(e[0]),o(e[1]),o(e[2]),o(e[3])];for(S(t[0],s),S(t[1],a),S(t[2],a),S(t[3],s),i=255;i>=0;--i)k(t,l,r=n[i/8|0]>>(7&i)&1),x(l,t),x(t,t),k(t,l,r)}function O(t,e){var n=[o(),o(),o(),o()];S(n[0],h),S(n[1],u),S(n[2],a),g(n[3],h,u),L(t,n,e)}function T(t,e,n){P(t,32),P(e,64);var r,s=new Uint8Array(64),a=[o(),o(),o(),o()];for(n||w(e,32),i(s,e,32),s[0]&=248,s[31]&=127,s[31]|=64,O(a,s),B(t,a),r=0;r<32;r++)e[r+32]=t[r]}t.exports={crypto_sign_keypair:T,crypto_sign_seed_keypair:function(t,e,n){return P(n,32),e.set(n),T(t,e,!0)},crypto_sign:D,crypto_sign_detached:function(t,e,n){var r=new Uint8Array(e.length+C);D(r,e,n);for(let e=0;e<C;e++)t[e]=r[e]},crypto_sign_open:Q,crypto_sign_verify_detached:function(t,e,n){P(t,C);var r=new Uint8Array(e.length+C),i=0;for(i=0;i<C;i++)r[i]=t[i];for(i=0;i<e.length;i++)r[i+C]=e[i];return Q(e,r,n)},crypto_sign_BYTES:C,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_sign_ed25519_PUBLICKEYBYTES:32,crypto_sign_ed25519_SECRETKEYBYTES:64,crypto_sign_ed25519_SEEDBYTES:32,crypto_sign_ed25519_BYTES:64,crypto_sign_ed25519_pk_to_curve25519:function(t,e){P(t,32),P(e,32);var n=[o(),o(),o(),o()],r=o([1]),i=o([1]);E(function(t){Uint8Array.from([]);var e,n=[Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([38,232,149,143,194,178,39,176,69,195,244,137,242,239,152,240,213,223,172,5,211,198,51,57,177,56,2,136,109,83,252,5]),Uint8Array.from([199,23,106,112,61,77,216,79,186,60,11,118,13,16,103,15,42,32,83,250,44,57,204,198,78,199,253,119,146,172,3,122]),Uint8Array.from([236,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([237,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([238,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127])],r=new Uint8Array(7);P(n,7);for(let i=0;i<n.length;i++)for(e=0;e<31;e++)r[i]|=t[e]^n[i][e];for(let i=0;i<n.length;i++)r[i]|=127&t[e]^n[i][e];var i=0;for(let t=0;t<n.length;t++)i|=r[t]-1;return 0==(i>>8&1)}(e)&&U(n,e)&&function(t){var e=[o(),o(),o(),o()];!function(t,e){L(t,e,R)}(e,t);var n=0;for(let t=0;t<16;t++)n|=65535&e[0][t];return 0===n}(n),"Cannot convert key: bad point");for(let e=0;e<n.length;e++)b(t,n[e]);return p(i,i,n[1]),d(r,r,n[1]),v(i,i),g(r,r,i),b(t,r),0},crypto_sign_ed25519_sk_to_curve25519:function(t,e){E(t&&t.byteLength===_,"curveSk must be 'crypto_sign_SECRETKEYBYTES' long"),E(e&&64===e.byteLength,"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long");var n=new Uint8Array(I);return i(n,e,32),n[0]&=248,n[31]&=127,n[31]|=64,t.set(n.subarray(0,_)),n.fill(0),t},crypto_sign_ed25519_sk_to_pk:function(t,e){return P(t,32),t.set(e.subarray(32)),t},unpackneg:U,pack:B};var R=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function M(t,e){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)e[i]+=n-16*e[r]*R[i-(r-32)],n=e[i]+128>>8,e[i]-=256*n;e[i]+=n,e[r]=0}for(n=0,i=0;i<32;i++)e[i]+=n-(e[31]>>4)*R[i],n=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=n*R[i];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function N(t){var e=new Float64Array(64);for(let n=0;n<64;n++)e[n]=t[n];for(let e=0;e<64;e++)t[e]=0;M(t,e)}function D(t,e,n){P(t,C+e.length),P(e,0),P(n,64);var r,s,a=e.length,l=new Uint8Array(64),c=new Uint8Array(64),h=new Uint8Array(64),u=new Float64Array(64),f=[o(),o(),o(),o()];i(l,n,32),l[0]&=248,l[31]&=127,l[31]|=64;var d=a+64;for(r=0;r<a;r++)t[64+r]=e[r];for(r=0;r<32;r++)t[32+r]=l[32+r];for(i(h,t.subarray(32),a+32),N(h),O(f,h),B(t,f),r=32;r<64;r++)t[r]=n[r];for(i(c,t,a+64),N(c),r=0;r<64;r++)u[r]=0;for(r=0;r<32;r++)u[r]=h[r];for(r=0;r<32;r++)for(s=0;s<32;s++)u[r+s]+=c[r]*l[s];return M(t.subarray(32),u),d}function U(t,e){var n=o(),r=o(),i=o(),s=o(),c=o(),h=o(),u=o();return S(t[2],a),A(t[1],e),y(i,t[1]),g(s,i,l),p(i,i,t[2]),d(s,t[2],s),y(c,s),y(h,c),g(u,h,c),g(n,u,i),g(n,n,s),function(t,e){var n,r=o();for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)y(r,r),1!==n&&g(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}(n,n),g(n,n,i),g(n,n,s),g(n,n,s),g(t[0],n,s),y(r,t[0]),g(r,r,s),F(r,i)||g(t[0],t[0],f),y(r,t[0]),g(r,r,s),!!F(r,i)&&(j(t[0])===e[31]>>7&&p(t[0],o(),t[0]),g(t[3],t[0],t[1]),!0)}function Q(t,e,n){P(t,e.length-C),P(e,C),P(n,32);var s,a=e.length,l=new Uint8Array(e.length),c=new Uint8Array(32),h=new Uint8Array(64),u=[o(),o(),o(),o()],f=[o(),o(),o(),o()];if(a<64)return!1;if(!U(f,n))return!1;for(s=0;s<a;s++)l[s]=e[s];for(s=0;s<32;s++)l[s+32]=n[s];if(i(h,l,a),N(h),L(u,f,h),O(f,e.subarray(32)),x(u,f),B(c,u),a-=64,!r(e,0,c,0)){for(s=0;s<a;s++)l[s]=0;return!1}for(s=0;s<a;s++)t[s]=e[s+64];return!0}function j(t){var e=new Uint8Array(32);return b(e,t),1&e[0]}function F(t,e){var n=new Uint8Array(32),i=new Uint8Array(32);return b(n,t),b(i,e),r(n,0,i,0)}function P(t,e,n="Argument"){if(!t||e&&t.length<e)throw new Error(n+" must be a buffer"+(e?" of length "+e:""))}},6600:(t,e,n)=>{const r=n(4559);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function i(t,e){this._instance=r(t,e)}e.crypto_stream_KEYBYTES=32,e.crypto_stream_NONCEBYTES=24,e.crypto_stream_PRIMITIVE="xsalsa20",e.crypto_stream_xsalsa20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,e.crypto_stream=function(t,n,r){t.fill(0),e.crypto_stream_xor(t,t,n,r)},e.crypto_stream_xor=function(t,e,n,i){const o=r(n,i);o.update(e,t),o.final()},e.crypto_stream_xor_instance=function(t,e){return new i(t,e)},i.prototype.update=function(t,e){this._instance.update(e,t)},i.prototype.final=function(){this._instance.finalize(),this._instance=null}},1777:(t,e,n)=>{const r=n(9204),i=n(4551);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");e.crypto_stream_chacha20_KEYBYTES=32,e.crypto_stream_chacha20_NONCEBYTES=8,e.crypto_stream_chacha20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,e.crypto_stream_chacha20_ietf_KEYBYTES=32,e.crypto_stream_chacha20_ietf_NONCEBYTES=12,e.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX=2**32,e.crypto_stream_chacha20=function(t,n,r){t.fill(0),e.crypto_stream_chacha20_xor(t,t,n,r)},e.crypto_stream_chacha20_xor=function(t,n,o,s){r(o.byteLength===e.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),r(s.byteLength===e.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");const a=new i(o,s);a.update(t,n),a.final()},e.crypto_stream_chacha20_xor_ic=function(t,n,o,s,a){r(o.byteLength===e.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),r(a.byteLength===e.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");const l=new i(o,a,s);l.update(t,n),l.final()},e.crypto_stream_chacha20_xor_instance=function(t,n){return r(t.byteLength===e.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),r(n.byteLength===e.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES"),new i(t,n)},e.crypto_stream_chacha20_ietf=function(t,n,r){t.fill(0),e.crypto_stream_chacha20_ietf_xor(t,t,n,r)},e.crypto_stream_chacha20_ietf_xor=function(t,n,o,s){r(o.byteLength===e.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),r(s.byteLength===e.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");const a=new i(o,s);a.update(t,n),a.final()},e.crypto_stream_chacha20_ietf_xor_ic=function(t,n,o,s,a){r(o.byteLength===e.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),r(a.byteLength===e.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");const l=new i(o,a,s);l.update(t,n),l.final()},e.crypto_stream_chacha20_ietf_xor_instance=function(t,n){return r(t.byteLength===e.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),r(n.byteLength===e.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES"),new i(t,n)}},5157:t=>{function e(t,e,n,r,i){var o=0;for(let s=0;s<i;s++)o|=t[e+s]^n[r+s];return(1&o-1>>>8)-1}t.exports={crypto_verify_16:function(t,n,r,i){return 0===e(t,n,r,i,16)},crypto_verify_32:function(t,n,r,i){return 0===e(t,n,r,i,32)},crypto_verify_64:function(t,n,r,i){return 0===e(t,n,r,i,64)}},Object.defineProperty(t.exports,"vn",{value:e})},3007:(t,e,n)=>{const r=n(9204),{vn:i}=n(5157);t.exports={sodium_increment:function(t){const e=t.byteLength;for(var n=1,r=0;r<e;r++)n+=t[r],t[r]=n,n>>=8},sodium_memcmp:function(t,e){return r(t.byteLength===e.byteLength,"buffers must be the same size"),0===i(t,0,e,0,t.byteLength)},sodium_is_zero:function(t){var e=0;for(let n=0;n<t.length;n++)e|=t[n];return 0===e}}},5985:(t,e,n)=>{"use strict";function r(e){Object.keys(e).forEach((function(n){t.exports[n]=e[n]}))}r(n(2407)),r(n(9016)),r(n(3007)),r(n(5157)),r(n(5962)),r(n(4701)),r(n(1140)),r(n(4426)),r(n(4335)),r(n(2466)),r(n(3979)),r(n(5658)),r(n(855)),r(n(9261)),r(n(6539)),r(n(4608)),r(n(3025)),r(n(6977)),r(n(6600)),r(n(1777))},6706:t=>{if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},n=(new Uint8Array(16),new Uint8Array(32));n[0]=9;var r=e(),i=e([1]),o=e([56129,1]),s=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),a=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),c=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function u(t,e,n){var r,i,o=0,s=0,a=0,l=0,c=0,h=0,u=0,f=0,d=0,p=0,g=0,y=0,m=0,b=0,v=0,A=0,w=0,_=0,I=0,E=0,C=0,S=0,x=0,k=0,B=0,L=0,O=0,T=0,R=0,M=0,N=0,D=n[0],U=n[1],Q=n[2],j=n[3],F=n[4],P=n[5],H=n[6],K=n[7],z=n[8],V=n[9],Y=n[10],W=n[11],q=n[12],G=n[13],$=n[14],J=n[15];o+=(r=e[0])*D,s+=r*U,a+=r*Q,l+=r*j,c+=r*F,h+=r*P,u+=r*H,f+=r*K,d+=r*z,p+=r*V,g+=r*Y,y+=r*W,m+=r*q,b+=r*G,v+=r*$,A+=r*J,s+=(r=e[1])*D,a+=r*U,l+=r*Q,c+=r*j,h+=r*F,u+=r*P,f+=r*H,d+=r*K,p+=r*z,g+=r*V,y+=r*Y,m+=r*W,b+=r*q,v+=r*G,A+=r*$,w+=r*J,a+=(r=e[2])*D,l+=r*U,c+=r*Q,h+=r*j,u+=r*F,f+=r*P,d+=r*H,p+=r*K,g+=r*z,y+=r*V,m+=r*Y,b+=r*W,v+=r*q,A+=r*G,w+=r*$,_+=r*J,l+=(r=e[3])*D,c+=r*U,h+=r*Q,u+=r*j,f+=r*F,d+=r*P,p+=r*H,g+=r*K,y+=r*z,m+=r*V,b+=r*Y,v+=r*W,A+=r*q,w+=r*G,_+=r*$,I+=r*J,c+=(r=e[4])*D,h+=r*U,u+=r*Q,f+=r*j,d+=r*F,p+=r*P,g+=r*H,y+=r*K,m+=r*z,b+=r*V,v+=r*Y,A+=r*W,w+=r*q,_+=r*G,I+=r*$,E+=r*J,h+=(r=e[5])*D,u+=r*U,f+=r*Q,d+=r*j,p+=r*F,g+=r*P,y+=r*H,m+=r*K,b+=r*z,v+=r*V,A+=r*Y,w+=r*W,_+=r*q,I+=r*G,E+=r*$,C+=r*J,u+=(r=e[6])*D,f+=r*U,d+=r*Q,p+=r*j,g+=r*F,y+=r*P,m+=r*H,b+=r*K,v+=r*z,A+=r*V,w+=r*Y,_+=r*W,I+=r*q,E+=r*G,C+=r*$,S+=r*J,f+=(r=e[7])*D,d+=r*U,p+=r*Q,g+=r*j,y+=r*F,m+=r*P,b+=r*H,v+=r*K,A+=r*z,w+=r*V,_+=r*Y,I+=r*W,E+=r*q,C+=r*G,S+=r*$,x+=r*J,d+=(r=e[8])*D,p+=r*U,g+=r*Q,y+=r*j,m+=r*F,b+=r*P,v+=r*H,A+=r*K,w+=r*z,_+=r*V,I+=r*Y,E+=r*W,C+=r*q,S+=r*G,x+=r*$,k+=r*J,p+=(r=e[9])*D,g+=r*U,y+=r*Q,m+=r*j,b+=r*F,v+=r*P,A+=r*H,w+=r*K,_+=r*z,I+=r*V,E+=r*Y,C+=r*W,S+=r*q,x+=r*G,k+=r*$,B+=r*J,g+=(r=e[10])*D,y+=r*U,m+=r*Q,b+=r*j,v+=r*F,A+=r*P,w+=r*H,_+=r*K,I+=r*z,E+=r*V,C+=r*Y,S+=r*W,x+=r*q,k+=r*G,B+=r*$,L+=r*J,y+=(r=e[11])*D,m+=r*U,b+=r*Q,v+=r*j,A+=r*F,w+=r*P,_+=r*H,I+=r*K,E+=r*z,C+=r*V,S+=r*Y,x+=r*W,k+=r*q,B+=r*G,L+=r*$,O+=r*J,m+=(r=e[12])*D,b+=r*U,v+=r*Q,A+=r*j,w+=r*F,_+=r*P,I+=r*H,E+=r*K,C+=r*z,S+=r*V,x+=r*Y,k+=r*W,B+=r*q,L+=r*G,O+=r*$,T+=r*J,b+=(r=e[13])*D,v+=r*U,A+=r*Q,w+=r*j,_+=r*F,I+=r*P,E+=r*H,C+=r*K,S+=r*z,x+=r*V,k+=r*Y,B+=r*W,L+=r*q,O+=r*G,T+=r*$,R+=r*J,v+=(r=e[14])*D,A+=r*U,w+=r*Q,_+=r*j,I+=r*F,E+=r*P,C+=r*H,S+=r*K,x+=r*z,k+=r*V,B+=r*Y,L+=r*W,O+=r*q,T+=r*G,R+=r*$,M+=r*J,A+=(r=e[15])*D,s+=38*(_+=r*Q),a+=38*(I+=r*j),l+=38*(E+=r*F),c+=38*(C+=r*P),h+=38*(S+=r*H),u+=38*(x+=r*K),f+=38*(k+=r*z),d+=38*(B+=r*V),p+=38*(L+=r*Y),g+=38*(O+=r*W),y+=38*(T+=r*q),m+=38*(R+=r*G),b+=38*(M+=r*$),v+=38*(N+=r*J),o=(r=(o+=38*(w+=r*U))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),A=(r=A+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),A=(r=A+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=l,t[4]=c,t[5]=h,t[6]=u,t[7]=f,t[8]=d,t[9]=p,t[10]=g,t[11]=y,t[12]=m,t[13]=b,t[14]=v,t[15]=A}function f(t,e){u(t,e,e)}function d(t,e,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(t[o]^e[o]),t[o]^=r,e[o]^=r}function p(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}t.exports={gf:e,A:function(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]},Z:function(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]},M:u,S:f,sel25519:d,pack25519:function(t,n){var r,i,o,s=e(),a=e();for(r=0;r<16;r++)a[r]=n[r];for(p(a),p(a),p(a),i=0;i<2;i++){for(s[0]=a[0]-65517,r=1;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,d(a,s,1-o)}for(r=0;r<16;r++)t[2*r]=255&a[r],t[2*r+1]=a[r]>>8},unpack25519:function(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767},inv25519:function(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)f(i,i),2!==r&&4!==r&&u(i,i,n);for(r=0;r<16;r++)t[r]=i[r]},gf0:r,gf1:i,_9:n,_121665:o,D:s,D2:a,X:l,Y:c,I:h}},2271:(t,e,n)=>{const{sodium_malloc:r}=n(9016),i=n(9204);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function o(t,e){return(t&=4294967295)<<(e&=4294967295)|t>>>32-e}function s(t,e){i(t instanceof Uint8Array,"src not byte array");let n=t[e];return n|=t[e+1]<<8,n|=t[e+2]<<16,n|=t[e+3]<<24,n}function a(t,e,n){i(t instanceof Uint8Array,"dest not byte array");var r=1,o=0;for(t[n]=255&e;++o<4&&(r*=256);)t[n+o]=e/r&255}function l(t,e,n,r,i){t[e]+=t[n],t[i]=o(t[i]^t[e],16),t[r]+=t[i],t[n]=o(t[n]^t[r],12),t[e]+=t[n],t[i]=o(t[i]^t[e],8),t[r]+=t[i],t[n]=o(t[n]^t[r],7)}t.exports={crypto_core_hchacha20_INPUTBYTES:16,LOAD32_LE:s,STORE32_LE:a,QUARTERROUND:l,crypto_core_hchacha20:function(t,e,n,r){i(t instanceof Uint8Array&&32===t.length,"out is not an array of 32 bytes"),i(n instanceof Uint8Array&&32===n.length,"k is not an array of 32 bytes"),i(null===r||r instanceof Uint8Array&&16===r.length,"c is not null or an array of 16 bytes");let o=0;const c=new Uint32Array(16);for(r?(c[0]=s(r,0),c[1]=s(r,4),c[2]=s(r,8),c[3]=s(r,12)):(c[0]=1634760805,c[1]=857760878,c[2]=2036477234,c[3]=1797285236),c[4]=s(n,0),c[5]=s(n,4),c[6]=s(n,8),c[7]=s(n,12),c[8]=s(n,16),c[9]=s(n,20),c[10]=s(n,24),c[11]=s(n,28),c[12]=s(e,0),c[13]=s(e,4),c[14]=s(e,8),c[15]=s(e,12),o=0;o<10;o++)l(c,0,4,8,12),l(c,1,5,9,13),l(c,2,6,10,14),l(c,3,7,11,15),l(c,0,5,10,15),l(c,1,6,11,12),l(c,2,7,8,13),l(c,3,4,9,14);return a(t,c[0],0),a(t,c[1],4),a(t,c[2],8),a(t,c[3],12),a(t,c[12],16),a(t,c[13],20),a(t,c[14],24),a(t,c[15],28),0},crypto_core_hchacha20_outputbytes:function(){return 32},crypto_core_hchacha20_inputbytes:function(){return 16},crypto_core_hchacha20_keybytes:function(){return 32},crypto_core_hchacha20_constbytes:function(){return 16}}},1593:t=>{if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var e=function(t){var e,n,r,i,o,s,a,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),l=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|l<<8),this.r[9]=l>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};e.prototype.blocks=function(t,e,n){for(var r,i,o,s,a,l,c,h,u,f,d,p,g,y,m,b,v,A,w,_=this.fin?0:2048,I=this.h[0],E=this.h[1],C=this.h[2],S=this.h[3],x=this.h[4],k=this.h[5],B=this.h[6],L=this.h[7],O=this.h[8],T=this.h[9],R=this.r[0],M=this.r[1],N=this.r[2],D=this.r[3],U=this.r[4],Q=this.r[5],j=this.r[6],F=this.r[7],P=this.r[8],H=this.r[9];n>=16;)f=u=0,f+=(I+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*R,f+=(E+=8191&(r>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*H),f+=(C+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*P),f+=(S+=8191&(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*F),u=(f+=(x+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*j))>>>13,f&=8191,f+=(k+=a>>>1&8191)*(5*Q),f+=(B+=8191&(a>>>14|(l=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*U),f+=(L+=8191&(l>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*D),f+=(O+=8191&(c>>>8|(h=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*N),d=u+=(f+=(T+=h>>>5|_)*(5*M))>>>13,d+=I*M,d+=E*R,d+=C*(5*H),d+=S*(5*P),u=(d+=x*(5*F))>>>13,d&=8191,d+=k*(5*j),d+=B*(5*Q),d+=L*(5*U),d+=O*(5*D),u+=(d+=T*(5*N))>>>13,d&=8191,p=u,p+=I*N,p+=E*M,p+=C*R,p+=S*(5*H),u=(p+=x*(5*P))>>>13,p&=8191,p+=k*(5*F),p+=B*(5*j),p+=L*(5*Q),p+=O*(5*U),g=u+=(p+=T*(5*D))>>>13,g+=I*D,g+=E*N,g+=C*M,g+=S*R,u=(g+=x*(5*H))>>>13,g&=8191,g+=k*(5*P),g+=B*(5*F),g+=L*(5*j),g+=O*(5*Q),y=u+=(g+=T*(5*U))>>>13,y+=I*U,y+=E*D,y+=C*N,y+=S*M,u=(y+=x*R)>>>13,y&=8191,y+=k*(5*H),y+=B*(5*P),y+=L*(5*F),y+=O*(5*j),m=u+=(y+=T*(5*Q))>>>13,m+=I*Q,m+=E*U,m+=C*D,m+=S*N,u=(m+=x*M)>>>13,m&=8191,m+=k*R,m+=B*(5*H),m+=L*(5*P),m+=O*(5*F),b=u+=(m+=T*(5*j))>>>13,b+=I*j,b+=E*Q,b+=C*U,b+=S*D,u=(b+=x*N)>>>13,b&=8191,b+=k*M,b+=B*R,b+=L*(5*H),b+=O*(5*P),v=u+=(b+=T*(5*F))>>>13,v+=I*F,v+=E*j,v+=C*Q,v+=S*U,u=(v+=x*D)>>>13,v&=8191,v+=k*N,v+=B*M,v+=L*R,v+=O*(5*H),A=u+=(v+=T*(5*P))>>>13,A+=I*P,A+=E*F,A+=C*j,A+=S*Q,u=(A+=x*U)>>>13,A&=8191,A+=k*D,A+=B*N,A+=L*M,A+=O*R,w=u+=(A+=T*(5*H))>>>13,w+=I*H,w+=E*P,w+=C*F,w+=S*j,u=(w+=x*Q)>>>13,w&=8191,w+=k*U,w+=B*D,w+=L*N,w+=O*M,I=f=8191&(u=(u=((u+=(w+=T*R)>>>13)<<2)+u|0)+(f&=8191)|0),E=d+=u>>>=13,C=p&=8191,S=g&=8191,x=y&=8191,k=m&=8191,B=b&=8191,L=v&=8191,O=A&=8191,T=w&=8191,e+=16,n-=16;this.h[0]=I,this.h[1]=E,this.h[2]=C,this.h[3]=S,this.h[4]=x,this.h[5]=k,this.h[6]=B,this.h[7]=L,this.h[8]=O,this.h[9]=T},e.prototype.finish=function(t,e){var n,r,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+n,n=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,r=(1^n)-1,o=0;o<10;o++)s[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},e.prototype.update=function(t,e,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(t,e,i),e+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}},t.exports=e},9016:(t,e,n)=>{function r(t){t.fill(0)}var i;t.exports={sodium_malloc:function(t){return new Uint8Array(t)},sodium_free:function(t){r(t),function(){if(i)return i;var t=globalThis.MessageChannel;return null==t&&({MessageChannel:t}=n(4599)),i=new t}().port1.postMessage(t.buffer,[t.buffer])},sodium_memzero:r}},2407:(t,e,n)=>{var r=n(9204),i=function(){var t=globalThis.crypto||globalThis.msCrypto;return t&&t.getRandomValues?function(e,n){for(let r=0;r<n;r+=65536)t.getRandomValues(new Uint8Array(e.buffer,r+e.byteOffset,Math.min(n-r,65536)))}:null!=n(7364)&&(t=n(722))&&t.randomBytes?function(e,n){new Uint8Array(e.buffer,e.byteOffset,n).set(t.randomBytes(n))}:function(){throw new Error("No secure random number generator available")}}();Object.defineProperty(t.exports,"randombytes",{value:i}),t.exports.randombytes_buf=function(t){r(t,"out must be given"),i(t,t.byteLength)}},7364:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=7364,t.exports=e},684:(t,e,n)=>{t.exports=n(5985)},168:(t,e,n)=>{t.exports=n(5985)},9142:(t,e,n)=>{t.exports=n(5985)},1152:(t,e,n)=>{t.exports=n(5985)},9696:(t,e,n)=>{t.exports=n(5985)},4471:(t,e,n)=>{t.exports=n(5985)},8542:(t,e,n)=>{t.exports=n(5985)},7010:(t,e,n)=>{var r=n(8764).Buffer,i=n(8599);function o(t){if(!(this instanceof o))return new o(t);if(t||(t={}),r.isBuffer(t)&&(t={buffer:t}),this.pageOffset=t.pageOffset||0,this.pageSize=t.pageSize||1024,this.pages=t.pages||i(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,(e=this.pageSize)&e-1)throw new Error("The page size should be a power of two");var e;if(this._trackUpdates=!!t.trackUpdates,this._pageMask=this.pageSize-1,t.buffer){for(var n=0;n<t.buffer.length;n+=this.pageSize)this.pages.set(n/this.pageSize,t.buffer.slice(n,n+this.pageSize));this.byteLength=t.buffer.length,this.length=8*this.byteLength}}t.exports=o,o.prototype.get=function(t){var e=7&t,n=(t-e)/8;return!!(this.getByte(n)&128>>e)},o.prototype.getByte=function(t){var e=t&this._pageMask,n=(t-e)/this.pageSize,r=this.pages.get(n,!0);return r?r.buffer[e+this.pageOffset]:0},o.prototype.set=function(t,e){var n=7&t,r=(t-n)/8,i=this.getByte(r);return this.setByte(r,e?i|128>>n:i&(255^128>>n))},o.prototype.toBuffer=function(){for(var t=function(t){if(r.alloc)return r.alloc(t);var e=new r(t);return e.fill(0),e}(this.pages.length*this.pageSize),e=0;e<this.pages.length;e++){var n=this.pages.get(e,!0),i=e*this.pageSize;n&&n.buffer.copy(t,i,this.pageOffset,this.pageOffset+this.pageSize)}return t},o.prototype.setByte=function(t,e){var n=t&this._pageMask,r=(t-n)/this.pageSize,i=this.pages.get(r,!1);return n+=this.pageOffset,i.buffer[n]!==e&&(i.buffer[n]=e,t>=this.byteLength&&(this.byteLength=t+1,this.length=8*this.byteLength),this._trackUpdates&&this.pages.updated(i),!0)}},1852:t=>{t.exports=function(t){var e,n=t._readableState;return n?n.objectMode||"number"==typeof t._duplexState?t.read():t.read((e=n).buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length):null}},1237:(t,e,n)=>{const{EventEmitter:r}=n(7187),i=new Error("Stream was destroyed"),o=new Error("Premature close"),s=n(3527),a=n(1607),l=33554431,c=1^l,h=8192,u=384^l,f=8<<16,d=32<<16,p=64<<16,g=8454144,y=256<<16,m=33488895,b=65544,v=2105344,A=6|v,w=8470536,_=8404999,I=589831,E=Symbol.asyncIterator||Symbol("asyncIterator");class C{constructor(t,{highWaterMark:e=16384,map:n=null,mapWritable:r,byteLength:i,byteLengthWritable:o}={}){this.stream=t,this.queue=new a,this.highWaterMark=e,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||i||Y,this.map=r||n,this.afterWrite=T.bind(this),this.afterUpdateNextTick=N.bind(this)}get ended(){return 0!=(this.stream._duplexState&d)}push(t){return null!==this.map&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=f,!0):(this.stream._duplexState|=1572864,!1)}shift(){const t=this.queue.shift(),e=this.stream;return this.buffered-=this.byteLength(t),0===this.buffered&&(e._duplexState&=33030143),t}end(t){"function"==typeof t?this.stream.once("finish",t):null!=t&&this.push(t),this.stream._duplexState=33423359&(this.stream._duplexState|y)}autoBatch(t,e){const n=[],r=this.stream;for(n.push(t);589824==(r._duplexState&I);)n.push(r._writableState.shift());if(0!=(7&r._duplexState))return e(null);r._writev(n,e)}update(){const t=this.stream;for(;(t._duplexState&I)===f;){const e=this.shift();t._duplexState|=327680,t._write(e,this.afterWrite),t._duplexState&=33292287}0==(196608&t._duplexState)&&this.updateNonPrimary()}updateNonPrimary(){const t=this.stream;if((19464199&t._duplexState)===y)return t._duplexState=16777215&(65536|t._duplexState),void t._final(L.bind(this));2!=(6&t._duplexState)?1==(t._duplexState&_)&&(t._duplexState=(t._duplexState|b)&c,t._open(D.bind(this))):0==(t._duplexState&w)&&(t._duplexState|=b,t._destroy(O.bind(this)))}updateNextTick(){0==(this.stream._duplexState&g)&&(this.stream._duplexState|=g,s(this.afterUpdateNextTick))}}class S{constructor(t,{highWaterMark:e=16384,map:n=null,mapReadable:r,byteLength:i,byteLengthReadable:o}={}){this.stream=t,this.queue=new a,this.highWaterMark=e,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||i||Y,this.map=r||n,this.pipeTo=null,this.afterRead=R.bind(this),this.afterUpdateNextTick=M.bind(this)}get ended(){return 0!=(this.stream._duplexState&h)}pipe(t,e){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof e&&(e=null),this.stream._duplexState|=256,this.pipeTo=t,this.pipeline=new k(this.stream,t,e),e&&this.stream.on("error",W),V(t))t._writableState.pipeline=this.pipeline,e&&t.on("error",W),t.on("finish",this.pipeline.finished.bind(this.pipeline));else{const e=this.pipeline.done.bind(this.pipeline,t),n=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",e),t.on("close",n),t.on("finish",this.pipeline.finished.bind(this.pipeline))}t.on("drain",B.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream)}push(t){const e=this.stream;return null===t?(this.highWaterMark=0,e._duplexState=33521647&(512|e._duplexState),!1):(null!==this.map&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),e._duplexState=33521663&(64|e._duplexState),this.buffered<this.highWaterMark)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=33550271),t}unshift(t){let e;const n=[];for(;void 0!==(e=this.queue.shift());)n.push(e);this.push(t);for(let t=0;t<n.length;t++)this.queue.push(n[t])}read(){const t=this.stream;if(64==(8263&t._duplexState)){const e=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=u),0!=(1024&t._duplexState)&&t.emit("data",e),e}return null}drain(){const t=this.stream;for(;64==(8263&t._duplexState)&&0!=(384&t._duplexState);){const e=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=u),0!=(1024&t._duplexState)&&t.emit("data",e)}}update(){const t=this.stream;for(this.drain();this.buffered<this.highWaterMark&&0==(41487&t._duplexState);)t._duplexState|=32808,t._read(this.afterRead),t._duplexState&=33554399,0==(8&t._duplexState)&&this.drain();2112==(6215&t._duplexState)&&(t._duplexState|=4096,t.emit("readable")),0==(24&t._duplexState)&&this.updateNonPrimary()}updateNonPrimary(){const t=this.stream;512==(583&t._duplexState)&&(t._duplexState=33553919&(t._duplexState|h),t.emit("end"),(t._duplexState&A)===v&&(t._duplexState|=2),null!==this.pipeTo&&this.pipeTo.end()),2!=(6&t._duplexState)?1==(t._duplexState&_)&&(t._duplexState=(t._duplexState|b)&c,t._open(D.bind(this))):0==(t._duplexState&w)&&(t._duplexState|=b,t._destroy(O.bind(this)))}updateNextTick(){0==(16392&this.stream._duplexState)&&(this.stream._duplexState|=16392,s(this.afterUpdateNextTick))}}class x{constructor(t){this.data=null,this.afterTransform=U.bind(t),this.afterFinal=null}}class k{constructor(t,e,n){this.from=t,this.to=e,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(t,e){e&&(this.error=e),t!==this.to||(this.to=null,null===this.from)?t!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0==(t._duplexState&h)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!=(this.from._duplexState&h)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function B(){this.stream._duplexState|=256,0==(40&this.stream._duplexState)?this.updateNextTick():this.drain()}function L(t){const e=this.stream;t&&e.destroy(t),0==(6&e._duplexState)&&(e._duplexState|=d,e.emit("finish")),(e._duplexState&A)===v&&(e._duplexState|=2),e._duplexState&=m,this.update()}function O(t){const e=this.stream;t||this.error===i||(t=this.error),t&&e.emit("error",t),e._duplexState|=4,e.emit("close");const n=e._readableState,r=e._writableState;null!==n&&null!==n.pipeline&&n.pipeline.done(e,t),null!==r&&null!==r.pipeline&&r.pipeline.done(e,t)}function T(t){const e=this.stream;t&&e.destroy(t),e._duplexState&=m,1048576==(1638407&e._duplexState)&&(e._duplexState&=32505855,(e._duplexState&p)===p&&e.emit("drain")),0==(262144&e._duplexState)&&this.update()}function R(t){t&&this.stream.destroy(t),this.stream._duplexState&=33554423,0==(32&this.stream._duplexState)&&this.update()}function M(){this.stream._duplexState&=33538039,this.update()}function N(){this.stream._duplexState&=25100287,this.update()}function D(t){const e=this.stream;t&&e.destroy(t),0==(2&e._duplexState)&&(0==(8711&e._duplexState)&&(e._duplexState|=16),0==(18874375&e._duplexState)&&(e._duplexState|=131072),e.emit("open")),e._duplexState&=33488887,null!==e._writableState&&e._writableState.update(),null!==e._readableState&&e._readableState.update()}function U(t,e){null!=e&&this.push(e),this._writableState.afterWrite(t)}class Q extends r{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",q.bind(this)))}_open(t){t(null)}_destroy(t){t(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(4&this._duplexState)}get destroying(){return 0!=(6&this._duplexState)}destroy(t){0==(6&this._duplexState)&&(t||(t=i),this._duplexState=33423343&(2|this._duplexState),null!==this._readableState&&(this._readableState.error=t,this._readableState.updateNextTick()),null!==this._writableState&&(this._writableState.error=t,this._writableState.updateNextTick()),this._predestroy())}on(t,e){return null!==this._readableState&&("data"===t&&(this._duplexState|=1152,this._readableState.updateNextTick()),"readable"===t&&(this._duplexState|=2048,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===t&&(this._duplexState|=p,this._writableState.updateNextTick()),super.on(t,e)}}class j extends Q{constructor(t){super(t),this._duplexState|=2097153,this._readableState=new S(this,t),t&&(t.read&&(this._read=t.read),t.eagerOpen&&this.resume().pause())}_read(t){t(null)}pipe(t,e){return this._readableState.pipe(t,e),this._readableState.updateNextTick(),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTick(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTick(),this._readableState.unshift(t)}resume(){return this._duplexState|=128,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=33554303,this}static _fromAsyncIterator(t,e){let n;const r=new j({...e,read(e){t.next().then(i).then(e.bind(null,null)).catch(e)},predestroy(){n=t.return()},destroy(t){if(!n)return t(null);n.then(t.bind(null,null)).catch(t)}});return r;function i(t){t.done?r.push(null):r.push(t.value)}}static from(t,e){if(V(n=t)&&n.readable)return t;var n;if(t[E])return this._fromAsyncIterator(t[E](),e);Array.isArray(t)||(t=void 0===t?[]:[t]);let r=0;return new j({...e,read(e){this.push(r===t.length?null:t[r++]),e(null)}})}static isBackpressured(t){return 0!=(8710&t._duplexState)||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return 0==(128&t._duplexState)}[E](){const t=this;let e=null,n=null,r=null;return this.on("error",(t=>{e=t})),this.on("readable",(function(){null!==n&&o(t.read())})),this.on("close",(function(){null!==n&&o(null)})),{[E](){return this},next:()=>new Promise((function(e,i){n=e,r=i;const s=t.read();null!==s?o(s):0!=(4&t._duplexState)&&o(null)})),return:()=>s(null),throw:t=>s(t)};function o(o){null!==r&&(e?r(e):null===o&&0==(t._duplexState&h)?r(i):n({value:o,done:null===o}),r=n=null)}function s(e){return t.destroy(e),new Promise(((n,r)=>{if(4&t._duplexState)return n({value:void 0,done:!0});t.once("close",(function(){e?r(e):n({value:void 0,done:!0})}))}))}}}class F extends j{constructor(t){super(t),this._duplexState=1,this._writableState=new C(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}}class P extends F{constructor(t){super(t),this._transformState=new x(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush))}_write(t,e){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform)}_read(t){if(null!==this._transformState.data){const e=this._transformState.data;this._transformState.data=null,t(null),this._transform(e,this._transformState.afterTransform)}else t(null)}_transform(t,e){e(null,t)}_flush(t){t(null)}_final(t){this._transformState.afterFinal=t,this._flush(H.bind(this))}}function H(t,e){const n=this._transformState.afterFinal;if(t)return n(t);null!=e&&this.push(e),this.push(null),n(null)}function K(t,...e){const n=Array.isArray(t)?[...t,...e]:[t,...e],r=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let i=n[0],s=null,a=null;for(let t=1;t<n.length;t++)s=n[t],V(i)?i.pipe(s,c):(l(i,!0,t>1,c),i.pipe(s)),i=s;if(r){let t=!1;s.on("finish",(()=>{t=!0})),s.on("error",(t=>{a=a||t})),s.on("close",(()=>r(a||(t?null:o))))}return s;function l(t,e,n,r){t.on("error",r),t.on("close",(function(){return e&&t._readableState&&!t._readableState.ended||n&&t._writableState&&!t._writableState.ended?r(o):void 0}))}function c(t){if(t&&!a){a=t;for(const e of n)e.destroy(t)}}}function z(t){return!!t._readableState||!!t._writableState}function V(t){return"number"==typeof t._duplexState&&z(t)}function Y(t){return function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.byteLength}(t)?t.byteLength:1024}function W(){}function q(){this.destroy(new Error("Stream aborted."))}t.exports={pipeline:K,pipelinePromise:function(...t){return new Promise(((e,n)=>K(...t,(t=>{if(t)return n(t);e()}))))},isStream:z,isStreamx:V,Stream:Q,Writable:class extends Q{constructor(t){super(t),this._duplexState|=8193,this._writableState=new C(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}static isBackpressured(t){return 0!=(19922950&t._duplexState)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}},Readable:j,Duplex:F,Transform:P,PassThrough:class extends P{}}},2553:(t,e,n)=>{"use strict";var r=n(9509).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=h,this.end=u,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function h(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},3454:(t,e,n)=>{var r=n(3379),i=n(1908);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.id,i,""]]);r(i,{insert:"head",singleton:!1}),t.exports=i.locals||{}},260:t=>{t.exports=function(t,n){return new e(t,n)};class e{constructor(t,e){this._instance=t,this._prefix=e,this.app=t.app+this._prefix}subscribe(t){return this._instance.subscribe(this._prefix+t)}broadcast(t,e,n){return this._instance.broadcast(this._prefix+t,e,n)}close(t){return this._instance.close(t)}}},4650:(t,e,n)=>{const{Transform:r}=n(8473);function i(t){return(e,n,r)=>("function"==typeof e&&(r=n,n=e,e={}),"function"!=typeof n&&(n=(t,e,n)=>n(null,t)),"function"!=typeof r&&(r=null),t(e,n,r))}const o=i(((t,e,n)=>{const i=new r(t);return i._transform=e,n&&(i._flush=n),i})),s=i(((t,e,n)=>{function i(o){if(!(this instanceof i))return new i(o);this.options=Object.assign({},t,o),r.call(this,this.options),this._transform=e,n&&(this._flush=n)}var o,s;return s=r,(o=i).super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i})),a=i((function(t,e,n){const i=new r(Object.assign({objectMode:!0,highWaterMark:16},t));return i._transform=e,n&&(i._flush=n),i}));t.exports=o,t.exports.ctor=s,t.exports.obj=a},3380:t=>{function e(t,r,i){if(!(this instanceof e))return new e(t,r,i);this.ms=t,this.ontimeout=r,this.context=i||null,this.called=!1,this._timeout=setTimeout(n,t,this)}function n(t){t.called=!0,t.ontimeout.call(t.context)}t.exports=e,e.prototype.refresh=function(){this.called||null===this.ontimeout||(clearTimeout(this._timeout),this._timeout=setTimeout(n,this.ms,this))},e.prototype.destroy=function(){this.ontimeout=null,clearTimeout(this._timeout)}},4372:(t,e,n)=>{var r=n(2822),i=Math.pow(2,32);e.encodingLength=function(){return 8},e.encode=function(t,e,n){e||(e=r(8)),n||(n=0);var o=Math.floor(t/i),s=t-o*i;return e.writeUInt32BE(o,n),e.writeUInt32BE(s,n+4),e},e.decode=function(t,e){e||(e=0);var n=t.readUInt32BE(e),r=t.readUInt32BE(e+4);return n*i+r},e.encode.bytes=8,e.decode.bytes=8},6581:t=>{t.exports=function(t,e){if(!(e>=t.length||e<0)){var n=t.pop();if(e<t.length){var r=t[e];return t[e]=n,r}return n}}},8861:(t,e)=>{function n(t,e){return e._index<t.length&&t[e._index]===e}e.add=function(t,e){return n(t,e)||(e._index=t.length,t.push(e)),e},e.has=n,e.remove=function(t,e){if(!n(t,e))return null;var r=t.pop();return r!==e&&(t[e._index]=r,r._index=e._index),e},e.swap=function(t,e,r){if(n(t,e)&&n(t,r)){var i=e._index;e._index=r._index,t[e._index]=e,r._index=i,t[r._index]=r}}},4927:(t,e,n)=>{function r(t){try{if(!n.g.localStorage)return!1}catch(t){return!1}var e=n.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}},384:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},5955:(t,e,n)=>{"use strict";var r=n(2584),i=n(8662),o=n(6430),s=n(5692);function a(t){return t.call.bind(t)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,h=a(Object.prototype.toString),u=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(l)var p=a(BigInt.prototype.valueOf);if(c)var g=a(Symbol.prototype.valueOf);function y(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function m(t){return"[object Map]"===h(t)}function b(t){return"[object Set]"===h(t)}function v(t){return"[object WeakMap]"===h(t)}function A(t){return"[object WeakSet]"===h(t)}function w(t){return"[object ArrayBuffer]"===h(t)}function _(t){return"undefined"!=typeof ArrayBuffer&&(w.working?w(t):t instanceof ArrayBuffer)}function I(t){return"[object DataView]"===h(t)}function E(t){return"undefined"!=typeof DataView&&(I.working?I(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=i,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||E(t)},e.isUint8Array=function(t){return"Uint8Array"===o(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===o(t)},e.isUint16Array=function(t){return"Uint16Array"===o(t)},e.isUint32Array=function(t){return"Uint32Array"===o(t)},e.isInt8Array=function(t){return"Int8Array"===o(t)},e.isInt16Array=function(t){return"Int16Array"===o(t)},e.isInt32Array=function(t){return"Int32Array"===o(t)},e.isFloat32Array=function(t){return"Float32Array"===o(t)},e.isFloat64Array=function(t){return"Float64Array"===o(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===o(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===o(t)},m.working="undefined"!=typeof Map&&m(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(m.working?m(t):t instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(b.working?b(t):t instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(v.working?v(t):t instanceof WeakMap)},A.working="undefined"!=typeof WeakSet&&A(new WeakSet),e.isWeakSet=function(t){return A(t)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),e.isArrayBuffer=_,I.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&I(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=E;var C="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function S(t){return"[object SharedArrayBuffer]"===h(t)}function x(t){return void 0!==C&&(void 0===S.working&&(S.working=S(new C)),S.working?S(t):t instanceof C)}function k(t){return y(t,u)}function B(t){return y(t,f)}function L(t){return y(t,d)}function O(t){return l&&y(t,p)}function T(t){return c&&y(t,g)}e.isSharedArrayBuffer=x,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===h(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===h(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===h(t)},e.isGeneratorObject=function(t){return"[object Generator]"===h(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===h(t)},e.isNumberObject=k,e.isStringObject=B,e.isBooleanObject=L,e.isBigIntObject=O,e.isSymbolObject=T,e.isBoxedPrimitive=function(t){return k(t)||B(t)||L(t)||O(t)||T(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(_(t)||x(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},9539:(t,e,n)=>{var r=n(4155),i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(c(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),a=r[n];n<i;a=r[++n])m(a)||!_(a)?s+=" "+a:s+=" "+c(a);return s},e.deprecate=function(t,n){if(void 0!==r&&!0===r.noDeprecation)return t;if(void 0===r)return function(){return e.deprecate(t,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?console.trace(n):console.error(n),i=!0}return t.apply(this,arguments)}};var s={},a=/^$/;if(r.env.NODE_DEBUG){var l=r.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i")}function c(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&e._extend(r,n),A(r.showHidden)&&(r.showHidden=!1),A(r.depth)&&(r.depth=2),A(r.colors)&&(r.colors=!1),A(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=h),f(r,t,r.depth)}function h(t,e){var n=c.styles[e];return n?"["+c.colors[n][0]+"m"+t+"["+c.colors[n][1]+"m":t}function u(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&C(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return v(i)||(i=f(t,i,r)),i}var o=function(t,e){if(A(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return b(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),E(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(n);if(0===s.length){if(C(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(I(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var c,h="",u=!1,_=["{","}"];return g(n)&&(u=!0,_=["[","]"]),C(n)&&(h=" [Function"+(n.name?": "+n.name:"")+"]"),w(n)&&(h=" "+RegExp.prototype.toString.call(n)),I(n)&&(h=" "+Date.prototype.toUTCString.call(n)),E(n)&&(h=" "+d(n)),0!==s.length||u&&0!=n.length?r<0?w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=u?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)L(e,String(s))?o.push(p(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))})),o}(t,n,r,a,s):s.map((function(e){return p(t,n,r,a,e,u)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(c,h,_)):_[0]+h+_[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),L(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(a=m(n)?f(t,l.value,null):f(t,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),A(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function g(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function m(t){return null===t}function b(t){return"number"==typeof t}function v(t){return"string"==typeof t}function A(t){return void 0===t}function w(t){return _(t)&&"[object RegExp]"===S(t)}function _(t){return"object"==typeof t&&null!==t}function I(t){return _(t)&&"[object Date]"===S(t)}function E(t){return _(t)&&("[object Error]"===S(t)||t instanceof Error)}function C(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!s[t])if(a.test(t)){var n=r.pid;s[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else s[t]=function(){};return s[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=n(5955),e.isArray=g,e.isBoolean=y,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=b,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=A,e.isRegExp=w,e.types.isRegExp=w,e.isObject=_,e.isDate=I,e.types.isDate=I,e.isError=E,e.types.isNativeError=E,e.isFunction=C,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(384);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),k[t.getMonth()],e].join(" ")}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",B(),e.format.apply(e,arguments))},e.inherits=n(5717),e._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(O&&t[O]){var e;if("function"!=typeof(e=t[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),O&&Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=O,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var i=e.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,e).then((function(t){r.nextTick(s.bind(null,null,t))}),(function(t){r.nextTick(T.bind(null,t,s))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,i(t)),e}},5877:(t,e,n)=>{var r=n(3570),i=n(1171),o=i;o.v1=r,o.v4=i,t.exports=o},5327:t=>{for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);t.exports=function(t,n){var r=n||0,i=e;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}},5217:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);t.exports=function(){return e(n),n}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},3570:(t,e,n)=>{var r,i,o=n(5217),s=n(5327),a=0,l=0;t.exports=function(t,e,n){var c=e&&n||0,h=e||[],u=(t=t||{}).node||r,f=void 0!==t.clockseq?t.clockseq:i;if(null==u||null==f){var d=o();null==u&&(u=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=i=16383&(d[6]<<8|d[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:l+1,y=p-a+(g-l)/1e4;if(y<0&&void 0===t.clockseq&&(f=f+1&16383),(y<0||p>a)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,l=g,i=f;var m=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;h[c++]=m>>>24&255,h[c++]=m>>>16&255,h[c++]=m>>>8&255,h[c++]=255&m;var b=p/4294967296*1e4&268435455;h[c++]=b>>>8&255,h[c++]=255&b,h[c++]=b>>>24&15|16,h[c++]=b>>>16&255,h[c++]=f>>>8|128,h[c++]=255&f;for(var v=0;v<6;++v)h[c+v]=u[v];return e||s(h)}},1171:(t,e,n)=>{var r=n(5217),i=n(5327);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},6988:t=>{t.exports=function t(e,n){var r,i=0,o=0,s=n=n||0,a=e.length;do{if(s>=a)return t.bytes=0,void(t.bytesRead=0);r=e[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return t.bytes=s-n,i}},1312:t=>{t.exports=function t(n,r,i){r=r||[];for(var o=i=i||0;n>=e;)r[i++]=255&n|128,n/=128;for(;-128&n;)r[i++]=255&n|128,n>>>=7;return r[i]=0|n,t.bytes=i-o+1,r};var e=Math.pow(2,31)},4676:(t,e,n)=>{t.exports={encode:n(1312),decode:n(6988),encodingLength:n(82)}},82:t=>{var e=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),l=Math.pow(2,56),c=Math.pow(2,63);t.exports=function(t){return t<e?1:t<n?2:t<r?3:t<i?4:t<o?5:t<s?6:t<a?7:t<l?8:t<c?9:10}},5840:(t,e,n)=>{var r;if("object"==typeof globalThis)r=globalThis;else try{r=n(284)}catch(t){}finally{if(r||"undefined"==typeof window||(r=window),!r)throw new Error("Could not determine global this")}var i=r.WebSocket||r.MozWebSocket,o=n(9387);function s(t,e){return e?new i(t,e):new i(t)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(t){Object.defineProperty(s,t,{get:function(){return i[t]}})})),t.exports={w3cwebsocket:i?s:null,version:o}},9387:(t,e,n)=>{t.exports=n(9794).version},6430:(t,e,n)=>{"use strict";var r=n(9804),i=n(3083),o=n(1924),s=o("Object.prototype.toString"),a=n(1405)()&&"symbol"==typeof Symbol.toStringTag,l=i(),c=o("String.prototype.slice"),h={},u=n(4079),f=Object.getPrototypeOf;a&&u&&f&&r(l,(function(t){if("function"==typeof n.g[t]){var e=new n.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=f(e),i=u(r,Symbol.toStringTag);if(!i){var o=f(r);i=u(o,Symbol.toStringTag)}h[t]=i.get}}));var d=n(5692);t.exports=function(t){return!!d(t)&&(a?function(t){var e=!1;return r(h,(function(n,r){if(!e)try{var i=n.call(t);i===r&&(e=i)}catch(t){}})),e}(t):c(s(t),8,-1))}},2479:t=>{t.exports=function t(e,n){if(e&&n)return t(e)(n);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){r[t]=e[t]})),r;function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(t){r[t]=i[t]})),r}}},5256:(t,e,n)=>{const r=n(4559);t.exports=class{constructor(t,e){this.instance=r(t,e)}update(t,e){this.instance.update(e,t)}final(){this.instance.finalize()}}},4559:(t,e,n)=>{var r="undefined"!=typeof WebAssembly&&n(4038)(),i=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),o=144,s=o,a=[];function l(t,e){if(!(this instanceof l))return new l(t,e);if(!t||t.length<24)throw new Error("nonce must be at least 24 bytes");if(!e||e.length<32)throw new Error("key must be at least 32 bytes");this._xor=r?new c(t,e):new h(t,e)}function c(t,e){a.length||(a.push(o),o+=64),this._pointer=a.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,this._memory=new Uint8Array(r.memory.buffer),this._memory.fill(0,this._pointer,this._pointer+8),this._memory.set(t,this._nonce),this._memory.set(e,this._key)}function h(t,e){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,f(this._s,t,e,i);for(var n=0;n<8;n++)this._z[n]=t[n+16]}function u(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,h=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,m=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,b=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,v=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=o,_=s,I=a,E=l,C=c,S=h,x=u,k=f,B=d,L=p,O=g,T=y,R=m,M=b,N=v,D=A,U=0;U<20;U+=2)w^=(i=(R^=(i=(B^=(i=(C^=(i=w+R|0)<<7|i>>>25)+w|0)<<9|i>>>23)+C|0)<<13|i>>>19)+B|0)<<18|i>>>14,S^=(i=(_^=(i=(M^=(i=(L^=(i=S+_|0)<<7|i>>>25)+S|0)<<9|i>>>23)+L|0)<<13|i>>>19)+M|0)<<18|i>>>14,O^=(i=(x^=(i=(I^=(i=(N^=(i=O+x|0)<<7|i>>>25)+O|0)<<9|i>>>23)+N|0)<<13|i>>>19)+I|0)<<18|i>>>14,D^=(i=(T^=(i=(k^=(i=(E^=(i=D+T|0)<<7|i>>>25)+D|0)<<9|i>>>23)+E|0)<<13|i>>>19)+k|0)<<18|i>>>14,w^=(i=(E^=(i=(I^=(i=(_^=(i=w+E|0)<<7|i>>>25)+w|0)<<9|i>>>23)+_|0)<<13|i>>>19)+I|0)<<18|i>>>14,S^=(i=(C^=(i=(k^=(i=(x^=(i=S+C|0)<<7|i>>>25)+S|0)<<9|i>>>23)+x|0)<<13|i>>>19)+k|0)<<18|i>>>14,O^=(i=(L^=(i=(B^=(i=(T^=(i=O+L|0)<<7|i>>>25)+O|0)<<9|i>>>23)+T|0)<<13|i>>>19)+B|0)<<18|i>>>14,D^=(i=(N^=(i=(M^=(i=(R^=(i=D+N|0)<<7|i>>>25)+D|0)<<9|i>>>23)+R|0)<<13|i>>>19)+M|0)<<18|i>>>14;w=w+o|0,_=_+s|0,I=I+a|0,E=E+l|0,C=C+c|0,S=S+h|0,x=x+u|0,k=k+f|0,B=B+d|0,L=L+p|0,O=O+g|0,T=T+y|0,R=R+m|0,M=M+b|0,N=N+v|0,D=D+A|0,t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=_>>>0&255,t[5]=_>>>8&255,t[6]=_>>>16&255,t[7]=_>>>24&255,t[8]=I>>>0&255,t[9]=I>>>8&255,t[10]=I>>>16&255,t[11]=I>>>24&255,t[12]=E>>>0&255,t[13]=E>>>8&255,t[14]=E>>>16&255,t[15]=E>>>24&255,t[16]=C>>>0&255,t[17]=C>>>8&255,t[18]=C>>>16&255,t[19]=C>>>24&255,t[20]=S>>>0&255,t[21]=S>>>8&255,t[22]=S>>>16&255,t[23]=S>>>24&255,t[24]=x>>>0&255,t[25]=x>>>8&255,t[26]=x>>>16&255,t[27]=x>>>24&255,t[28]=k>>>0&255,t[29]=k>>>8&255,t[30]=k>>>16&255,t[31]=k>>>24&255,t[32]=B>>>0&255,t[33]=B>>>8&255,t[34]=B>>>16&255,t[35]=B>>>24&255,t[36]=L>>>0&255,t[37]=L>>>8&255,t[38]=L>>>16&255,t[39]=L>>>24&255,t[40]=O>>>0&255,t[41]=O>>>8&255,t[42]=O>>>16&255,t[43]=O>>>24&255,t[44]=T>>>0&255,t[45]=T>>>8&255,t[46]=T>>>16&255,t[47]=T>>>24&255,t[48]=R>>>0&255,t[49]=R>>>8&255,t[50]=R>>>16&255,t[51]=R>>>24&255,t[52]=M>>>0&255,t[53]=M>>>8&255,t[54]=M>>>16&255,t[55]=M>>>24&255,t[56]=N>>>0&255,t[57]=N>>>8&255,t[58]=N>>>16&255,t[59]=N>>>24&255,t[60]=D>>>0&255,t[61]=D>>>8&255,t[62]=D>>>16&255,t[63]=D>>>24&255}function f(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,h=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,m=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,b=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,v=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=0;w<20;w+=2)o^=(i=(m^=(i=(d^=(i=(c^=(i=o+m|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,h^=(i=(s^=(i=(b^=(i=(p^=(i=h+s|0)<<7|i>>>25)+h|0)<<9|i>>>23)+p|0)<<13|i>>>19)+b|0)<<18|i>>>14,g^=(i=(u^=(i=(a^=(i=(v^=(i=g+u|0)<<7|i>>>25)+g|0)<<9|i>>>23)+v|0)<<13|i>>>19)+a|0)<<18|i>>>14,A^=(i=(y^=(i=(f^=(i=(l^=(i=A+y|0)<<7|i>>>25)+A|0)<<9|i>>>23)+l|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(l^=(i=(a^=(i=(s^=(i=o+l|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,h^=(i=(c^=(i=(f^=(i=(u^=(i=h+c|0)<<7|i>>>25)+h|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,g^=(i=(p^=(i=(d^=(i=(y^=(i=g+p|0)<<7|i>>>25)+g|0)<<9|i>>>23)+y|0)<<13|i>>>19)+d|0)<<18|i>>>14,A^=(i=(v^=(i=(b^=(i=(m^=(i=A+v|0)<<7|i>>>25)+A|0)<<9|i>>>23)+m|0)<<13|i>>>19)+b|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=h>>>0&255,t[5]=h>>>8&255,t[6]=h>>>16&255,t[7]=h>>>24&255,t[8]=g>>>0&255,t[9]=g>>>8&255,t[10]=g>>>16&255,t[11]=g>>>24&255,t[12]=A>>>0&255,t[13]=A>>>8&255,t[14]=A>>>16&255,t[15]=A>>>24&255,t[16]=u>>>0&255,t[17]=u>>>8&255,t[18]=u>>>16&255,t[19]=u>>>24&255,t[20]=f>>>0&255,t[21]=f>>>8&255,t[22]=f>>>16&255,t[23]=f>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}t.exports=l,l.NONCEBYTES=24,l.KEYBYTES=32,l.core_hsalsa20=f,l.SIGMA=i,l.prototype.update=function(t,e){if(!t)throw new Error("input must be Uint8Array or Buffer");return e||(e=new Uint8Array(t.length)),t.length&&this._xor.update(t,e),e},l.prototype.final=l.prototype.finalize=function(){this._xor.finalize(),this._xor=null},c.prototype.realloc=function(t){r.memory.grow(Math.ceil(Math.abs(t-this._memory.length)/65536)),this._memory=new Uint8Array(r.memory.buffer)},c.prototype.update=function(t,e){var n=this._overflow+t.length,i=o+this._overflow;(s=o+n)>=this._memory.length&&this.realloc(s),this._memory.set(t,i),r.xsalsa20_xor(this._pointer,o,o,n,this._nonce,this._key),e.set(this._memory.subarray(i,o+n)),this._overflow=63&n},c.prototype.finalize=function(){this._memory.fill(0,this._pointer,this._key+32),s>o&&(this._memory.fill(0,o,s),s=0),a.push(this._pointer)},h.prototype.update=function(t,e){for(var n=new Uint8Array(64),r=0,o=this._overflow,s=t.length+this._overflow,a=this._z,l=-this._overflow,c=-this._overflow;s>=64;){for(u(n,a,this._s,i);o<64;o++)e[c+o]=t[l+o]^n[o];for(r=1,o=8;o<16;o++)r+=255&a[o]|0,a[o]=255&r,r>>>=8;s-=64,c+=64,l+=64,o=0}if(s>0)for(u(n,a,this._s,i);o<s;o++)e[c+o]=t[l+o]^n[o];this._overflow=63&s},h.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)}},4038:t=>{var e,n,r=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var n=e.length,r=new Uint8Array(3*(n-("="==e[n-1])-("="==e[n-2]))/4|0),i=0,o=0;i<n;){var s=t[e.charCodeAt(i++)],a=t[e.charCodeAt(i++)],l=t[e.charCodeAt(i++)],c=t[e.charCodeAt(i++)];r[o++]=s<<2|a>>4,r[o++]=a<<4|l>>2,r[o++]=l<<6|c}return r}})(),i=(e={"wasm-binary:./xsalsa20.wat"(t,e){e.exports=r("AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL")}},function(){return n||(0,e[Object.keys(e)[0]])((n={exports:{}}).exports,n),n.exports})(),o=new WebAssembly.Module(i);t.exports=t=>new WebAssembly.Instance(o,t).exports},7529:t=>{t.exports=function(){for(var t={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)e.call(r,i)&&(t[i]=r[i])}return t};var e=Object.prototype.hasOwnProperty},3085:()=>{},452:()=>{},9054:()=>{},869:()=>{},1156:()=>{},6159:()=>{},2361:()=>{},4616:()=>{},4315:()=>{},722:()=>{},4599:()=>{},7040:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),i.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let n=[];return this.decompose(t,e,n,0),i.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new a(this),i=new a(t);for(let t=e,o=e;;){if(r.next(t),i.next(t),t=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(o+=r.value.length,r.done||o>=n)return!0}}iter(t=1){return new a(this,t)}iterRange(t,e=this.length){return new l(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new c(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new r(t):i.from(r.split(t,[])):n.empty}}class r extends n{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let i=0;;i++){let o=this.text[i],s=r+o.length;if((e?n:s)>=t)return new h(r,s,n,o);r=s+1,n++}}decompose(t,e,n,i){let a=t<=0&&e>=this.length?this:new r(s(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=o(a.text,t.text.slice(),0,a.length);if(e.length<=32)n.push(new r(e,t.length+a.length));else{let t=e.length>>1;n.push(new r(e.slice(0,t)),new r(e.slice(t)))}}else n.push(a)}replace(t,e,n){if(!(n instanceof r))return super.replace(t,e,n);let a=o(this.text,o(n.text,s(this.text,0,t)),e),l=this.length+n.length-(e-t);return a.length<=32?new r(a,l):i.from(r.split(a,[]),l)}sliceString(t,e=this.length,n="\n"){let r="";for(let i=0,o=0;i<=e&&o<this.text.length;o++){let s=this.text[o],a=i+s.length;i>t&&o&&(r+=n),t<a&&e>i&&(r+=s.slice(Math.max(0,t-i),e-i)),i=a+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let o of t)n.push(o),i+=o.length+1,32==n.length&&(e.push(new r(n,i)),n=[],i=-1);return i>-1&&e.push(new r(n,i)),e}}class i extends n{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,r){for(let i=0;;i++){let o=this.children[i],s=r+o.length,a=n+o.lines-1;if((e?a:s)>=t)return o.lineInner(t,e,n,r);r=s+1,n=a+1}}decompose(t,e,n,r){for(let i=0,o=0;o<=e&&i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(t<=a&&e>=o){let i=r&((o<=t?1:0)|(a>=e?2:0));o>=t&&a<=e&&!i?n.push(s):s.decompose(t-o,e-o,n,i)}o=a+1}}replace(t,e,n){if(n.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.length;if(t>=o&&e<=a){let l=s.replace(t-o,e-o,n),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let o=this.children.slice();return o[r]=l,new i(o,this.length-(e-t)+n.length)}return super.replace(o,a,l)}o=a+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){let r="";for(let i=0,o=0;i<this.children.length&&o<=e;i++){let s=this.children[i],a=o+s.length;o>t&&i&&(r+=n),t<a&&e>o&&(r+=s.sliceString(t-o,e-o,n)),o=a+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof i))return 0;let n=0,[r,o,s,a]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,o+=e){if(r==s||o==a)return n;let i=this.children[r],l=t.children[o];if(i!=l)return n+i.scanIdentical(l,e);n+=i.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let e of t)n+=e.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new r(n,e)}let o=Math.max(32,n>>5),s=o<<1,a=o>>1,l=[],c=0,h=-1,u=[];function f(t){let e;if(t.lines>s&&t instanceof i)for(let e of t.children)f(e);else t.lines>a&&(c>a||!c)?(d(),l.push(t)):t instanceof r&&c&&(e=u[u.length-1])instanceof r&&t.lines+e.lines<=32?(c+=t.lines,h+=t.length+1,u[u.length-1]=new r(e.text.concat(t.text),e.length+1+t.length)):(c+t.lines>o&&d(),c+=t.lines,h+=t.length+1,u.push(t))}function d(){0!=c&&(l.push(1==u.length?u[0]:i.from(u,h)),h=-1,c=u.length=0)}for(let e of t)f(e);return d(),1==l.length?l[0]:new i(l,e)}}function o(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let a=t[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}function s(t,e,n){return o(t,[""],e,n)}n.empty=new r([""],0);class a{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof r?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],o=this.offsets[n],s=o>>1,a=i instanceof r?i.text.length:i.children.length;if(s==(e>0?a:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof r){let r=i.text[s+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let o=i.children[s+(e<0?-1:0)];t>o.length?(t-=o.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(o),this.offsets.push(e>0?1:(o instanceof r?o.text.length:o.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class l{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new a(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class c{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this.iter()},a.prototype[Symbol.iterator]=l.prototype[Symbol.iterator]=c.prototype[Symbol.iterator]=function(){return this});class h{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}let u="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let t=1;t<u.length;t++)u[t]+=u[t-1];function f(t){for(let e=1;e<u.length;e+=2)if(u[e]>t)return u[e-1]<=t;return!1}function d(t){return t>=127462&&t<=127487}function p(t,e,n=!0,r=!0){return(n?g:y)(t,e,r)}function g(t,e,n){if(e==t.length)return e;e&&m(t.charCodeAt(e))&&b(t.charCodeAt(e-1))&&e--;let r=v(t,e);for(e+=A(r);e<t.length;){let i=v(t,e);if(8205==r||8205==i||n&&f(i))e+=A(i),r=i;else{if(!d(i))break;{let n=0,r=e-2;for(;r>=0&&d(v(t,r));)n++,r-=2;if(n%2==0)break;e+=2}}}return e}function y(t,e,n){for(;e>0;){let r=g(t,e-2,n);if(r<e)return r;e--}return 0}function m(t){return t>=56320&&t<57344}function b(t){return t>=55296&&t<56320}function v(t,e){let n=t.charCodeAt(e);if(!b(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return m(r)?r-56320+(n-55296<<10)+65536:n}function A(t){return t<65536?1:2}const w=/\r\n?|\n/;var _;e.MapMode=void 0,(_=e.MapMode||(e.MapMode={}))[_.Simple=0]="Simple",_[_.TrackDel=1]="TrackDel",_[_.TrackBefore=2]="TrackBefore",_[_.TrackAfter=3]="TrackAfter";class I{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let i=this.sections[e++],o=this.sections[e++];o<0?(t(n,r,i),r+=i):r+=o,n+=i}}iterChangedRanges(t,e=!1){x(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new I(t)}composeDesc(t){return this.empty?t:t.empty?this:B(this,t)}mapDesc(t,e=!1){return t.empty?this:k(this,t,e)}mapPos(t,n=-1,r=e.MapMode.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=i+a;if(l<0){if(c>t)return o+(t-i);o+=a}else{if(r!=e.MapMode.Simple&&c>=t&&(r==e.MapMode.TrackDel&&i<t&&c>t||r==e.MapMode.TrackBefore&&i<t||r==e.MapMode.TrackAfter&&c>t))return null;if(c>t||c==t&&n<0&&!a)return t==i||n<0?o:o+l;o+=l}i=c}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return o}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=e&&i>=t)return!(r<t&&i>e)||"cover";r=i}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new I(t)}static create(t){return new I(t)}}class E extends I{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return x(this,((e,n,r,i,o)=>t=t.replace(r,r+(n-e),o)),!1),t}mapDesc(t,e=!1){return k(this,t,e,!0)}invert(t){let e=this.sections.slice(),r=[];for(let i=0,o=0;i<e.length;i+=2){let s=e[i],a=e[i+1];if(a>=0){e[i]=a,e[i+1]=s;let l=i>>1;for(;r.length<l;)r.push(n.empty);r.push(s?t.slice(o,o+s):n.empty)}o+=s}return new E(e,r)}compose(t){return this.empty?t:t.empty?this:B(this,t,!0)}map(t,e=!1){return t.empty?this:k(this,t,e,!0)}iterChanges(t,e=!1){x(this,t,e)}get desc(){return I.create(this.sections)}filter(t){let e=[],n=[],r=[],i=new L(this);t:for(let o=0,s=0;;){let a=o==t.length?1e9:t[o++];for(;s<a||s==a&&0==i.len;){if(i.done)break t;let t=Math.min(i.len,a-s);C(r,t,-1);let o=-1==i.ins?-1:0==i.off?i.ins:0;C(e,t,o),o>0&&S(n,e,i.text),i.forward(t),s+=t}let l=t[o++];for(;s<l;){if(i.done)break t;let t=Math.min(i.len,l-s);C(e,t,-1),C(r,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),s+=t}}return{changes:new E(e,n),filtered:I.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):0==r?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,r){let i=[],o=[],s=0,a=null;function l(t=!1){if(!t&&!i.length)return;s<e&&C(i,e-s,-1);let n=new E(i,o);a=a?a.compose(n.map(a)):n,i=[],o=[],s=0}return function t(c){if(Array.isArray(c))for(let e of c)t(e);else if(c instanceof E){if(c.length!=e)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${e})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:t,to:a=t,insert:h}=c;if(t>a||t<0||a>e)throw new RangeError(`Invalid change range ${t} to ${a} (in doc of length ${e})`);let u=h?"string"==typeof h?n.of(h.split(r||w)):h:n.empty,f=u.length;if(t==a&&0==f)return;t<s&&l(),t>s&&C(i,t-s,-1),C(i,a-t,f),S(o,i,u),s=a}}(t),l(!a),a}static empty(t){return new E(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],r=[];for(let i=0;i<t.length;i++){let o=t[i];if("number"==typeof o)e.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)e.push(o[0],0);else{for(;r.length<i;)r.push(n.empty);r[i]=n.of(o.slice(1)),e.push(o[0],r[i].length)}}}return new E(e,r)}static createSet(t,e){return new E(t,e)}}function C(t,e,n,r=!1){if(0==e&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:0==e&&0==t[i]?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function S(t,e,r){if(0==r.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<i;)t.push(n.empty);t.push(r)}}function x(t,e,r){let i=t.inserted;for(let o=0,s=0,a=0;a<t.sections.length;){let l=t.sections[a++],c=t.sections[a++];if(c<0)o+=l,s+=l;else{let h=o,u=s,f=n.empty;for(;h+=l,u+=c,c&&i&&(f=f.append(i[a-2>>1])),!(r||a==t.sections.length||t.sections[a+1]<0);)l=t.sections[a++],c=t.sections[a++];e(o,h,s,u,f),o=h,s=u}}}function k(t,e,n,r=!1){let i=[],o=r?[]:null,s=new L(t),a=new L(e);for(let t=-1;;)if(-1==s.ins&&-1==a.ins){let t=Math.min(s.len,a.len);C(i,t,-1),s.forward(t),a.forward(t)}else if(a.ins>=0&&(s.ins<0||t==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!n))){let e=a.len;for(C(i,a.ins,-1);e;){let n=Math.min(s.len,e);s.ins>=0&&t<s.i&&s.len<=n&&(C(i,0,s.ins),o&&S(o,i,s.text),t=s.i),s.forward(n),e-=n}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?E.createSet(i,o):I.create(i);throw new Error("Mismatched change set lengths")}{let e=0,n=s.len;for(;n;)if(-1==a.ins){let t=Math.min(n,a.len);e+=t,n-=t,a.forward(t)}else{if(!(0==a.ins&&a.len<n))break;n-=a.len,a.next()}C(i,e,t<s.i?s.ins:0),o&&t<s.i&&S(o,i,s.text),t=s.i,s.forward(s.len-n)}}}function B(t,e,n=!1){let r=[],i=n?[]:null,o=new L(t),s=new L(e);for(let t=!1;;){if(o.done&&s.done)return i?E.createSet(r,i):I.create(r);if(0==o.ins)C(r,o.len,0,t),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let e=Math.min(o.len2,s.len),n=r.length;if(-1==o.ins){let n=-1==s.ins?-1:s.off?0:s.ins;C(r,e,n,t),i&&n&&S(i,r,s.text)}else-1==s.ins?(C(r,o.off?0:o.len,e,t),i&&S(i,r,o.textBit(e))):(C(r,o.off?0:o.len,s.off?0:s.ins,t),i&&!s.off&&S(i,r,s.text));t=(o.ins>e||s.ins>=0&&s.len>e)&&(t||r.length>n),o.forward2(e),s.forward(e)}}else C(r,0,s.ins,t),i&&S(i,r,s.text),s.next()}}class L{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?n.empty:t[e]}textBit(t){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length&&!t?n.empty:e[r].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class O{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t,e=-1){let n,r;return this.empty?n=r=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new O(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return T.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return T.range(this.anchor,n)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return T.range(t.anchor,t.head)}static create(t,e,n){return new O(t,e,n)}}class T{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:T.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new T([this.main],0)}addRange(t,e=!0){return T.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,T.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new T(t.ranges.map((t=>O.fromJSON(t))),t.main)}static single(t,e=t){return new T([T.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let i=t[r];if(i.empty?i.from<=n:i.from<n)return T.normalized(t.slice(),e);n=i.to}return new T(t,e)}static cursor(t,e=0,n,r){return O.create(t,t,(0==e?0:e<0?4:8)|(null==n?3:Math.min(2,n))|(null!=r?r:33554431)<<5)}static range(t,e,n){let r=(null!=n?n:33554431)<<5;return e<t?O.create(e,t,24|r):O.create(t,e,r|(e>t?4:0))}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let r=t[n],i=t[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let o=i.from,s=Math.max(r.to,i.to);n<=e&&e--,t.splice(--n,2,r.anchor>r.head?T.range(s,o):T.range(o,s))}}return new T(t,e)}}function R(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let M=0;class N{constructor(t,e,n,r,i){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.id=M++,this.default=t([]),this.extensions="function"==typeof i?i(this):i}static define(t={}){return new N(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:D),!!t.static,t.enables)}of(t){return new U([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new U(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new U(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function D(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class U{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=M++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,i=this.id,o=t[i]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?a=!0:"selection"==n?l=!0:0==(1&(null!==(e=t[n.id])&&void 0!==e?e:1))&&c.push(t[n.id]);return{create:t=>(t.values[o]=n(t),1),update(t,e){if(a&&e.docChanged||l&&(e.docChanged||e.selection)||j(t,c)){let e=n(t);if(s?!Q(e,t.values[o],r):!r(e,t.values[o]))return t.values[o]=e,1}return 0},reconfigure:(t,e)=>{let a=n(t),l=e.config.address[i];if(null!=l){let n=$(e,l);if(this.dependencies.every((n=>n instanceof N?e.facet(n)===t.facet(n):!(n instanceof H)||e.field(n,!1)==t.field(n,!1)))||(s?Q(a,n,r):r(a,n)))return t.values[o]=n,0}return t.values[o]=a,1}}}}function Q(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function j(t,e){let n=!1;for(let r of e)1&G(t,r)&&(n=!0);return n}function F(t,e,n){let r=n.map((e=>t[e.id])),i=n.map((t=>t.type)),o=r.filter((t=>!(1&t))),s=t[e.id]>>1;function a(t){let n=[];for(let e=0;e<r.length;e++){let o=$(t,r[e]);if(2==i[e])for(let t of o)n.push(t);else n.push(o)}return e.combine(n)}return{create(t){for(let e of r)G(t,e);return t.values[s]=a(t),1},update(t,n){if(!j(t,o))return 0;let r=a(t);return e.compare(r,t.values[s])?0:(t.values[s]=r,1)},reconfigure(t,i){let o=j(t,r),l=i.config.facets[e.id],c=i.facet(e);if(l&&!o&&D(n,l))return t.values[s]=c,0;let h=a(t);return e.compare(h,c)?(t.values[s]=c,0):(t.values[s]=h,1)}}}const P=N.define({static:!0});class H{constructor(t,e,n,r,i){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(t){let e=new H(M++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(P).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let r=t.values[e],i=this.updateF(r,n);return this.compareF(r,i)?0:(t.values[e]=i,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,P.of({field:this,create:t})]}get extension(){return this}}function K(t){return e=>new V(e,t)}const z={highest:K(0),high:K(1),default:K(2),low:K(3),lowest:K(4)};class V{constructor(t,e){this.inner=t,this.prec=e}}class Y{of(t){return new W(this,t)}reconfigure(t){return Y.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class W{constructor(t,e){this.compartment=t,this.inner=e}}class q{constructor(t,e,n,r,i,o){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],i=Object.create(null),o=new Map;for(let n of function(t,e,n){let r=[[],[],[],[],[]],i=new Map;return function t(o,s){let a=i.get(o);if(null!=a){if(a<=s)return;let t=r[a].indexOf(o);t>-1&&r[a].splice(t,1),o instanceof W&&n.delete(o.compartment)}if(i.set(o,s),Array.isArray(o))for(let e of o)t(e,s);else if(o instanceof W){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=e.get(o.compartment)||o.inner;n.set(o.compartment,r),t(r,s)}else if(o instanceof V)t(o.inner,o.prec);else if(o instanceof H)r[s].push(o),o.provides&&t(o.provides,s);else if(o instanceof U)r[s].push(o),o.facet.extensions&&t(o.facet.extensions,s);else{let e=o.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);t(e,s)}}(t,2),r.reduce(((t,e)=>t.concat(e)))}(t,e,o))n instanceof H?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let s=Object.create(null),a=[],l=[];for(let t of r)s[t.id]=l.length<<1,l.push((e=>t.slot(e)));let c=null==n?void 0:n.config.facets;for(let t in i){let e=i[t],r=e[0].facet,o=c&&c[t]||[];if(e.every((t=>0==t.type)))if(s[r.id]=a.length<<1|1,D(o,e))a.push(n.facet(r));else{let t=r.combine(e.map((t=>t.value)));a.push(n&&r.compare(t,n.facet(r))?n.facet(r):t)}else{for(let t of e)0==t.type?(s[t.id]=a.length<<1|1,a.push(t.value)):(s[t.id]=l.length<<1,l.push((e=>t.dynamicSlot(e))));s[r.id]=l.length<<1,l.push((t=>F(t,r,e)))}}let h=l.map((t=>t(s)));return new q(t,o,h,s,a,i)}}function G(t,e){if(1&e)return 2;let n=e>>1,r=t.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function $(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const J=N.define(),X=N.define({combine:t=>t.some((t=>t)),static:!0}),Z=N.define({combine:t=>t.length?t[0]:void 0,static:!0}),tt=N.define(),et=N.define(),nt=N.define(),rt=N.define({combine:t=>!!t.length&&t[0]});class it{constructor(t,e){this.type=t,this.value=e}static define(){return new ot}}class ot{of(t){return new it(this,t)}}class st{constructor(t){this.map=t}of(t){return new at(this,t)}}class at{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new at(this.type,e)}is(t){return this.type==t}static define(t={}){return new st(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let t=r.map(e);t&&n.push(t)}return n}}at.reconfigure=at.define(),at.appendConfig=at.define();class lt{constructor(t,e,n,r,i,o){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=o,this._doc=null,this._state=null,n&&R(n,e.newLength),i.some((t=>t.type==lt.time))||(this.annotations=i.concat(lt.time.of(Date.now())))}static create(t,e,n,r,i,o){return new lt(t,e,n,r,i,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(lt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function ct(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else{if(!(i<e.length))return n;o=e[i++],s=e[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function ht(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=E.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):null===(r=t.selection)||void 0===r?void 0:r.map(i),effects:at.mapEffects(t.effects,i).concat(at.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function ut(t,e,n){let r=e.selection,i=pt(e.annotations);return e.userEvent&&(i=i.concat(lt.userEvent.of(e.userEvent))),{changes:e.changes instanceof E?e.changes:E.of(e.changes||[],n,t.facet(Z)),selection:r&&(r instanceof T?r:T.single(r.anchor,r.head)),effects:pt(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function ft(t,e,n){let r=ut(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let i=1;i<e.length;i++){!1===e[i].filter&&(n=!1);let o=!!e[i].sequential;r=ht(r,ut(t,e[i],o?r.changes.newLength:t.doc.length),o)}let i=lt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(t){let e=t.startState,n=e.facet(nt),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=ht(t,ut(e,o,t.changes.newLength),!0))}return r==t?t:lt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let r of e.facet(tt)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:ct(n,e))}if(!0!==n){let r,i;if(!1===n)i=t.changes.invertedDesc,r=E.empty(e.doc.length);else{let e=t.changes.filter(n);r=e.changes,i=e.filtered.mapDesc(e.changes).invertedDesc}t=lt.create(e,r,t.selection&&t.selection.map(i),at.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(et);for(let n=r.length-1;n>=0;n--){let i=r[n](t);t=i instanceof lt?i:Array.isArray(i)&&1==i.length&&i[0]instanceof lt?i[0]:ft(e,pt(i),!1)}return t}(i):i)}lt.time=it.define(),lt.userEvent=it.define(),lt.addToHistory=it.define(),lt.remote=it.define();const dt=[];function pt(t){return null==t?dt:Array.isArray(t)?t:[t]}var gt;e.CharCategory=void 0,(gt=e.CharCategory||(e.CharCategory={}))[gt.Word=0]="Word",gt[gt.Space=1]="Space",gt[gt.Other=2]="Other";const yt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let mt;try{mt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}class bt{constructor(t,e,n,r,i,o){this.config=t,this.doc=e,this.selection=n,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=i,o&&(o._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)G(this,t<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return G(this,n),$(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return ft(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:r,compartments:i}=n;for(let e of t.effects)e.is(Y.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((t,e)=>i.set(e,t))),n=null),i.set(e.value.compartment,e.value.extension)):e.is(at.reconfigure)?(n=null,r=e.value):e.is(at.appendConfig)&&(n=null,r=pt(r).concat(e.value));n?e=t.startState.values.slice():(n=q.resolve(r,i,this),e=new bt(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null).values),new bt(n,t.newDoc,t.newSelection,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:T.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),i=[n.range],o=pt(n.effects);for(let n=1;n<e.ranges.length;n++){let s=t(e.ranges[n]),a=this.changes(s.changes),l=a.map(r);for(let t=0;t<n;t++)i[t]=i[t].map(l);let c=r.mapDesc(a,!0);i.push(s.range.map(c)),r=r.compose(l),o=at.mapEffects(o,l).concat(at.mapEffects(pt(s.effects),c))}return{changes:r,selection:T.create(i,e.mainIndex),effects:o}}changes(t=[]){return t instanceof E?t:E.of(t,this.doc.length,this.facet(bt.lineSeparator))}toText(t){return n.of(t.split(this.facet(bt.lineSeparator)||w))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(G(this,e),$(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let r=t[n];r instanceof H&&null!=this.config.address[r.id]&&(e[n]=r.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let e in n)if(Object.prototype.hasOwnProperty.call(t,e)){let i=n[e],o=t[e];r.push(i.init((t=>i.spec.fromJSON(o,t))))}return bt.create({doc:t.doc,selection:T.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=q.resolve(t.extensions||[],new Map),r=t.doc instanceof n?t.doc:n.of((t.doc||"").split(e.staticFacet(bt.lineSeparator)||w)),i=t.selection?t.selection instanceof T?t.selection:T.single(t.selection.anchor,t.selection.head):T.single(0);return R(i,r.length),e.staticFacet(X)||(i=i.asSingle()),new bt(e,r,i,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(bt.tabSize)}get lineBreak(){return this.facet(bt.lineSeparator)||"\n"}get readOnly(){return this.facet(rt)}phrase(t,...e){for(let e of this.facet(bt.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>e.length?t:e[r-1]}))),t}languageDataAt(t,e,n=-1){let r=[];for(let i of this.facet(J))for(let o of i(this,e,n))Object.prototype.hasOwnProperty.call(o,t)&&r.push(o[t]);return r}charCategorizer(t){return n=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return e.CharCategory.Space;if(function(t){if(mt)return mt.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||yt.test(n)))return!0}return!1}(t))return e.CharCategory.Word;for(let r=0;r<n.length;r++)if(t.indexOf(n[r])>-1)return e.CharCategory.Word;return e.CharCategory.Other};var n}wordAt(t){let{text:n,from:r,length:i}=this.doc.lineAt(t),o=this.charCategorizer(t),s=t-r,a=t-r;for(;s>0;){let t=p(n,s,!1);if(o(n.slice(t,s))!=e.CharCategory.Word)break;s=t}for(;a<i;){let t=p(n,a);if(o(n.slice(a,t))!=e.CharCategory.Word)break;a=t}return s==a?null:T.range(s+r,a+r)}}bt.allowMultipleSelections=X,bt.tabSize=N.define({combine:t=>t.length?t[0]:4}),bt.lineSeparator=Z,bt.readOnly=rt,bt.phrases=N.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every((n=>t[n]==e[n]))}}),bt.languageData=J,bt.changeFilter=tt,bt.transactionFilter=et,bt.transactionExtender=nt,Y.reconfigure=at.define();class vt{eq(t){return this==t}range(t,e=t){return At.create(t,e,this)}}vt.prototype.startSide=vt.prototype.endSide=0,vt.prototype.point=!1,vt.prototype.mapMode=e.MapMode.TrackDel;class At{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new At(t,e,n)}}function wt(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class _t{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let i=n?this.to:this.from;for(let o=r,s=i.length;;){if(o==s)return o;let r=o+s>>1,a=i[r]-t||(n?this.value[r].endSide:this.value[r].startSide)-e;if(r==o)return a>=0?o:s;a>=0?s=r:o=r+1}}between(t,e,n,r){for(let i=this.findIndex(e,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let n=[],r=[],i=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,h=this.value[a],u=this.from[a]+t,f=this.to[a]+t;if(u==f){let t=e.mapPos(u,h.startSide,h.mapMode);if(null==t)continue;if(l=c=t,h.startSide!=h.endSide&&(c=e.mapPos(u,h.endSide),c<l))continue}else if(l=e.mapPos(u,h.startSide),c=e.mapPos(f,h.endSide),l>c||l==c&&h.startSide>0&&h.endSide<=0)continue;(c-l||h.endSide-h.startSide)<0||(o<0&&(o=l),h.point&&(s=Math.max(s,c-l)),n.push(h),r.push(l-o),i.push(c-o))}return{mapped:n.length?new _t(r,i,n,s):null,pos:o}}}class It{constructor(t,e,n,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}static create(t,e,n,r){return new It(t,e,n,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=t,o=t.filter;if(0==e.length&&!o)return this;if(n&&(e=e.slice().sort(wt)),this.isEmpty)return e.length?It.of(e):this;let s=new St(this,null,-1).goto(0),a=0,l=[],c=new Et;for(;s.value||a<e.length;)if(a<e.length&&(s.from-e[a].from||s.startSide-e[a].value.startSide)>=0){let t=e[a++];c.addInner(t.from,t.to,t.value)||l.push(t)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(s.chunkIndex)<e[a].from)&&(!o||r>this.chunkEnd(s.chunkIndex)||i<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||r>s.to||i<s.from||o(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||l.push(At.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?It.empty:this.nextLayer.update({add:l,filter:o,filterFrom:r,filterTo:i}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i],a=t.touchesRange(o,o+s.length);if(!1===a)r=Math.max(r,s.maxPoint),e.push(s),n.push(t.mapPos(o));else if(!0===a){let{mapped:i,pos:a}=s.map(o,t);i&&(r=Math.max(r,i.maxPoint),e.push(i),n.push(a))}}let i=this.nextLayer.map(t);return 0==e.length?i:new It(n,e,i||It.empty,r)}between(t,e,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r];if(e>=i&&t<=i+o.length&&!1===o.between(i,t-i,e-i,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return xt.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return xt.from(t).goto(e)}static compare(t,e,n,r,i=-1){let o=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),s=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),a=Ct(o,s,n),l=new Bt(o,a,i),c=new Bt(s,a,i);n.iterGaps(((t,e,n)=>Lt(l,t,c,e,n,r))),n.empty&&0==n.length&&Lt(l,0,c,0,0,r)}static eq(t,e,n=0,r){null==r&&(r=1e9);let i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(i.length!=o.length)return!1;if(!i.length)return!0;let s=Ct(i,o),a=new Bt(i,s,0).goto(n),l=new Bt(o,s,0).goto(n);for(;;){if(a.to!=l.to||!Ot(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}static spans(t,e,n,r,i=-1){let o=new Bt(t,null,i).goto(e),s=e,a=o.openStart;for(;;){let t=Math.min(o.to,n);if(o.point?(r.point(s,t,o.point,o.activeForPoint(o.to),a,o.pointRank),a=o.openEnd(t)+(o.to>t?1:0)):t>s&&(r.span(s,t,o.active,a),a=o.openEnd(t)),o.to>n)break;s=o.to,o.next()}return a}static of(t,e=!1){let n=new Et;for(let r of t instanceof At?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(wt(e,r)>0)return t.slice().sort(wt);e=r}return t}(t):t)n.add(r.from,r.to,r.value);return n.finish()}}It.empty=new It([],[],null,-1),It.empty.nextLayer=It.empty;class Et{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new _t(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Et)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),0))}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(It.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=It.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Ct(t,e,n){let r=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&r.set(e.chunk[t],e.chunkPos[t]);let i=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let o=r.get(t.chunk[e]);null==o||(n?n.mapPos(o):o)!=t.chunkPos[e]||(null==n?void 0:n.touchesRange(o,o+t.chunk[e].length))||i.add(t.chunk[e])}return i}class St{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class xt{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let i=0;i<t.length;i++)for(let o=t[i];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&r.push(new St(o,e,n,i));return 1==r.length?r[0]:new xt(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)kt(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)kt(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),kt(this.heap,0)}}}function kt(t,e){for(let n=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Bt{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=xt.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Tt(this.active,t),Tt(this.activeTo,t),Tt(this.activeRank,t),this.minActive=Mt(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:i}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=i;)e++;Rt(this.active,e,n),Rt(this.activeTo,e,r),Rt(this.activeRank,e,i),t&&Rt(t,e,this.cursor.from),this.minActive=Mt(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null,r=0;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Tt(n,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let i=this.cursor.value;if(i.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.from<t&&(r=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){let e=0;for(;e<n.length&&n[e]<t;)e++;this.openStart=e+r}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Lt(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,a=r,l=r-e;for(;;){let e=t.to+l-n.to||t.endSide-n.endSide,r=e<0?t.to+l:n.to,i=Math.min(r,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Ot(t.activeForPoint(t.to+l),n.activeForPoint(n.to))||o.comparePoint(a,i,t.point,n.point):i>a&&!Ot(t.active,n.active)&&o.compareRange(a,i,t.active,n.active),r>s)break;a=r,e<=0&&t.next(),e>=0&&n.next()}}function Ot(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Tt(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Rt(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function Mt(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}e.Annotation=it,e.AnnotationType=ot,e.ChangeDesc=I,e.ChangeSet=E,e.Compartment=Y,e.EditorSelection=T,e.EditorState=bt,e.Facet=N,e.Line=h,e.Prec=z,e.Range=At,e.RangeSet=It,e.RangeSetBuilder=Et,e.RangeValue=vt,e.SelectionRange=O,e.StateEffect=at,e.StateEffectType=st,e.StateField=H,e.Text=n,e.Transaction=lt,e.codePointAt=v,e.codePointSize=A,e.combineConfig=function(t,e,n={}){let r={};for(let e of t)for(let t of Object.keys(e)){let i=e[t],o=r[t];if(void 0===o)r[t]=i;else if(o===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);r[t]=n[t](o,i)}}for(let t in e)void 0===r[t]&&(r[t]=e[t]);return r},e.countColumn=function(t,e,n=t.length){let r=0;for(let i=0;i<n;)9==t.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=p(t,i));return r},e.findClusterBreak=p,e.findColumn=function(t,e,n,r){for(let r=0,i=0;;){if(i>=e)return r;if(r==t.length)break;i+=9==t.charCodeAt(r)?n-i%n:1,r=p(t,r)}return!0===r?-1:t.length},e.fromCodePoint=function(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}},3083:(t,e,n)=>{"use strict";var r=n(2190);t.exports=function(){return r(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(t){return"function"==typeof n.g[t]}))}},1645:(t,e,n)=>{"use strict";n.r(e),n.d(e,{EditorClient:()=>c,FirepadCore:()=>x,OperationEvent:()=>B,ServerAdapter:()=>v,TextOperation:()=>b,TriggerAdapter:()=>k});var r=n(7187);const i={makeEventEmitter:function(t,e){t.prototype.allowedEvents_=e,t.prototype.on=function(t,e,n){this.validateEventType_(t),this.eventListeners_=this.eventListeners_||{},this.eventListeners_[t]=this.eventListeners_[t]||[],this.eventListeners_[t].push({callback:e,context:n})},t.prototype.off=function(t,e){this.validateEventType_(t),this.eventListeners_=this.eventListeners_||{};for(var n=this.eventListeners_[t]||[],r=0;r<n.length;r++)if(n[r].callback===e)return void n.splice(r,1)},t.prototype.trigger=function(t){this.eventListeners_=this.eventListeners_||{};for(var e=this.eventListeners_[t]||[],n=0;n<e.length;n++)e[n].callback.apply(e[n].context,Array.prototype.slice.call(arguments,1))},t.prototype.validateEventType_=function(t){if(this.allowedEvents_){for(var e=!1,n=0;n<this.allowedEvents_.length;n++)if(this.allowedEvents_[n]===t){e=!0;break}if(!e)throw new Error('Unknown event "'+t+'"')}}},elt:function(t,e,n){var r=document.createElement(t);if("string"==typeof e)i.setTextContent(r,e);else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);for(var s in n||{})r.setAttribute(s,n[s]);return r},setTextContent:function(t,e){t.innerHTML="",t.appendChild(document.createTextNode(e))},on:function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent&&t.attachEvent("on"+e,n)},off:function(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r||!1):t.detachEvent&&t.detachEvent("on"+e,n)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},stopEvent:function(t){i.preventDefault(t),i.stopPropagation(t)},stopEventAnd:function(t){return function(e){return t(e),i.stopEvent(e),!1}},trim:function(t){return t.replace(/^\s+/g,"").replace(/\s+$/g,"")},stringEndsWith:function(t,e){for(var n="string"==typeof e?[e]:e,r=0;r<n.length;r++)if(e=n[r],-1!==t.indexOf(e,t.length-e.length))return!0;return!1},assert:function(t,e){if(!t)throw new Error(e||"assertion error")},log:function(){if("undefined"!=typeof console&&void 0!==console.log){for(var t=["Firepad:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.log.apply(console,t)}}},o=function(){function t(t,e){this.position=t,this.selectionEnd=e}return t.fromJSON=function(e){return new t(e.position,e.selectionEnd)},t.prototype.equals=function(t){return this.position===t.position&&this.selectionEnd===t.selectionEnd},t.prototype.compose=function(t){return t},t.prototype.transform=function(e){function n(t){for(var n=t,r=e.ops,i=0,o=e.ops.length;i<o&&(r[i].isRetain()?t-=r[i].chars:r[i].isInsert()?n+=r[i].text.length:(n-=Math.min(t,r[i].chars),t-=r[i].chars),!(t<0));i++);return n}var r=n(this.position);return this.position===this.selectionEnd?new t(r,r):new t(r,n(this.selectionEnd))},t}(),s=function(){function t(){this.state=n}function e(){}t.prototype.setState=function(t){this.state=t},t.prototype.applyClient=function(t){this.setState(this.state.applyClient(this,t))},t.prototype.applyServer=function(t){this.setState(this.state.applyServer(this,t))},t.prototype.serverAck=function(){this.setState(this.state.serverAck(this))},t.prototype.serverRetry=function(){this.setState(this.state.serverRetry(this))},t.prototype.sendOperation=function(t){throw new Error("sendOperation must be defined in child class")},t.prototype.applyOperation=function(t){throw new Error("applyOperation must be defined in child class")},t.Synchronized=e,e.prototype.applyClient=function(t,e){return t.sendOperation(e),new r(e)},e.prototype.applyServer=function(t,e){return t.applyOperation(e),this},e.prototype.serverAck=function(t){throw new Error("There is no pending operation.")},e.prototype.serverRetry=function(t){throw new Error("There is no pending operation.")};var n=new e;function r(t){this.outstanding=t}function i(t,e){this.outstanding=t,this.buffer=e}return t.AwaitingConfirm=r,r.prototype.applyClient=function(t,e){return new i(this.outstanding,e)},r.prototype.applyServer=function(t,e){var n=this.outstanding.transform(e);return t.applyOperation(n[1]),new r(n[0])},r.prototype.serverAck=function(t){return n},r.prototype.serverRetry=function(t){return t.sendOperation(this.outstanding),this},t.AwaitingWithBuffer=i,i.prototype.applyClient=function(t,e){var n=this.buffer.compose(e);return new i(this.outstanding,n)},i.prototype.applyServer=function(t,e){var n=this.outstanding.transform(e),r=this.buffer.transform(n[1]);return t.applyOperation(r[1]),new i(n[0],r[0])},i.prototype.serverRetry=function(t){var e=this.outstanding.compose(this.buffer);return t.sendOperation(e),new r(e)},i.prototype.serverAck=function(t){return t.sendOperation(this.buffer),new r(this.buffer)},t}(),a=function(){var t="normal",e="undoing",n="redoing";function r(e){this.maxItems=e||50,this.state=t,this.dontCompose=!1,this.undoStack=[],this.redoStack=[]}function i(t,e){for(var n=[],r=e.constructor,i=t.length-1;i>=0;i--){var o=r.transform(t[i],e);"function"==typeof o[0].isNoop&&o[0].isNoop()||n.push(o[0]),e=o[1]}return n.reverse()}return r.prototype.add=function(t,r){if(this.state===e)this.redoStack.push(t),this.dontCompose=!0;else if(this.state===n)this.undoStack.push(t),this.dontCompose=!0;else{var i=this.undoStack;!this.dontCompose&&r&&i.length>0?i.push(t.compose(i.pop())):(i.push(t),i.length>this.maxItems&&i.shift()),this.dontCompose=!1,this.redoStack=[]}},r.prototype.transform=function(t){this.undoStack=i(this.undoStack,t),this.redoStack=i(this.redoStack,t)},r.prototype.performUndo=function(n){if(this.state=e,0===this.undoStack.length)throw new Error("undo not possible");n(this.undoStack.pop()),this.state=t},r.prototype.performRedo=function(e){if(this.state=n,0===this.redoStack.length)throw new Error("redo not possible");e(this.redoStack.pop()),this.state=t},r.prototype.canUndo=function(){return 0!==this.undoStack.length},r.prototype.canRedo=function(){return 0!==this.redoStack.length},r.prototype.isUndoing=function(){return this.state===e},r.prototype.isRedoing=function(){return this.state===n},r}(),l=function(t){function e(t,e){this.wrapped=t,this.meta=e}function n(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function r(t,e){return t&&"object"==typeof t&&"function"==typeof t.transform?t.transform(e):t}return e.prototype.apply=function(){return this.wrapped.apply.apply(this.wrapped,arguments)},e.prototype.invert=function(){var t=this.meta;return new e(this.wrapped.invert.apply(this.wrapped,arguments),t&&"object"==typeof t&&"function"==typeof t.invert?t.invert.apply(t,arguments):t)},e.prototype.compose=function(t){return new e(this.wrapped.compose(t.wrapped),function(t,e){if(t&&"object"==typeof t){if("function"==typeof t.compose)return t.compose(e);var r={};return n(t,r),n(e,r),r}return e}(this.meta,t.meta))},e.transform=function(t,n){var i=t.wrapped.transform(n.wrapped);return[new e(i[0],r(t.meta,n.wrapped)),new e(i[1],r(n.meta,t.wrapped))]},e.prototype.transform=function(t){return e.transform(this,t)},e}(),c=function(){function t(t,e){this.cursorBefore=t,this.cursorAfter=e}function e(t,e){this.id=t,this.editorAdapter=e}function n(t,e){s.call(this),this.serverAdapter=t,this.editorAdapter=e,this.undoManager=new a,this.clients={};var n=this;this.editorAdapter.registerCallbacks({change:function(t,e){n.onChange(t,e)},cursorActivity:function(){n.onCursorActivity()},blur:function(){n.onBlur()},focus:function(){n.onFocus()}}),this.editorAdapter.registerUndo((function(){n.undo()})),this.editorAdapter.registerRedo((function(){n.redo()})),this.serverAdapter.registerCallbacks({ack:function(){n.serverAck(),n.focused&&n.state instanceof s.Synchronized&&(n.updateCursor(),n.sendCursor(n.cursor)),n.emitStatus()},retry:function(){n.serverRetry()},operation:function(t){n.applyServer(t)},cursor:function(t,e,r){if(n.serverAdapter.userId_!==t&&n.state instanceof s.Synchronized){var i=n.getClientObject(t);e?(r&&i.setColor(r),i.updateCursor(o.fromJSON(e))):i.removeCursor()}}})}return t.prototype.invert=function(){return new t(this.cursorAfter,this.cursorBefore)},t.prototype.compose=function(e){return new t(this.cursorBefore,e.cursorAfter)},t.prototype.transform=function(e){return new t(this.cursorBefore?this.cursorBefore.transform(e):null,this.cursorAfter?this.cursorAfter.transform(e):null)},e.prototype.setColor=function(t){this.color=t},e.prototype.updateCursor=function(t){this.removeCursor(),this.cursor=t,this.mark=this.editorAdapter.setOtherCursor(t,this.color,this.id)},e.prototype.removeCursor=function(){this.mark&&this.mark.clear()},function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}(n,s),n.prototype.getClientObject=function(t){return this.clients[t]||(this.clients[t]=new e(t,this.editorAdapter))},n.prototype.applyUnredo=function(t){this.undoManager.add(this.editorAdapter.invertOperation(t)),this.editorAdapter.applyOperation(t.wrapped),this.cursor=t.meta.cursorAfter,this.cursor&&this.editorAdapter.setCursor(this.cursor),this.applyClient(t.wrapped)},n.prototype.undo=function(){var t=this;this.undoManager.canUndo()&&this.undoManager.performUndo((function(e){t.applyUnredo(e)}))},n.prototype.redo=function(){var t=this;this.undoManager.canRedo()&&this.undoManager.performRedo((function(e){t.applyUnredo(e)}))},n.prototype.onChange=function(e,n){var r=this.cursor;this.updateCursor();var i,o=this.undoManager.undoStack.length>0&&n.shouldBeComposedWithInverted((i=this.undoManager.undoStack,i[i.length-1]).wrapped),s=new t(this.cursor,r);this.undoManager.add(new l(n,s),o),this.applyClient(e)},n.prototype.updateCursor=function(){this.cursor=this.editorAdapter.getCursor()},n.prototype.onCursorActivity=function(){var t=this.cursor;this.updateCursor(),!this.focused||t&&this.cursor.equals(t)||this.sendCursor(this.cursor)},n.prototype.onBlur=function(){this.cursor=null,this.sendCursor(null),this.focused=!1},n.prototype.onFocus=function(){this.focused=!0,this.onCursorActivity()},n.prototype.sendCursor=function(t){this.state instanceof s.AwaitingWithBuffer||this.serverAdapter.sendCursor(t)},n.prototype.sendOperation=function(t){this.serverAdapter.sendOperation(t),this.emitStatus()},n.prototype.applyOperation=function(t){this.editorAdapter.applyOperation(t),this.updateCursor(),this.undoManager.transform(new l(t,null))},n.prototype.emitStatus=function(){var t=this;setTimeout((function(){t.trigger("synced",t.state instanceof s.Synchronized)}),0)},n}();i.makeEventEmitter(c,["synced"]);const h="ent",u="l",f="li",d="lt",p=function(){var t="ent_";function e(t,n){if(!(this instanceof e))return new e(t,n);this.type=t,this.info=n||{}}return e.prototype.toAttributes=function(){var e={};for(var n in e.ent=this.type,this.info)e[t+n]=this.info[n];return e},e.fromAttributes=function(n){var r=n.ent,i={};for(var o in n)0===o.indexOf(t)&&(i[o.substr(t.length)]=n[o]);return new e(r,i)},e}();const g=()=>window.document,y=function(){function t(){this.entities_={};var t=["src","alt","width","height","style","class"];this.register("img",{render:function(t){i.assert(t.src,"image entity should have 'src'!");for(var e=["src","alt","width","height","style","class"],n="<img ",r=0;r<e.length;r++){var o=e[r];o in t&&(n+=" "+o+'="'+t[o]+'"')}return n+">"},fromElement:function(e){for(var n={},r=0;r<t.length;r++){var i=t[r];e.hasAttribute(i)&&(n[i]=e.getAttribute(i))}return n}})}return t.prototype.register=function(t,e){i.assert(e.render,"Entity options should include a 'render' function!"),i.assert(e.fromElement,"Entity options should include a 'fromElement' function!"),this.entities_[t]=e},t.prototype.renderToElement=function(t,e){return this.tryRenderToElement_(t,"render",e)},t.prototype.exportToElement=function(t){var e=this.tryRenderToElement_(t,"export")||this.tryRenderToElement_(t,"getHtml")||this.tryRenderToElement_(t,"render");return e.setAttribute("data-firepad-entity",t.type),e},t.prototype.updateElement=function(t,e){var n=t.type,r=t.info;this.entities_[n]&&void 0!==this.entities_[n].update&&this.entities_[n].update(r,e)},t.prototype.fromElement=function(t){var e=t.getAttribute("data-firepad-entity");if(e||(e=t.nodeName.toLowerCase()),e&&this.entities_[e]){var n=this.entities_[e].fromElement(t);return new p(e,n)}},t.prototype.tryRenderToElement_=function(t,e,n){var r=t.type,o=t.info;if(this.entities_[r]&&this.entities_[r][e]){var s=g(),a=this.entities_[r][e](o,n,s);if(a){if("string"==typeof a){var l=g().createElement("div");return l.innerHTML=a,l.childNodes[0]}if("object"==typeof a)return i.assert(void 0!==a.nodeType,"Error rendering "+r+" entity.  render() function must return an html string or a DOM element."),a}}},t.prototype.entitySupportsUpdate=function(t){return this.entities_[t]&&this.entities_[t].update},t}(),m=function(){function t(t){this.type=t,this.chars=null,this.text=null,this.attributes=null,"insert"===t?(this.text=arguments[1],i.assert("string"==typeof this.text),this.attributes=arguments[2]||{},i.assert("object"==typeof this.attributes)):"delete"===t?(this.chars=arguments[1],i.assert("number"==typeof this.chars)):"retain"===t&&(this.chars=arguments[1],i.assert("number"==typeof this.chars),this.attributes=arguments[2]||{},i.assert("object"==typeof this.attributes))}return t.prototype.isInsert=function(){return"insert"===this.type},t.prototype.isDelete=function(){return"delete"===this.type},t.prototype.isRetain=function(){return"retain"===this.type},t.prototype.equals=function(t){return this.type===t.type&&this.text===t.text&&this.chars===t.chars&&this.attributesEqual(t.attributes)},t.prototype.attributesEqual=function(t){for(var e in this.attributes)if(this.attributes[e]!==t[e])return!1;for(e in t)if(this.attributes[e]!==t[e])return!1;return!0},t.prototype.hasEmptyAttributes=function(){var t=!0;for(var e in this.attributes){t=!1;break}return t},t}(),b=function(){function t(){if(!this||this.constructor!==t)return new t;this.ops=[],this.baseLength=0,this.targetLength=0}function e(t){var e=t.ops;switch(e.length){case 1:return e[0];case 2:return e[0].isRetain()?e[1]:e[1].isRetain()?e[0]:null;case 3:if(e[0].isRetain()&&e[2].isRetain())return e[1]}return null}function n(t){return t.ops[0].isRetain()?t.ops[0].chars:0}return t.prototype.equals=function(t){if(this.baseLength!==t.baseLength)return!1;if(this.targetLength!==t.targetLength)return!1;if(this.ops.length!==t.ops.length)return!1;for(var e=0;e<this.ops.length;e++)if(!this.ops[e].equals(t.ops[e]))return!1;return!0},t.prototype.retain=function(t,e){if("number"!=typeof t||t<0)throw new Error("retain expects a positive integer.");if(0===t)return this;this.baseLength+=t,this.targetLength+=t,e=e||{};var n=this.ops.length>0?this.ops[this.ops.length-1]:null;return n&&n.isRetain()&&n.attributesEqual(e)?n.chars+=t:this.ops.push(new m("retain",t,e)),this},t.prototype.insert=function(t,e){if("string"!=typeof t)throw new Error("insert expects a string");if(""===t)return this;e=e||{},this.targetLength+=t.length;var n=this.ops.length>0?this.ops[this.ops.length-1]:null,r=this.ops.length>1?this.ops[this.ops.length-2]:null;return n&&n.isInsert()&&n.attributesEqual(e)?n.text+=t:n&&n.isDelete()?r&&r.isInsert()&&r.attributesEqual(e)?r.text+=t:(this.ops[this.ops.length-1]=new m("insert",t,e),this.ops.push(n)):this.ops.push(new m("insert",t,e)),this},t.prototype.delete=function(t){if("string"==typeof t&&(t=t.length),"number"!=typeof t||t<0)throw new Error("delete expects a positive integer or a string");if(0===t)return this;this.baseLength+=t;var e=this.ops.length>0?this.ops[this.ops.length-1]:null;return e&&e.isDelete()?e.chars+=t:this.ops.push(new m("delete",t)),this},t.prototype.isNoop=function(){return 0===this.ops.length||1===this.ops.length&&this.ops[0].isRetain()&&this.ops[0].hasEmptyAttributes()},t.prototype.clone=function(){for(var e=new t,n=0;n<this.ops.length;n++)this.ops[n].isRetain()?e.retain(this.ops[n].chars,this.ops[n].attributes):this.ops[n].isInsert()?e.insert(this.ops[n].text,this.ops[n].attributes):e.delete(this.ops[n].chars);return e},t.prototype.toString=function(){return(Array.prototype.map||function(t){for(var e=[],n=0,r=this.length;n<r;n++)e[n]=t(this[n]);return e}).call(this.ops,(function(t){return t.isRetain()?"retain "+t.chars:t.isInsert()?"insert '"+t.text+"'":"delete "+t.chars})).join(", ")},t.prototype.toJSON=function(){for(var t=[],e=0;e<this.ops.length;e++)this.ops[e].hasEmptyAttributes()||t.push(this.ops[e].attributes),"retain"===this.ops[e].type?t.push(this.ops[e].chars):"insert"===this.ops[e].type?t.push(this.ops[e].text):"delete"===this.ops[e].type&&t.push(-this.ops[e].chars);return 0===t.length&&t.push(0),t},t.fromJSON=function(e){for(var n=new t,r=0,o=e.length;r<o;r++){var s=e[r],a={};"object"==typeof s&&(a=s,s=e[++r]),"number"==typeof s?s>0?n.retain(s,a):n.delete(-s):(i.assert("string"==typeof s),n.insert(s,a))}return n},t.prototype.apply=function(t,e,n){if(e=e||[],n=n||[],t.length!==this.baseLength)throw new Error("The operation's base length must be equal to the string's length.");for(var r,o,s=[],a=0,l=0,c=this.ops,h=0,u=c.length;h<u;h++){var f=c[h];if(f.isRetain()){if(l+f.chars>t.length)throw new Error("Operation can't retain more characters than are left in the string.");for(s[a++]=t.slice(l,l+f.chars),r=0;r<f.chars;r++){var d=e[l+r]||{},p={};for(o in d)p[o]=d[o],i.assert(!1!==p[o]);for(o in f.attributes)!1===f.attributes[o]?delete p[o]:p[o]=f.attributes[o],i.assert(!1!==p[o]);n.push(p)}l+=f.chars}else if(f.isInsert())for(s[a++]=f.text,r=0;r<f.text.length;r++){var g={};for(o in f.attributes)g[o]=f.attributes[o],i.assert(!1!==g[o]);n.push(g)}else l+=f.chars}if(l!==t.length)throw new Error("The operation didn't operate on the whole string.");var y=s.join("");return i.assert(y.length===n.length),y},t.prototype.invert=function(e){for(var n=0,r=new t,i=this.ops,o=0,s=i.length;o<s;o++){var a=i[o];a.isRetain()?(r.retain(a.chars),n+=a.chars):a.isInsert()?r.delete(a.text.length):(r.insert(e.slice(n,n+a.chars)),n+=a.chars)}return r},t.prototype.compose=function(e){if(this.targetLength!==e.baseLength)throw new Error("The base length of the second operation has to be the target length of the first operation");function n(t,e,n){var r,i={};for(r in t)i[r]=t[r];for(r in e)n&&!1===e[r]?delete i[r]:i[r]=e[r];return i}for(var r,i=new t,o=this.clone().ops,s=e.clone().ops,a=0,l=0,c=o[a++],h=s[l++];void 0!==c||void 0!==h;)if(c&&c.isDelete())i.delete(c.chars),c=o[a++];else if(h&&h.isInsert())i.insert(h.text,h.attributes),h=s[l++];else{if(void 0===c)throw new Error("Cannot compose operations: first operation is too short.");if(void 0===h)throw new Error("Cannot compose operations: first operation is too long.");if(c.isRetain()&&h.isRetain())r=n(c.attributes,h.attributes),c.chars>h.chars?(i.retain(h.chars,r),c.chars-=h.chars,h=s[l++]):c.chars===h.chars?(i.retain(c.chars,r),c=o[a++],h=s[l++]):(i.retain(c.chars,r),h.chars-=c.chars,c=o[a++]);else if(c.isInsert()&&h.isDelete())c.text.length>h.chars?(c.text=c.text.slice(h.chars),h=s[l++]):c.text.length===h.chars?(c=o[a++],h=s[l++]):(h.chars-=c.text.length,c=o[a++]);else if(c.isInsert()&&h.isRetain())r=n(c.attributes,h.attributes,!0),c.text.length>h.chars?(i.insert(c.text.slice(0,h.chars),r),c.text=c.text.slice(h.chars),h=s[l++]):c.text.length===h.chars?(i.insert(c.text,r),c=o[a++],h=s[l++]):(i.insert(c.text,r),h.chars-=c.text.length,c=o[a++]);else{if(!c.isRetain()||!h.isDelete())throw new Error("This shouldn't happen: op1: "+JSON.stringify(c)+", op2: "+JSON.stringify(h));c.chars>h.chars?(i.delete(h.chars),c.chars-=h.chars,h=s[l++]):c.chars===h.chars?(i.delete(h.chars),c=o[a++],h=s[l++]):(i.delete(c.chars),h.chars-=c.chars,c=o[a++])}}return i},t.prototype.shouldBeComposedWith=function(t){if(this.isNoop()||t.isNoop())return!0;var r=n(this),i=n(t),o=e(this),s=e(t);return!(!o||!s||(o.isInsert()&&s.isInsert()?r+o.text.length!==i:!o.isDelete()||!s.isDelete()||i+s.chars!==r&&r!==i))},t.prototype.shouldBeComposedWithInverted=function(t){if(this.isNoop()||t.isNoop())return!0;var r=n(this),i=n(t),o=e(this),s=e(t);return!!(o&&s&&(o.isInsert()&&s.isInsert()?r+o.text.length===i||r===i:o.isDelete()&&s.isDelete()&&i+s.chars===r))},t.transformAttributes=function(t,e){var n,r={},o={},s={};for(n in t)s[n]=!0;for(n in e)s[n]=!0;for(n in s){var a=t[n],l=e[n];i.assert(null!=a||null!=l),null==a?o[n]=l:null==l?r[n]=a:a===l||(r[n]=a)}return[r,o]},t.transform=function(e,n){if(e.baseLength!==n.baseLength)throw new Error("Both operations have to have the same base length");for(var r=new t,i=new t,o=e.clone().ops,s=n.clone().ops,a=0,l=0,c=o[a++],h=s[l++];void 0!==c||void 0!==h;)if(c&&c.isInsert())r.insert(c.text,c.attributes),i.retain(c.text.length),c=o[a++];else if(h&&h.isInsert())r.retain(h.text.length),i.insert(h.text,h.attributes),h=s[l++];else{if(void 0===c)throw new Error("Cannot transform operations: first operation is too short.");if(void 0===h)throw new Error("Cannot transform operations: first operation is too long.");var u;if(c.isRetain()&&h.isRetain()){var f=t.transformAttributes(c.attributes,h.attributes);c.chars>h.chars?(u=h.chars,c.chars-=h.chars,h=s[l++]):c.chars===h.chars?(u=h.chars,c=o[a++],h=s[l++]):(u=c.chars,h.chars-=c.chars,c=o[a++]),r.retain(u,f[0]),i.retain(u,f[1])}else if(c.isDelete()&&h.isDelete())c.chars>h.chars?(c.chars-=h.chars,h=s[l++]):c.chars===h.chars?(c=o[a++],h=s[l++]):(h.chars-=c.chars,c=o[a++]);else if(c.isDelete()&&h.isRetain())c.chars>h.chars?(u=h.chars,c.chars-=h.chars,h=s[l++]):c.chars===h.chars?(u=h.chars,c=o[a++],h=s[l++]):(u=c.chars,h.chars-=c.chars,c=o[a++]),r.delete(u);else{if(!c.isRetain()||!h.isDelete())throw new Error("The two operations aren't compatible");c.chars>h.chars?(u=h.chars,c.chars-=h.chars,h=s[l++]):c.chars===h.chars?(u=c.chars,c=o[a++],h=s[l++]):(u=c.chars,h.chars-=c.chars,c=o[a++]),i.delete(u)}}return[r,i]},t.prototype.transform=function(e){return t.transform(this,e)},t}();class v extends r.EventEmitter{constructor(t,e){super(),this.userId_=t,this.userColor_=e}dispose(){}setUserId(t){this.userId_=t}setUserColor(t){this.userColor_=t}sendOperation(t,e){console.warn("not implemented: sendOperation(operation, callback)")}sendCursor(t){console.warn("not implemented: sendCursor(obj)")}trigger(t,...e){this.emit(t,...e)}registerCallbacks(t){for(var e in t)this.on(e,t[e])}}const A=function(){function t(t,e){this.pos=t,this.length=e}return t.prototype.end=function(){return this.pos+this.length},t}(),w=function(){function t(t,e){if(!t)throw new Error("AnnotationList assertion failed"+(e?": "+e:""))}function e(t,e){this.pos=t,this.length=e.length,this.annotation=e.annotation,this.attachedObject_=e.attachedObject}function n(t,e){this.pos=t,this.length=e.length,this.annotation=e.annotation,this.node_=e}e.prototype.getAttachedObject=function(){return this.attachedObject_},n.prototype.attachObject=function(t){this.node_.attachedObject=t};var r={equals:function(){return!1}};function i(t){this.head_=new o(0,r),this.changeHandler_=t}function o(t,e){this.length=t,this.annotation=e,this.attachedObject=null,this.next=null}return i.prototype.insertAnnotatedSpan=function(e,n){this.wrapOperation_(new A(e.pos,0),(function(i,s){t(!s||null===s.next);var a=new o(e.length,n);if(s){t(e.pos>i&&e.pos<i+s.length);var l=new o(0,r);return l.next=new o(e.pos-i,s.annotation),l.next.next=a,a.next=new o(i+s.length-e.pos,s.annotation),l.next}return a}))},i.prototype.removeSpan=function(e){0!==e.length&&this.wrapOperation_(e,(function(n,i){t(null!==i);var s=new o(0,r),a=s;for(e.pos>n&&(a.next=new o(e.pos-n,i.annotation),a=a.next);e.end()>n+i.length;)n+=i.length,i=i.next;var l=n+i.length-e.end();return l>0&&(a.next=new o(l,i.annotation)),s.next}))},i.prototype.updateSpan=function(e,n){0!==e.length&&this.wrapOperation_(e,(function(i,s){t(null!==s);var a=new o(0,r),l=a,c=i,h=e.pos-c;for(t(h<s.length),h>0&&(l.next=new o(h,s.annotation),c+=(l=l.next).length);null!==s&&e.end()>=i+s.length;){var u=i+s.length-c;l.next=new o(u,n(s.annotation,u)),l=l.next,i+=s.length,s=s.next,c=i}var f=e.end()-c;return f>0&&(t(f<s.length),l.next=new o(f,n(s.annotation,f)),c+=(l=l.next).length,l.next=new o(i+s.length-c,s.annotation)),a.next}))},i.prototype.wrapOperation_=function(t,r){if(t.pos<0)throw new Error("Span start cannot be negative.");var i,s=[],a=[],l=this.getAffectedNodes_(t);null!==l.start?(i=l.end.next,l.end.next=null):i=l.succ;var c=r(l.startPos,l.start),h=!1,u=!1;if(c){var f;for(this.mergeNodesWithSameAnnotations_(c),l.pred&&l.pred.annotation.equals(c.annotation)?(h=!0,c.length+=l.pred.length,l.beforePred.next=c,f=l.predPos):(l.beforeStart.next=c,f=l.startPos);c.next;)a.push(new n(f,c)),f+=c.length,c=c.next;l.succ&&l.succ.annotation.equals(c.annotation)?(c.length+=l.succ.length,u=!0,c.next=l.succ.next):c.next=i,a.push(new n(f,c))}else l.pred&&l.succ&&l.pred.annotation.equals(l.succ.annotation)?(h=!0,u=!0,c=new o(l.pred.length+l.succ.length,l.pred.annotation),l.beforePred.next=c,c.next=l.succ.next,a.push(new n(l.startPos-l.pred.length,c))):l.beforeStart.next=i;h&&s.push(new e(l.predPos,l.pred));for(var d=l.startPos,p=l.start;null!==p;)s.push(new e(d,p)),d+=p.length,p=p.next;u&&s.push(new e(d,l.succ)),this.changeHandler_(s,a)},i.prototype.getAffectedNodes_=function(t){for(var e={},n=null,r=this.head_,i=r.next,o=0;null!==i&&t.pos>=o+i.length;)o+=i.length,n=r,r=i,i=i.next;if(null===i&&(0!==t.length||t.pos!==o))throw new Error("Span start exceeds the bounds of the AnnotationList.");for(e.startPos=o,0===t.length&&t.pos===o?e.start=null:e.start=i,e.beforeStart=r,o===t.pos&&o>0?(e.pred=r,e.predPos=o-r.length,e.beforePred=n):e.pred=null;null!==i&&t.end()>o;)o+=i.length,r=i,i=i.next;if(t.end()>o)throw new Error("Span end exceeds the bounds of the AnnotationList.");return 0===t.length&&t.end()===o?e.end=null:e.end=r,e.succ=o===t.end()?i:null,e},i.prototype.mergeNodesWithSameAnnotations_=function(t){if(t)for(var e=null,n=t;n;)e&&e.annotation.equals(n.annotation)?(e.length+=n.length,e.next=n.next):e=n,n=n.next},i.prototype.forEach=function(t){for(var e=this.head_.next;null!==e;)t(e.length,e.annotation,e.attachedObject),e=e.next},i.prototype.getAnnotatedSpansForPos=function(t){for(var n=0,r=this.head_.next,i=null;null!==r&&n+r.length<=t;)n+=r.length,i=r,r=r.next;if(null===r&&n!==t)throw new Error("pos exceeds the bounds of the AnnotationList");var o=[];return n===t&&i&&o.push(new e(n-i.length,i)),r&&o.push(new e(n,r)),o},i.prototype.getAnnotatedSpansForSpan=function(t){if(0===t.length)return[];for(var e=[],n=this.getAffectedNodes_(t),r=n.startPos,i=n.start;null!==i&&r<t.end();){var o=Math.max(r,t.pos),s=Math.min(r+i.length,t.end()),a=new A(o,s-o);a.annotation=i.annotation,e.push(a),r+=i.length,i=i.next}return e},i.prototype.count=function(){for(var e=0,n=this.head_.next,r=null;null!==n;)r&&t(!r.annotation.equals(n.annotation)),r=n,n=n.next,e++;return e},o.prototype.clone=function(){var t=new o(this.spanLength,this.annotation);return t.next=this.next,t},i}(),_=function(){var t={c:"color",bc:"background-color",fs:"font-size",li:function(t){return"padding-left: "+40*t+"px"}},e={};function n(t,e,n){this.codeMirror=t,this.options_=n||{},this.entityManager_=e,this.currentAttributes_=null;var r=this;this.annotationList_=new w((function(t,e){r.onAnnotationsChanged_(t,e)})),this.initAnnotationList_(),l(this,"onCodeMirrorBeforeChange_"),l(this,"onCodeMirrorChange_"),l(this,"onCursorActivity_"),this.codeMirror.on("changes",this.onCodeMirrorChange_),this.codeMirror.on("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.on("cursorActivity",this.onCursorActivity_),this.changeId_=0,this.outstandingChanges_={},this.dirtyLines_=[]}i.makeEventEmitter(n,["change","attributesChange","newLine"]);var r="";function o(t,e){return function(t,e){return t.line-e.line||t.ch-e.ch}(t,e)<=0}function s(t){if(0===t.length)return 0;for(var e=0,n=0;n<t.length;n++)e+=t[n].length;return e+t.length-1}function a(t){this.attributes=t||{}}function l(t,e){var n=t[e];t[e]=function(){n.apply(t,arguments)}}return n.prototype.detach=function(){this.codeMirror.off("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.off("change",this.onCodeMirrorChange_),this.codeMirror.off("changes",this.onCodeMirrorChange_),this.codeMirror.off("cursorActivity",this.onCursorActivity_),this.clearAnnotations_()},n.prototype.toggleAttribute=function(t,e){var n=e||!0;if(this.emptySelection_()){var r=this.getCurrentAttributes_();r[t]===n?delete r[t]:r[t]=n,this.currentAttributes_=r}else{var i=this.getCurrentAttributes_()[t]!==n&&n;this.setAttribute(t,i)}},n.prototype.setAttribute=function(t,e){var n=this.codeMirror;if(this.emptySelection_()){var r=this.getCurrentAttributes_();!1===e?delete r[t]:r[t]=e,this.currentAttributes_=r}else this.updateTextAttributes(n.indexFromPos(n.getCursor("start")),n.indexFromPos(n.getCursor("end")),(function(n){!1===e?delete n[t]:n[t]=e})),this.updateCurrentAttributes_()},n.prototype.updateTextAttributes=function(t,e,n,r,i){var o=[],s=t,l=this;this.annotationList_.updateSpan(new A(t,e-t),(function(t,e){var c={};for(var h in t.attributes)c[h]=t.attributes[h];c.l&&!i||n(c);var u={},f={};return l.computeChangedAttributes_(t.attributes,c,u,f),function(t){for(var e in t)return!1;return!0}(u)||o.push({start:s,end:s+e,attributes:u,attributesInverse:f,origin:r}),s+=e,new a(c)})),o.length>0&&this.trigger("attributesChange",this,o)},n.prototype.computeChangedAttributes_=function(t,e,n,r){var i,o={};for(i in t)o[i]=!0;for(i in e)o[i]=!0;for(i in o)i in e?i in t?t[i]!==e[i]&&(n[i]=e[i],r[i]=t[i]):(n[i]=e[i],r[i]=!1):(n[i]=!1,r[i]=t[i])},n.prototype.toggleLineAttribute=function(t,e){var n,r=this.getCurrentLineAttributes_();n=(!(t in r)||r[t]!==e)&&e,this.setLineAttribute(t,n)},n.prototype.setLineAttribute=function(t,e){this.updateLineAttributesForSelection((function(n){!1===e?delete n[t]:n[t]=e}))},n.prototype.updateLineAttributesForSelection=function(t){var e=this.codeMirror,n=e.getCursor("start"),r=e.getCursor("end"),i=n.line,o=r.line,s=e.getLine(o),a=this.areLineSentinelCharacters_(s.substr(0,r.ch));o>i&&a&&o--,this.updateLineAttributes(i,o,t)},n.prototype.updateLineAttributes=function(t,e,n){for(var i=t;i<=e;i++){var o=this.codeMirror.getLine(i),s=this.codeMirror.indexFromPos({line:i,ch:0});if(o[0]!==r){var a={l:!0};n(a),this.insertText(s,r,a)}else this.updateTextAttributes(s,s+1,n,null,!0)}},n.prototype.replaceText=function(t,e,n,r,i){this.changeId_++;var o="cmrt-"+this.changeId_;this.outstandingChanges_[o]={origOrigin:i,attributes:r};var s=this.codeMirror,a=s.posFromIndex(t),l="number"==typeof e?s.posFromIndex(e):null;s.replaceRange(n,a,l,o)},n.prototype.insertText=function(t,e,n,r){var i=this.codeMirror,o=i.getCursor(),s="RTCMADAPTER"==r&&!i.somethingSelected()&&t==i.indexFromPos(o);this.replaceText(t,null,e,n,r),s&&i.setCursor(o)},n.prototype.removeText=function(t,e,n){var r=this.codeMirror;r.replaceRange("",r.posFromIndex(t),r.posFromIndex(e),n)},n.prototype.insertEntityAtCursor=function(t,e,n){var r=this.codeMirror,i=r.indexFromPos(r.getCursor("head"));this.insertEntityAt(i,t,e,n)},n.prototype.insertEntityAt=function(t,e,n,r){this.codeMirror,this.insertEntity_(t,new p(e,n),r)},n.prototype.insertEntity_=function(t,e,n){this.replaceText(t,null,"",e.toAttributes(),n)},n.prototype.getAttributeSpans=function(t,e){for(var n=[],r=this.annotationList_.getAnnotatedSpansForSpan(new A(t,e-t)),i=0;i<r.length;i++)n.push({length:r[i].length,attributes:r[i].annotation.attributes});return n},n.prototype.end=function(){var t=this.codeMirror.lineCount()-1;return this.codeMirror.indexFromPos({line:t,ch:this.codeMirror.getLine(t).length})},n.prototype.getRange=function(t,e){var n=this.codeMirror.posFromIndex(t),r=this.codeMirror.posFromIndex(e);return this.codeMirror.getRange(n,r)},n.prototype.initAnnotationList_=function(){var t=this.end();0!==t&&this.annotationList_.insertAnnotatedSpan(new A(0,t),new a)},n.prototype.onAnnotationsChanged_=function(t,e){var n,r={};this.tryToUpdateEntitiesInPlace(t,e);for(var i=0;i<t.length;i++){var o=t[i].annotation.attributes;u in o&&(r[this.codeMirror.posFromIndex(t[i].pos).line]=!0),(n=t[i].getAttachedObject())&&n.clear()}for(i=0;i<e.length;i++){var s=e[i].annotation,a=u in s.attributes,l=h in s.attributes,c=this.codeMirror.posFromIndex(e[i].pos);if(a)r[c.line]=!0;else if(l)this.markEntity_(e[i]);else{var f=this.getClassNameForAttributes_(s.attributes);if(""!==f){var d=this.codeMirror.posFromIndex(e[i].pos+e[i].length);n=this.codeMirror.markText(c,d,{className:f}),e[i].attachObject(n)}}}for(var p in r)this.dirtyLines_.push(this.codeMirror.getLineHandle(Number(p))),this.queueLineMarking_()},n.prototype.tryToUpdateEntitiesInPlace=function(t,e){for(var n=t.length;n--;)for(var r=t[n],i=e.length;i--;){var o=e[i];if(r.pos==o.pos&&r.length==o.length&&r.annotation.attributes.ent&&r.annotation.attributes.ent==o.annotation.attributes.ent){var s=o.annotation.attributes.ent;if(this.entityManager_.entitySupportsUpdate(s)){t.splice(n,1),e.splice(i,1);var a=r.getAttachedObject();a.update(o.annotation.attributes),o.attachObject(a)}}}},n.prototype.queueLineMarking_=function(){if(null==this.lineMarkTimeout_){var t=this;this.lineMarkTimeout_=setTimeout((function(){t.lineMarkTimeout_=null;for(var e=[],n=0;n<t.dirtyLines_.length;n++){var r=t.codeMirror.getLineNumber(t.dirtyLines_[n]);e.push(Number(r))}t.dirtyLines_=[],e.sort((function(t,e){return t-e}));var i=-1;for(n=0;n<e.length;n++){var o=e[n];o>i&&(i=t.markLineSentinelCharactersForChangedLines_(o,o))}}),0)}},n.prototype.addStyleWithCSS_=function(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)},n.prototype.getClassNameForAttributes_=function(n){var r="";for(var o in n){var s=n[o];if(o===u)i.assert(!0===s,"LINE_SENTINEL attribute should be true if it exists.");else{var a=(this.options_.cssPrefix||"cmrt-")+o;if(!0!==s){"fs"===o&&"string"!=typeof s&&(s+="px");var l=s.toString().toLowerCase().replace(/[^a-z0-9-_]/g,"-");if(a+="-"+l,t[o]&&(e[o]||(e[o]={}),!e[o][l])){e[o][l]=!0;var c=t[o],h="function"==typeof c?c(s):c+": "+s,d=o==f?"pre."+a:"."+a;this.addStyleWithCSS_(d+" { "+h+" }"),o===f&&(d="pre.CodeMirror-line."+a,this.addStyleWithCSS_(d+" { "+h+" }"))}}r=r+" "+a}}return r},n.prototype.markEntity_=function(t){for(var e=t.annotation.attributes,n=p.fromAttributes(e),r=this.codeMirror,i=this,o=[],s=0;s<t.length;s++){var a=r.posFromIndex(t.pos+s),l=r.posFromIndex(t.pos+s+1),c={collapsed:!0,atomic:!0,inclusiveLeft:!1,inclusiveRight:!1},h=this.createEntityHandle_(n,t.pos),u=this.entityManager_.renderToElement(n,h);u&&(c.replacedWith=u);var f=r.markText(a,l,c);o.push(f),h.setMarker(f)}t.attachObject({clear:function(){for(var t=0;t<o.length;t++)o[t].clear()},update:function(t){for(var e=p.fromAttributes(t),n=0;n<o.length;n++)i.entityManager_.updateElement(e,o[n].replacedWith)}}),this.queueRefresh_()},n.prototype.queueRefresh_=function(){var t=this;this.refreshTimer_||(this.refreshTimer_=setTimeout((function(){t.codeMirror.refresh(),t.refreshTimer_=null}),0))},n.prototype.createEntityHandle_=function(t,e){var n=null,r=this;function i(){if(n){var t=n.find();return t?r.codeMirror.indexFromPos(t.from):null}return e}return{find:i,remove:function(){var t=i();null!=t&&(r.codeMirror.focus(),r.removeText(t,t+1))},replace:function(e){var n=i();r.updateTextAttributes(n,n+1,(function(n){for(var r in n)delete n[r];for(var i in n.ent=t.type,e)n["ent_"+i]=e[i]}))},setMarker:function(t){n=t}}},n.prototype.lineClassRemover_=function(t){var e=this.codeMirror,n=e.getLineHandle(t);return{clear:function(){e.removeLineClass(n,"text",".*")}}},n.prototype.emptySelection_=function(){var t=this.codeMirror.getCursor("start"),e=this.codeMirror.getCursor("end");return t.line===e.line&&t.ch===e.ch},n.prototype.onCodeMirrorBeforeChange_=function(t,e){if("+input"===e.origin||"paste"===e.origin){for(var n=[],r=0;r<e.text.length;r++){var i=e.text[r];i=i.replace(new RegExp("[]","g"),""),n.push(i)}e.update(e.from,e.to,n)}},n.prototype.onCodeMirrorChange_=function(t,e){if("object"==typeof e.from){for(var n=[];e;)n.push(e),e=e.next;e=n}for(var r=this.convertCoordinateSystemForChanges_(e),i=[],o=0;o<r.length;o++){var s,l=r[o],c=l.start,h=(l.end,l.text),u=l.removed,f=l.origin;if(u.length>0){for(var d=this.annotationList_.getAnnotatedSpansForSpan(new A(c,u.length)),p=0,g=0;g<d.length;g++){var y=d[g];i.push({start:c,end:c+y.length,removedAttributes:y.annotation.attributes,removed:u.substr(p,y.length),attributes:{},text:"",origin:l.origin}),p+=y.length}this.annotationList_.removeSpan(new A(c,u.length))}h.length>0&&("+input"===l.origin||"paste"===l.origin?s=this.currentAttributes_||{}:f in this.outstandingChanges_?(s=this.outstandingChanges_[f].attributes,f=this.outstandingChanges_[f].origOrigin,delete this.outstandingChanges_[f]):s={},this.annotationList_.insertAnnotatedSpan(new A(c,h.length),new a(s)),i.push({start:c,end:c,removedAttributes:{},removed:"",text:h,attributes:s,origin:f}))}this.markLineSentinelCharactersForChanges_(e),i.length>0&&this.trigger("change",this,i)},n.prototype.convertCoordinateSystemForChanges_=function(t){var e=this,n=function(t){return e.codeMirror.indexFromPos(t)};function r(t,e){return function(n){return o(n,e.from)?t(n):o(e.to,n)?t({line:n.line+e.text.length-1-(e.to.line-e.from.line),ch:e.to.line<n.line?n.ch:e.text.length<=1?n.ch-(e.to.ch-e.from.ch)+s(e.text):n.ch-e.to.ch+(r=e.text,r[r.length-1]).length})+s(e.removed)-s(e.text):e.from.line===n.line?t(e.from)+n.ch-e.from.ch:t(e.from)+s(e.removed.slice(0,n.line-e.from.line))+1+n.ch;var r}}for(var i=[],a=t.length-1;a>=0;a--){var l=t[a],c=(n=r(n,l))(l.from),h=l.removed.join("\n"),u=l.text.join("\n");i.unshift({start:c,end:c+h.length,removed:h,text:u,origin:l.origin})}return i},n.prototype.markLineSentinelCharactersForChanges_=function(t){for(var e=Number.MAX_VALUE,n=-1,i=0;i<t.length;i++){var o=t[i],s=o.from.line;o.from.ch,(o.removed.length>1||o.removed[0].indexOf(r)>=0)&&(e=Math.min(e,s),n=Math.max(n,s)),o.text.length>1?(e=Math.min(e,s),n=Math.max(n,s+o.text.length-1)):o.text[0].indexOf(r)>=0&&(e=Math.min(e,s),n=Math.max(n,s))}n=Math.min(n,this.codeMirror.lineCount()-1),this.markLineSentinelCharactersForChangedLines_(e,n)},n.prototype.markLineSentinelCharactersForChangedLines_=function(t,e){if(t<Number.MAX_VALUE)for(;t>0&&this.lineIsListItemOrIndented_(t-1);)t--;if(e>-1)for(var n=this.codeMirror.lineCount();e+1<n&&this.lineIsListItemOrIndented_(e+1);)e++;for(var i=[],o=this.codeMirror,s=t;s<=e;s++){var a=o.getLine(s),l=o.getLineHandle(s);if(o.removeLineClass(l,"text",".*"),a.length>0)for(var c=a.indexOf(r);c>=0;){for(var h=c;c<a.length&&a[c]===r;){for(var u=o.findMarksAt({line:s,ch:c}),f=0;f<u.length;f++)u[f].isForLineSentinel&&u[f].clear();c++}this.markLineSentinelCharacters_(s,h,c,i),c=a.indexOf(r,c)}else i=[]}return e},n.prototype.markLineSentinelCharacters_=function(t,e,n,r){var i=this.codeMirror,o=null,s=null,a=function(){var t=s.find();return t?t.from.line:null};if(0===e){var l=this.getLineAttributes_(t),c=l.lt,h=l.li||0;for(c&&0===h&&(h=1);h>=r.length;)r.push(1);"o"===c?(o=this.makeOrderedListElement_(r[h]),r[h]++):"u"===c?(o=this.makeUnorderedListElement_(),r[h]=1):"t"===c?(o=this.makeTodoListElement_(!1,a),r[h]=1):"tc"===c&&(o=this.makeTodoListElement_(!0,a),r[h]=1);var u=this.getClassNameForAttributes_(l);""!==u&&this.codeMirror.addLineClass(t,"text",u),r[h+1]=1}var f={inclusiveLeft:!0,collapsed:!0};o&&(f.replacedWith=o),(s=i.markText({line:t,ch:e},{line:t,ch:n},f)).isForLineSentinel=!0},n.prototype.makeOrderedListElement_=function(t){return i.elt("div",t+".",{class:"firepad-list-left"})},n.prototype.makeUnorderedListElement_=function(){return i.elt("div","•",{class:"firepad-list-left"})},n.prototype.toggleTodo=function(t){var e,n=d,r=this.getCurrentLineAttributes_();!(n in r)||"t"!==r.lt&&"tc"!==r.lt?e="t":"t"===r.lt?e="tc":"tc"===r.lt&&(e=!!t&&"t"),this.setLineAttribute(n,e)},n.prototype.makeTodoListElement_=function(t,e){var n={type:"checkbox",class:"firepad-todo-left"};t&&(n.checked=!0);var r=i.elt("input",!1,n),o=this;return i.on(r,"click",i.stopEventAnd((function(t){o.codeMirror.setCursor({line:e(),ch:1}),o.toggleTodo(!0)}))),r},n.prototype.lineIsListItemOrIndented_=function(t){var e=this.getLineAttributes_(t);return!1!==(e.lt||!1)||0!==(e.li||0)},n.prototype.onCursorActivity_=function(){var t=this;setTimeout((function(){t.updateCurrentAttributes_()}),1)},n.prototype.getCurrentAttributes_=function(){return this.currentAttributes_||this.updateCurrentAttributes_(),this.currentAttributes_},n.prototype.updateCurrentAttributes_=function(){var t=this.codeMirror,e=t.indexFromPos(t.getCursor("anchor")),n=t.indexFromPos(t.getCursor("head")),o=n;if(e>n){for(;o<this.end();){var s=this.getRange(o,o+1);if("\n"!==s&&s!==r)break;o++}o<this.end()&&o++}else for(;o>0&&("\n"===(s=this.getRange(o-1,o))||s===r);)o--;var a=this.annotationList_.getAnnotatedSpansForPos(o);this.currentAttributes_={};var l={};for(var c in a.length>0&&!(u in a[0].annotation.attributes)?l=a[0].annotation.attributes:a.length>1&&(i.assert(!(u in a[1].annotation.attributes),"Cursor can't be between two line sentinel characters."),l=a[1].annotation.attributes),l)"l"!==c&&"lt"!==c&&"li"!==c&&0!==c.indexOf(h)&&(this.currentAttributes_[c]=l[c])},n.prototype.getCurrentLineAttributes_=function(){var t=this.codeMirror,e=t.getCursor("anchor"),n=t.getCursor("head"),r=n.line;return 0===n.ch&&e.line<n.line&&r--,this.getLineAttributes_(r)},n.prototype.getLineAttributes_=function(t){var e={},n=this.codeMirror.getLine(t);if(n.length>0&&n[0]===r){var o=this.codeMirror.indexFromPos({line:t,ch:0}),s=this.annotationList_.getAnnotatedSpansForSpan(new A(o,1));for(var a in i.assert(1===s.length),s[0].annotation.attributes)e[a]=s[0].annotation.attributes[a]}return e},n.prototype.clearAnnotations_=function(){this.annotationList_.updateSpan(new A(0,this.end()),(function(t,e){return new a({})}))},n.prototype.newline=function(){var t=this.codeMirror,e=this;if(this.emptySelection_()){var n=t.getCursor("head").line,r=this.getLineAttributes_(n),i=r.lt;i&&1===t.getLine(n).length?this.updateLineAttributes(n,n,(function(t){delete t.lt,delete t.li})):(t.replaceSelection("\n","end","+input"),this.updateLineAttributes(n+1,n+1,(function(t){for(var o in r)t[o]=r[o];"tc"===i&&(t.lt="t"),e.trigger("newLine",{line:n+1,attr:t})})))}else t.replaceSelection("\n","end","+input")},n.prototype.deleteLeft=function(){var t=this.codeMirror,e=t.getCursor("head"),n=this.getLineAttributes_(e.line),r=n.lt,i=n.li,o=this.emptySelection_()&&1===e.ch;o&&r?this.updateLineAttributes(e.line,e.line,(function(t){delete t.lt,delete t.li})):o&&i&&i>0?this.unindent():t.deleteH(-1,"char")},n.prototype.deleteRight=function(){var t=this.codeMirror,e=t.getCursor("head"),n=t.getLine(e.line),i=this.areLineSentinelCharacters_(n),o=e.line+1<t.lineCount()?t.getLine(e.line+1):"";this.emptySelection_()&&i&&o[0]===r?(t.replaceRange("",{line:e.line,ch:0},{line:e.line+1,ch:0},"+input"),t.setCursor({line:e.line,ch:0})):t.deleteH(1,"char")},n.prototype.indent=function(){this.updateLineAttributesForSelection((function(t){var e=t.li,n=t.lt;e?t.li++:t.li=n?2:1}))},n.prototype.unindent=function(){this.updateLineAttributesForSelection((function(t){var e=t.li;e&&e>1?t.li=e-1:(delete t.lt,delete t.li)}))},n.prototype.getText=function(){return this.codeMirror.getValue().replace(new RegExp(r,"g"),"")},n.prototype.areLineSentinelCharacters_=function(t){for(var e=0;e<t.length;e++)if(t[e]!==r)return!1;return!0},a.prototype.equals=function(t){if(!(t instanceof a))return!1;var e;for(e in this.attributes)if(t.attributes[e]!==this.attributes[e])return!1;for(e in t.attributes)if(t.attributes[e]!==this.attributes[e])return!1;return!0},n}(),I=function(){function t(t){this.rtcm=t,this.cm=t.codeMirror,r(this,"onChange"),r(this,"onAttributesChange"),r(this,"onCursorActivity"),r(this,"onFocus"),r(this,"onBlur"),this.rtcm.on("change",this.onChange),this.rtcm.on("attributesChange",this.onAttributesChange),this.cm.on("cursorActivity",this.onCursorActivity),this.cm.on("focus",this.onFocus),this.cm.on("blur",this.onBlur),this.cm.hasFocus()&&setTimeout(this.onFocus,1)}function e(t){var e=t.lineCount()-1;return t.indexFromPos({line:e,ch:t.getLine(e).length})}function n(t,e){if(!t)throw new Error(e||"assertion error")}function r(t,e){var n=t[e];t[e]=function(){n.apply(t,arguments)}}function i(t){for(var e in t)return!1;return!0}return t.prototype.detach=function(){this.rtcm.off("change",this.onChange),this.rtcm.off("attributesChange",this.onAttributesChange),this.cm.off("cursorActivity",this.onCursorActivity),this.cm.off("focus",this.onFocus),this.cm.off("blur",this.onBlur)},t.operationFromCodeMirrorChanges=function(t,n){for(var r=e(n),i=(new b).retain(r),o=(new b).retain(r),s=t.length-1;s>=0;s--){var a=t[s],l=a.start,c=r-l-a.text.length;i=(new b).retain(l).delete(a.removed.length).insert(a.text,a.attributes).retain(c).compose(i),o=o.compose((new b).retain(l).delete(a.text.length).insert(a.removed,a.removedAttributes).retain(c)),r+=a.removed.length-a.text.length}return[i,o]},t.operationFromAttributesChanges=function(t,r){for(var i=e(r),o=new b,s=new b,a=0,l=0;l<t.length;l++){var c=t[l],h=c.start-a;n(h>=0),o.retain(h),s.retain(h);var u=c.end-c.start;o.retain(u,c.attributes),s.retain(u,c.attributesInverse),a=c.start+u}return o.retain(i-a),s.retain(i-a),[o,s]},t.prototype.registerCallbacks=function(t){this.callbacks=t},t.prototype.onChange=function(e,n){if("RTCMADAPTER"!==n[0].origin){var r=t.operationFromCodeMirrorChanges(n,this.cm);this.trigger("change",r[0],r[1])}},t.prototype.onAttributesChange=function(e,n){if("RTCMADAPTER"!==n[0].origin){var r=t.operationFromAttributesChanges(n,this.cm);this.trigger("change",r[0],r[1])}},t.prototype.onCursorActivity=function(){var t=this;setTimeout((function(){t.trigger("cursorActivity")}),1)},t.prototype.onFocus=function(){this.trigger("focus")},t.prototype.onBlur=function(){this.cm.somethingSelected()||this.trigger("blur")},t.prototype.getValue=function(){return this.cm.getValue()},t.prototype.getCursor=function(){var t,e,n,r=this.cm,i=r.getCursor(),s=r.indexFromPos(i);if(r.somethingSelected()){var a=r.getCursor(!0),l=0==(n=a,(e=i).line<n.line?-1:e.line>n.line?1:e.ch<n.ch?-1:e.ch>n.ch?1:0)?r.getCursor(!1):a;t=r.indexFromPos(l)}else t=s;return new o(s,t)},t.prototype.setCursor=function(t){this.cm.setSelection(this.cm.posFromIndex(t.position),this.cm.posFromIndex(t.selectionEnd))},t.prototype.addStyleRule=function(t){if("undefined"!=typeof document&&null!==document){if(!this.addedStyleRules){this.addedStyleRules={};var e=document.createElement("style");document.documentElement.getElementsByTagName("head")[0].appendChild(e),this.addedStyleSheet=e.sheet}if(!this.addedStyleRules[t])return this.addedStyleRules[t]=!0,this.addedStyleSheet.insertRule(t,0)}},t.prototype.setOtherCursor=function(t,e,n){var r=this.cm.posFromIndex(t.position);if("string"==typeof e&&e.match(/^#[a-fA-F0-9]{3,6}$/)){var i=this.rtcm.end();if("object"==typeof t&&"number"==typeof t.position&&"number"==typeof t.selectionEnd&&!(t.position<0||t.position>i||t.selectionEnd<0||t.selectionEnd>i)){if(t.position===t.selectionEnd){var o=this.cm.cursorCoords(r),s=document.createElement("span");s.setAttribute("data-clientid",n),s.className="other-client",s.style.setProperty("--color",e),s.style.height=.9*(o.bottom-o.top)+"px";var a=".other-client { border-left: 2px solid var(--color);\n                     margin-left: -1px; margin-right: -1px; z-index: 0; }";return this.addStyleRule(a),this.cm.setBookmark(r,{widget:s,insertLeft:!0})}var l=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");3===(t=t.replace(/^#/,"")).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e].join(",")}(e);a=".other-client-selection { background: var(--color);\n                     background: rgba(var(--color-rgb), 0.4); }",this.addStyleRule(a);var c=this.cm.posFromIndex(t.selectionEnd),[h,u]=t.selectionEnd>t.position?[r,c]:[c,r];return this.cm.markText(h,u,{className:"other-client-selection",css:`--color: ${e}; --color-rgb: ${l}`})}}},t.prototype.trigger=function(t){var e=Array.prototype.slice.call(arguments,1),n=this.callbacks&&this.callbacks[t];n&&n.apply(this,e)},t.prototype.applyOperation=function(t){t.ops.length>10&&this.rtcm.codeMirror.getWrapperElement().setAttribute("style","display: none");for(var e=t.ops,n=0,r=0,o=e.length;r<o;r++){var s=e[r];s.isRetain()?(i(s.attributes)||this.rtcm.updateTextAttributes(n,n+s.chars,(function(t){for(var e in s.attributes)!1===s.attributes[e]?delete t[e]:t[e]=s.attributes[e]}),"RTCMADAPTER",!0),n+=s.chars):s.isInsert()?(this.rtcm.insertText(n,s.text,s.attributes,"RTCMADAPTER"),n+=s.text.length):s.isDelete()&&this.rtcm.removeText(n,n+s.chars,"RTCMADAPTER")}t.ops.length>10&&(this.rtcm.codeMirror.getWrapperElement().setAttribute("style",""),this.rtcm.codeMirror.refresh())},t.prototype.registerUndo=function(t){this.cm.undo=t},t.prototype.registerRedo=function(t){this.cm.redo=t},t.prototype.invertOperation=function(t){for(var e,n,r=0,o=this.rtcm.codeMirror,s=new b,a=0;a<t.wrapped.ops.length;a++){var c=t.wrapped.ops[a];if(c.isRetain())if(i(c.attributes))s.retain(c.chars),r+=c.chars;else for(e=this.rtcm.getAttributeSpans(r,r+c.chars),n=0;n<e.length;n++){var h={};for(var u in c.attributes){var f=c.attributes[u],d=e[n].attributes[u];!1===f?d&&(h[u]=d):f!==d&&(h[u]=d||!1)}s.retain(e[n].length,h),r+=e[n].length}else if(c.isInsert())s.delete(c.text.length);else if(c.isDelete()){var p=o.getRange(o.posFromIndex(r),o.posFromIndex(r+c.chars));e=this.rtcm.getAttributeSpans(r,r+c.chars);var g=0;for(n=0;n<e.length;n++)s.insert(p.substr(g,e[n].length),e[n].attributes),g+=e[n].length;r+=c.chars}}return new l(s,t.meta.invert())},t}();var E=n(3981),C=n(4155);const S={userId:"null-user",userColor:"#9999FF"};class x extends c{constructor(t,e={}){e=Object.assign({},S,e);var n=new k(null,e.userId,e.userColor);super(n,x.createEditorAdapter(t,e)),n.target=this,this.editor=t,this.events=new r.EventEmitter,this.cursorMonitor=new L(n)}setUserId(t){this.serverAdapter.setUserId(t)}setUserColor(t){this.serverAdapter.setUserColor(t)}static createEditorAdapter(t,e={}){switch(e.type??t.constructor.name){case"CodeMirror":case"CodeMirror5":return x.createCodeMirror5Adapter(t,e);case"EditorView":case"CodeMirror6":return x.createCodeMirror6Adapter(t,e);default:throw new Error(`unable to detect editor (got: '${t.constructor.name}'`)}}static createCodeMirror6Adapter(t,e){return new E.CodeMirror6Adapter(t)}static createCodeMirror5Adapter(t,e){var n=new y,r=new _(t,n,{cssPrefix:"firepad-"});return new I(r)}data(t){t.operation&&this.serverAdapter.trigger("operation",this._op(t.operation)),t.cursor&&this.serverAdapter.trigger("cursor",t.cursor.user,t.cursor.at,t.cursor.color,t.cursor.tm)}on(t,e){this.events.on(t,e)}off(t,e){this.events.off(t,e)}trigger(t,...e){this.events.emit(t,...e)}_op(t){return t instanceof b?t:b.fromJSON(t)}dispose(){this.onBlur(),this.destroyed=!0,this.serverAdapter.dispose(),this.editorAdapter.detach(),this.editorAdapter.rtcm&&this.editorAdapter.rtcm.detach(),this.cursorMonitor.dispose()}}class k extends v{constructor(t,e,n){super(e,n),this.target=t}sendOperation(t,e){var n=new B(this.target,this,t,e);this.target.trigger("data",n),n.isDefaultPrevented||C.nextTick((()=>n.accept()))}sendCursor(t){var e={at:t,user:this.userId_,color:this.userColor_,tm:+new Date};this.target.trigger("data",{cursor:e})}}class B{constructor(t,e,n,r){this.target=t,this.adapter=e,this.operation=n,this.callback=r,this.isDefaultPrevented=!1}accept(){this.adapter.trigger("ack"),this.callback&&this.callback.apply(null)}reject(){this.adapter.trigger("retry"),this.callback&&this.callback.apply(null)}preventDefault(){this.isDefaultPrevented=!0}}class L{constructor(t){this.serverAdapter=t,this.timestamps=new Map,this.retireTimeout=L.RETIRE_TIMEOUT,this.serverAdapter.on("cursor",((t,e,n,r)=>this.record(t,e,r))),this.watchdog=setInterval((()=>this.cleanup()),L.WATCHDOG_INTERVAL)}record(t,e,n){this.timestamps.set(t,n??+new Date)}cleanup(){let t=+new Date,e=[...this.timestamps.entries()].filter((([e,n])=>!n||t-n>this.retireTimeout));for(let[t,n]of e)this.serverAdapter.emit("retire",t),this.serverAdapter.emit("cursor",t,null,null),this.timestamps.delete(t)}dispose(){clearInterval(this.watchdog)}static RETIRE_TIMEOUT=9e3;static WATCHDOG_INTERVAL=6e3}},8334:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DocumentClient:()=>bt,SyncPad:()=>Et});var r=n(9282),i=n.n(r),o=n(7187),s=n(1798),a=n.n(s),l=n(4286),c=n.n(l),h=n(942),u=n.n(h),f=n(4650),d=n.n(f),p=n(9050),g=n.n(p),y=n(5903),m=n.n(y),b=n(260),v=n.n(b),A=n(4954),w=n.n(A),_=n(973),I=n.n(_);function E(t){return t&&t.toString("hex")}class C extends Map{get(t){return super.get(this.realKey(t))}set(t,e){return super.set(this.realKey(t),e)}delete(t){return super.delete(this.realKey(t))}has(t){return super.has(this.realKey(t))}realKey(t){return t}}class S extends C{realKey(t){return E(t)}}class x extends Set{constructor(...t){super(...t),this.l=[...this]}add(t){this.has(t)||(super.add(t),this.l.push(t),this._poke())}remove(t){super.remove(t);var e=this.l.indexOf(t);e>=0&&(this.l.splice(e,1),this._poke())}clear(){super.clear(),this.l.splice(0),this._poke()}ev=new o.EventEmitter;observe(t){this.ev.on("change",t)}_poke(){this.ev.emit("change",this)}}var k=n(4315),B=n.n(k),L=(n(2520),n(4037)),O=n.n(L),T=n(9164),R=n.n(T),M=(n(9997),n(5834)),N=n.n(M);const D={key:n(8764).Buffer.from("global key for public feeds :):)"),feed:{},meta:{transitive:!0}};class U extends o.EventEmitter{constructor(t){super(),this.opts=u()(D,t),this.localFeeds=[],this.remoteFeeds=[],this._listenPromises=new Map,this._replicated=new Set}get feeds(){return this.localFeeds.concat(this.remoteFeeds)}replicate(t,e){e=u()({extensions:this.opts.extensions},e);var n=new Q(t,this.opts.key,e).on("handshake",(()=>this._populate(n))).on("control",(t=>this._control(n,t))).on("error",(t=>this.emit("error",t,n))).on("close",(()=>this._replicated.delete(n)));return this._replicated.add(n),n}create(t,e){var n=this._mkfeed(null,t,e);return this.localFeeds.push(n),this._waitForReady(n)}get(t){return this.getOrElse(t,(()=>{throw new Error(`feed not found (key='${t.toString("hex")}')`)}))}getOrElse(t,e){var n=t.toString("hex"),r=this.feeds.find((t=>F(t)===n));return r?this._waitForReady(r):"function"==typeof e?e(t):e}listen(t,e,n){var r=this._listenPromises.get(t);return r||this._listenPromises.set(t,r=this._listen(t,e,n)),r}_listen(t,e,n){var r=this._mkfeed(t,e,n);return this.remoteFeeds.push(r),this._waitForReady(r)}load(t){var e=t.loadAll().map((({opts:t,meta:e})=>this._mkfeed(null,t,e)));return this.remoteFeeds.push(...e),Promise.all(e.map((async t=>(await this._waitForReady(t),this._listenPromises.set(F(t),Promise.resolve(t)),t))))}longKey(t){return F(t)}shortKey(t){return P(t)}_mkfeed(t,e,n){e=u()(this.opts.feed,e);var r=O()(e.storage||this.opts.storage||this.opts.storageFactory?.(t,n),t,e);r.opts=e,r.meta=u()(this.opts.meta,n);for(let t of e.extensions??[])r.registerExtension(t,{onmessage:(e,n)=>{this.emit("feed:extension",r,{name:t,msg:e,peer:n})},onerror:console.error});return r.on("ready",(()=>{console.log(`feed %c${P(r)}`,"color: blue;"),this.emit("feed:ready",r)})),r.on("error",(t=>this.emit("feed:error",r,t))),r.on("append",(()=>{this._onAppend(r),this.emit("feed:append",r)})),r.lastLength=0,r._new=!0,r}_waitForReady(t){return t.key?Promise.resolve(t):new Promise(((e,n)=>{t.on("ready",(()=>{t.removeListener("error",n),e(t)})),t.on("error",n)}))}_control(t,e){for(let n of e.have||[]){let{key:e,opts:r,meta:i}=n;this.localFeeds.some((t=>F(t)===e))||this.listen(e,r,i).then((e=>t.share(e)))}}publish(t=this.localFeeds){for(let e of this._replicated)e.publish(t)}_populate(t){var e=this.localFeeds.filter((t=>t.length>0)).concat(this.remoteFeeds.filter((t=>t.meta&&t.meta.transitive)));t.publish(e)}_onAppend(t){t._new&&t.writable&&(this.publish([t]),t._new=!1)}}class Q extends(R()){constructor(t,e,n){super(t,n),this.metastream=this.open(e,{ondata:t=>this._onData(t)}),this._index=0,this._shared=new WeakSet}control(t){var e=this._index++;this.metastream.data({index:e,value:JSON.stringify(t)})}_onData(t){this.emit("control",JSON.parse(t.value))}share(t){this._shared.has(t)||(this._shared.add(t),t.replicate(this,{live:!0}))}publish(t){if(t.length>0){for(let e of t)this.share(e);var e=t.map((t=>({key:F(t),opts:t.opts,meta:t.meta})));this.control({have:e})}}chunked(t=65536){var e=N().ofDuplex(this,t);return this.on("handshake",(()=>e.emit("handshake"))),e}}class j extends o.EventEmitter{constructor(t,e=(()=>!0)){super(),this.client=t,this.selector=e,this.members=new Map,this._initEvents(),this._initMembers()}isSynchronized(){return function(t,e){for(let n of t)if(!e(n))return!1;return!0}(this.members.entries(),(([t,{loc:e,stats:n}])=>e===j.Loc.LOCAL||n.index>=t.length-1))}_initEvents(){this.client.crowd.on("feed:ready",(t=>{this.selector(t)&&this._add(t)})),this.client.on("feed:append",(t=>{if(this.selector(t.feed)){var e=t.info=this.members.get(t.feed);this.emit("feed:append",t),this._updateStats(e,t)}}))}_initMembers(){for(let t of this.client.crowd.feeds)this.selector(t)&&this._add(t)}_add(t){this.members.set(t,{loc:this._locationOf(t),stats:{index:-1}})}_locationOf(t){return this.client.crowd.localFeeds.includes(t)?j.Loc.LOCAL:j.Loc.REMOTE}_updateStats(t,e){i()(t),t.loc===j.Loc.REMOTE&&(t.stats.index=Math.max(t.stats.index,e.index),e.index>=e.feed.length-1&&this.isSynchronized()&&this.emit("sync"))}}function F(t){return t&&t.key&&t.key.toString("hex")}function P(t){var e=F(t);return e&&e.substring(0,7)}j.Loc=Object.freeze({LOCAL:0,REMOTE:1});const H="undefined"==typeof WebSocket?n(5840).w3cwebsocket:void 0,K="undefined"==typeof RTCPeerConnection?n(9347):void 0,z={appName:"ronin-p2p",servers:{hub:"wss://pl.cs.technion.ac.il/wh",ice:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]},{urls:["turn:pwr.zapto.org:3478"],username:"power",credential:"to-the-people"}]}};class V extends o.EventEmitter{constructor(t){super(),this.opts=u()(z,t),this.id=this.opts.id||a()(32),this.deferred={init:I()()},this.channels=new Map,this.activeChannels=new x,this.opened=!1}init(){return this._initPromise||(this._initPromise=this._init().then((()=>this.deferred.init.resolve())))}_init(){return new Promise(((t,e)=>{this.hub=m()(this.opts.appName,[this.opts.servers.hub],H),this.hub.subscribe("*").pipe(d().obj((t=>{t.motd&&this._configureFromMotd(t.motd)}))),this.hub.once("open",(()=>{this.opened=!0,this._registerCloseEvents(),t(),this.emit("init")})),this.hub.on("error",(t=>{console.warn("[signalhub connection]",t.url,t.event),this.opened||this.emit("disconnect")})),console.log(`me: %c${this.id.toString("hex")}`,"color: green;"),this._registerReconnect()}))}async join(t,e=V.StandardChannel){var n=this.channels.get(t);return n||(function(t,e,n){Array.isArray(e)||(e=[e]);for(let r of e)t.on(r,((...e)=>n.emit(r,t,...e)))}(n=new e(this,t,this._channelOptions()),["peer:join","peer:ready","peer:leave"],this),this.channels.set(t,n)),await this.init(),n.isActive||n.join(),this.activeChannels.add(t),n}close(){this._unregisterReconnect(),this.hub&&this.hub.close();for(let t of this.channels.values())t.leave();this.activeChannels.clear(),this.opened=!1,this._initPromise=null}async reconnect(){var t=new Date;if(this._lastReconnect&&t-this._lastReconnect<1e3)setTimeout((()=>!this.opened&&this.reconnect()),5e3);else{this._lastReconnect=t;var e=t.toLocaleTimeString();console.log(`%c- reconnect - %c${e}`,"color: red;","color: #ccc"),this.close(),await this.init();for(let t of this.channels.values())t.join(),this.activeChannels.add(t.name)}}getPeer(t,e){t.id&&(t=t.id);for(let r of this._channelsBy(e)){var n=r.peers.get(t);if(n)return{id:t,...n}}}getPeers(t){return[].concat(...this._channelsBy(t).map((t=>[...t.peers.entries()].map((([t,e])=>({id:t,...e}))))))}getSuspended(t){return[].concat(...this._channelsBy(t).map((t=>[...t.swarm?.suspended??[]])))}_channelsBy(t){return t?[this.channels.get(t)].filter((t=>t)):[...this.channels.values()]}_channelOptions(){var t=this.opts.servers?.ice,e=t?{config:{iceServers:t}}:{};return this.opts.connection&&(e=u()(e,this.opts.connection)),e}_registerCloseEvents(){for(let t of this.hub.sockets)t.onclose=()=>this.emit("disconnect")}_registerReconnect(){this._reconnectHandler||(this._reconnectHandler=()=>this.reconnect(),this.on("disconnect",this._reconnectHandler))}_unregisterReconnect(){this._reconnectHandler&&(this.removeListener("disconnect",this._reconnectHandler),this._reconnectHandler=null)}_configureFromMotd(t){let e=this.opts.servers?.ice;t.ice&&e&&!e.some((e=>JSON.stringify(e)==JSON.stringify(t.ice)))&&e.push(t.ice)}}V.DirectChannel=class extends o.EventEmitter{constructor(t,e,n={}){super(),this.client=t,this.name=e,this.opts=n}join(){}leave(){}connectTo(t){t._handle(this._open(t.client.id,!0),this.client.id)}_handle(t,e){const n=this._open(e,!1);if(n)return c()(t,n,t),n}_open(t,e){if(this.client.opts.stream){const n=this.client.opts.stream({id:t,channel:this,initiator:e});return n.on("handshake",(()=>this.emit("peer:ready",{id:t}))),n}}isActive(){return!0}},V.StandardChannel=class extends o.EventEmitter{constructor(t,e,n={}){super(),this.client=t,this.name=e,this.opts=n,this.peers=new S,this.client.hub&&this.join()}join(){var t=this.client.hub,e=E(this.client.id);i()(t),this.hub=this.name?v()(t,`:${this.name}:`):t,i()(!this.swarm),this.swarm=g()(this.hub,{wrtc:K,uuid:e,...this.opts}),this.swarm.on("peer",((t,e)=>{this.peers.set(e,{peer:t,wire:this._handle(t,e)}),this.emit("peer:join",{id:e,peer:t})})),this.swarm.on("disconnect",((t,e)=>{this.peers.delete(e),this.emit("peer:leave",{id:e,peer:t})}))}leave(){this.swarm&&this.swarm.close(),this.swarm=void 0}get isActive(){return!!this.swarm}_handle(t,e){if(this.client.opts.stream){const n=this.client.opts.stream({id:e,channel:this,initiator:t.initiator});return n.on("handshake",(()=>this.emit("peer:ready",{id:e,peer:t}))),c()(t,n,t),n}}};class Y extends V{constructor(t){super(u()({storageFactory:()=>w(),stream:t=>this._stream(t)},t)),this.crowd=new U({storageFactory:this.opts.storageFactory,extensions:["shout"]}),this.crowd.on("feed:ready",(t=>this.onAppend(t))),this.crowd.on("feed:append",(t=>this.onAppend(t))),this.crowd.on("feed:error",((t,e)=>this.onError(t,e))),this.crowd.on("error",(t=>this.onError(null,t)))}_stream(t){console.log("stream",{id:t.id,initiator:t.initiator});try{return this.crowd.replicate(t.initiator,{id:t.id}).chunked()}catch(t){console.error(t)}}async create(t,e,n){var r=await this.crowd.create(t,e);return(n||!this.feed&&!1!==n)&&(this.feed=r),r}get key(){return this.crowd.longKey(this.feed)}async onAppend(t){if(!t.opts||!t.opts.sparse||t.opts.eagerUpdate){var e=t.lastLength,n=t.length;t.lastLength=t.length;for(let r=e;r<n;r++)await this._feedGet(t,r).then((e=>{this.emit("feed:append",{me:this.key,from:this.crowd.longKey(t),feed:t,index:r,data:e})})).catch((e=>this.onError(t,e)))}}onError(t,e){console.error("[feed error]",this.crowd.shortKey(t),e)}_feedGet(t,e){return new Promise(((n,r)=>t.get(e,((t,e)=>t?r(t):n(e)))))}}var W=n(6486),q=n.n(W),G=n(2830),$=n.n(G),J=n(5301),X=n.n(J);class Z extends o.EventEmitter{constructor(){super(...arguments),this.docs=new Map,this.syncStates=new Map}createDoc(t){return this._createDoc(t).doc}getDoc(t){return this.docs.get(t)?.doc}setDoc(t,e){var n=this.docs.get(t);if(!n)throw new Error("cannot set doc without observable");n.doc=e,this.emit("change",t,e)}_createDoc(t){var e=this._mkDoc();return this.docs.set(t,e),this.emit("change",t,e.doc),e}_mkDoc(){return new tt}observe(t,e,n){this.docs.get(t).observable.observe(e,n)}registerHandler(t){this.on("change",t)}unregisterHandler(t){this.off("change",t)}}class tt{constructor(){this.observable=new(X().Observable),this.doc=X().init({observable:this.observable})}}class et{park(){var t,e=this.docSlot||this,n=new Promise(((r,i)=>{t=()=>{var t=this.get();t&&(n.cancel(),r(t))},e.registerHandler(t)}));return n.cancel=()=>e.unregisterHandler(t),t(),n}}class nt extends et{constructor(t,e){super(),this.docSet=t,this.docId=e}get(){return this.docSet.getDoc(this.docId)}getFrom(t){return t}set(t){this.docSet.setDoc(this.docId,t)}get docSlot(){return this}change(t,e){var n=this.get()||this.create(),r=X().change(n,t);return e&&e(r),r!==n&&this.set(r),r}create(){return this.docSet.createDoc(this.docId)}path(...t){return(t=st(t))&&t.length?new it(this,t):this}object(t){return"string"!=typeof t&&(t=X().getObjectId(t)),new ot(this,t)}registerHandler(t){var e;this.docSet.registerHandler(e=(e,n)=>{e===this.docId&&t(n)}),t._sloth=e}unregisterHandler(t){t._sloth&&this.docSet.unregisterHandler(t._sloth)}}class rt extends et{registerHandler(t){var e,n=this.get();this.docSlot.registerHandler(e=e=>{var r=n;(n=this.getFrom(e))!==r&&t(n,r)}),t._sloth=e._sloth}unregisterHandler(t){this.docSlot.unregisterHandler(t)}}class it extends rt{constructor(t,e=[]){super(),this.docSlot=t,this._path=e}get(){return this.getFrom(this.docSlot.get())}getFrom(t){return this._getPath(t,this._path)}set(t){var e;return this.docSlot.change((n=>{var r=this._getPath(n,this._path.slice(0,-1),(()=>({}))),i=this._path.slice(-1)[0];"function"==typeof t&&(t=t(r[i])),t instanceof Promise||(r[i]=t,e=r[i])})),t instanceof Promise?t.then((t=>this.set(t))):X().getObjectId(e)}change(t,e){return this.docSlot.change((e=>t(this.getFrom(e))),e)}path(...t){return(t=st(t))&&t.length?this.docSlot.path(this._path.concat(t)):this}object(t){return this.docSlot.object(t)}_getPath(t,e,n){for(let i of e){if(void 0===t)break;var r=t[i];t=n&&"object"!=typeof r?(t[i]=n(),t[i]):r}return t}}class ot extends rt{constructor(t,e){super(),this.docSlot=t,this.objectId=e}get(){return this.getFrom(this.docSlot.get())}getFrom(t){return X().getObjectById(t,this.objectId)}getProxiedFrom(t){if(X().getObjectId(t)===this.objectId)return t;for(let n of Object.values(t))if("object"==typeof n){var e=this.getProxiedFrom(n);if(e)return e}}set(t){throw new Error("cannot set object by identifier only")}change(t,e){return this.docSlot.change((e=>t(this.getProxiedFrom(e))),e)}path(...t){return new it(this,t)}object(t){return this.docSlot.object(t)}}function st(t){return[].concat(...t.map((t=>"string"==typeof t?[t]:t)))}var at=n(1227);const lt=n.n(at)()("automerge-compat");class ct extends Z{_mkDoc(){return new pt}generateSyncMessages(t){var e=new Map;for(let[r,i]of this.docs.entries())if(i instanceof pt){var n=i.generateSyncMessages(t);n&&e.set(r,n)}return e.size>0?e:null}receiveSyncMessages(t,e){for(let[r,i]of e.entries()){var n=this.docs.get(r)||this._createDoc(r);if(!(n instanceof pt))throw new Error(`receiving changes for doc '${r}', which does not have a sync`);n.receiveSyncMessages(t,i),this.emit("change",r,n.doc)}}resetSyncState(t){for(let[e,n]of this.docs.entries())n instanceof pt&&n.resetSyncState(t)}save(){let t=new Map;for(let[e,n]of this.docs.entries())t.set(e,X().save(n.doc));return ht.encode(t)}}var ht,ut;!function(t){function e(t){var e=new dt(null),n=[],r=new TextEncoder;for(let[o,s]of t.entries()){var i=r.encode(o);n.push([i,s]),e.dry(i),e.dry(s)}e=new dt(new Uint8Array(e.cur));for(let[t,r]of n)e.put(t),e.put(r);return e}function n(t,e){for(var n=new Map,r=new TextDecoder;!t.eof();){var i=r.decode(t.get()),o=e(t.get());n.set(i,o)}return n}t.encode=function(t){return e(t).buf},t.decode=function(t,e){return n(new dt(t),e)},t.pack=e,t.unpack=n}(ht||(ht={})),function(t){t.encode=function(t){return ht.encode(t)},t._decode=function(t){return new dt(t),ht.decode(t,(t=>{let e=t;return e.__binarySyncMessage=!0,e}))}}(ut||(ut={}));class ft extends o.EventEmitter{constructor(t,e,n){if(super(),this.peerId="*",this.paused=!1,this.queue=[],"function"==typeof e?this.on("data",e):"object"==typeof e&&(n??(n=e)),this.ds=t,this.opts=n={sync:!1,selfLoop:!0,...n},n?.sync)this.ds.on("change",(()=>this.notify())),Promise.resolve().then((()=>this.notify()));else{const t=(r=()=>this.notify(),i=!1,()=>{i||(i=!0,Promise.resolve().then((()=>{i=!1,r()})))});this.ds.on("change",t),t()}var r,i}notify(){var t=this.ds.generateSyncMessages(this.peerId);t&&(this._send(t),this.opts.selfLoop&&this.ds.receiveSyncMessages(this.peerId,t))}poke(){this.ds.resetSyncState(this.peerId),this.notify()}data(t){var e=this._decode(t);lt("received message",e),this.ds.receiveSyncMessages(this.peerId,e),this.notify()}receiveMsg(t){this.data(t)}pause(){this.paused=!0}resume(){this.paused=!1;for(var t;t=this.queue.shift();)this._send(t)}_send(t){this.paused?this.queue.push(t):(lt("sending message",t),this.emit("data",this._encode(t)))}_encode(t){return ut.encode(t)}_decode(t){return ut._decode(t)}}class dt{constructor(t,e=0){this.buf=t,this.cur=e,this.view=t&&new DataView(t.buffer,t.byteOffset,t.byteLength)}get(){var t=this.view.getUint32(this.cur,!0),e=this.buf.slice(this.cur+4,this.cur+4+t);return this.cur+=4+t,e}eof(){return this.cur>=this.buf.length}put(t){this.view.setUint32(this.cur,t.length,!0),this.buf.set(t,this.cur+4),this.cur+=4+t.length}dry(t){this.cur+=4+t.length}}class pt extends tt{constructor(){super(...arguments),this.syncStates=new Map}generateSyncMessages(t){var[e,n]=X().generateSyncMessage(this.doc,this.getSyncState(t));return this.syncStates.set(t,e),n}receiveSyncMessages(t,e){var[n,r]=X().receiveSyncMessage(this.doc,this.getSyncState(t),e);return this.doc=n,this.syncStates.set(t,r),[n,r]}getSyncState(t){if(!t)return X().initSyncState();var e=this.syncStates.get(t);return e||this.syncStates.set(t,e=X().initSyncState()),e}resetSyncState(t){t?this.syncStates.delete(t):this.syncStates.clear()}save(){return X().save(this.doc)}}const gt={opsThreshold:128};class yt extends o.EventEmitter{constructor(t){super(),this.opts=u()(gt,t),this.docs=new ct,this.protocol=new ft(this.docs,(t=>this.sendMsg(t))),this.docs.registerHandler(((t,e)=>this._onSetDoc(t,e)))}sendMsg(t){for(let e of function*(t,e){if(t.changes){var n=o(),r=0;for(let s of t.changes)r>0&&r+s.ops.length>e&&(yield n,n=o(),r=0),n.changes.push(s),n.clock=i(n.clock,s),r+=s.ops.length;r>0&&(yield n)}else yield t;function i(t,e){var n={};return n[e.actor]=e.seq,Object.assign({},t,n)}function o(){return Object.assign({},t,{changes:[]})}}(t,this.opts.opsThreshold))this.emit("data",e)}data(t){this.protocol.receiveMsg(t)}create(t=$()()){return this.docs.createDoc(t),new nt(this.docs,t)}ls(){return[...this.docs.docs.keys()]}has(t){return!!this.docs.getDoc(t)}path(t,...e){return new nt(this.docs,t).path(...e)}object(t,e){return"object"==typeof e&&(e=X().getObjectId(e)),new nt(this.docs,t).object(e)}change(t,e){var n=this.docs.getDoc(t);if(!n)throw new Error(`document missing: '${t}'`);return this.docs.setDoc(t,X().change(n,e))}snapshot(t,e){var n=X().save(this.path(t).get());return e&&(e=e.replace(/^file:\/\//,""),B().writeFileSync(e,n)),n}restore(t,e){"string"==typeof e&&(e=B().readFileSync(e));var n=X().load(e);return this.create(t).set(n),n}_onSetDoc(t,e){this.emit("change",{id:t,doc:e})}}var mt=n(8764).Buffer;class bt extends Y{constructor(t){super(t),this._setupDoc(),this._tuneInForShouts()}async _setupDoc(){this.docFeeds={},this.docGroup=new j(this,(t=>t.meta&&"docsync"===t.meta.type)),this.sync=new yt,this.sync.on("data",(t=>{this.docFeeds.transient?.extension("crdt",mt.from(t))})),this.crowd.on("feed:extension",((t,{name:e,msg:n,peer:r})=>{"crdt"===e&&this.sync.data(n.slice(0,n.length-9))})),this.docGroup.on("feed:append",(t=>{this.sync.protocol.poke()})),this.isSynchronized=()=>engage&&this.docGroup.isSynchronized()}async _init(){await super._init(),await this._initFeeds()}async _initFeeds(){var t=this.docFeeds;t.transient||(t.transient=await this.create({extensions:["shout","crdt"]},{type:"docsync",transitive:!1},!1)),t.transient.append("^")}shout(){this.docFeeds.transient.extension("shout",mt.from(""))}_tuneInForShouts(){this.crowd.on("feed:extension",((t,{name:e,msg:n,peer:r})=>{"shout"===e&&(console.log(`${e} %c${P(t)}`,"color: green;"),this.emit("shout"))}))}}var vt=n(5877),At=n.n(vt),wt=n(1645),_t=n(4630),It=(n(3454),n(4155));class Et{constructor(t,e,n={}){this.editor=this._initializeEditor(t,n),this.slot=e,this.firepad=new wt.FirepadCore(this.editor,n),this.user=n.id??At().v4().slice(0,8),this.firepad.serverAdapter.setUserId(this.user),this.tm=void 0,this._outbox=void 0,this._active=!0,this._ready=(this._park=e.park()).then((()=>{if(!this._active)throw new Error("syncpad cancelled");this._formLink()}))}destroy(){this._active=!1,this._park&&this._park.cancel(),this.fpHandler&&this.firepad.off("data",this.fpHandler),this.amHandler&&this.amHandler.unregister(),this._debouncedPatch&&this._debouncedPatch.cancel(),this.firepad.onBlur(),this.firepad.dispose()}get ready(){return this._ready}get active(){return this._active}new(t){this.slot.set(Ct.fromText(t))}createWriteStream(t=!0){return d().obj(((t,e,n)=>{try{this.editor.replaceRange(t,{line:1/0}),n()}catch(t){n(t)}})).on("error",(()=>{t&&this.destroy()})).on("finish",(()=>{t&&this.destroy()}))}_formLink(){this._park=void 0;const t=(t,e)=>{if(!(t=!!q().isObject(t)&&t[e]))throw new Error(`[SyncPad] expected property '${e}' is missing`);return X().Frontend.getObjectId(t)},e=this.slot.get(),n={operations:t(e,"operations"),cursors:t(e,"cursors")};var r,o,s;this.fpHandler=t=>{t.operation&&(i()(!this._outbox),t.preventDefault(),this._outbox=t,It.nextTick((()=>{a.flush(),this._maybeAccept()}))),t.cursor&&It.nextTick((()=>this.slot.change((e=>e.cursors[this.user]=t.cursor),(t=>this.amHandler.skipFwd(t)))))},this.firepad.on("data",this.fpHandler),this.firepad.serverAdapter.on("retire",(t=>this.slot.change((e=>delete e.cursors[t])))),window.addEventListener("beforeunload",(()=>this.firepad.onBlur())),this._populate(e.operations,e.cursors),this.amHandler=(r=this.slot,o=Object.values(n),s=(t,e,n,r,i)=>{var o=[].concat(...i.map((t=>t.ops)));a(t,o)},function(t,e){var n,r=t.get()||X().init();return t.registerHandler(n=t=>{var n=X().getChanges(r,t).map((t=>X().decodeChange(t))),i=r;r=t,e(t,i,n)}),{unregister(){t.unregisterHandler(n)},skipFwd(t){r=t}}}(r.docSlot,((t,e,n)=>{(n=n.filter((t=>t.ops&&t.ops.some((t=>o.includes(t.obj)))))).length>0&&s(r.getFrom(t),r.getFrom(e),0,0,n)})));const a=function(t,e,n){var r=[],i=n.afterFlush;const o=q().debounce((()=>{for(;r.length;)t(...r.shift());i&&It.nextTick((()=>{0===r.length&&i()}))}),50,n);function s(...t){r.push(t),o()}return s.flush=()=>o.flush(),s.cancel=()=>o.cancel(),s}(((t,e)=>{let r,o=-1;for(let l of e)if(l.obj===n.operations&&"set"===l.action){r??=X().Frontend.getElementIds(t.operations);var s=St(r,l);if(s>o||console.warn("patchIndexOf",r,l,s),i()(s>o),l.insert){var a={id:r[s],v:JSON.parse(l.value)};a=this.tm.insert(s,a),this.firepad.data({operation:a}),this._maybeReject()}else a={id:l.elemId,v:JSON.parse(l.value)},i()(s>=0),this.tm.rebased(s,a);o=s}else if(l.obj===n.cursors&&"makeMap"===l.action){let e=t.cursors[l.key];e&&this.firepad.data({cursor:e})}}),0,{maxWait:500,afterFlush:()=>{this._rebase(),this._maybeAccept()}});this._debouncedPatch=a,this._restoreUI&&(this._restoreUI(),this._restoreUI=void 0)}static _operationsWithIds(t){return q().zip(t,X().Frontend.getElementIds(t)).map((([t,e])=>({id:e,v:JSON.parse(t)})))}_withIds(t){return this.constructor._operationsWithIds(t)}_tip(t){return t=t||this.slot.get().operations,i()(t.length>0),X().Frontend.getElementIds(t).slice(-1)[0]}_push(t,e){var n=this.tm.newOperation(t);n.v[0].a=this.firepad.serverAdapter.userId_,this.slot.change((t=>t.operations.push(JSON.stringify(n.v))),(t=>{this.amHandler.skipFwd(t),n.id=this._tip(this.slot.getFrom(t).operations),this.tm.push(n),e()}))}_trace(t,e="revision"){var n=this.firepad.serverAdapter.userId_;console.warn(e,n);for(let e of t.syncpad?.operations??[])e=e&&JSON.parse(e)[0],e=e&&{o:e.o,a:e.a},console.log(`${JSON.stringify(e)}`)}_rebase(){this.slot.change((t=>{for(let[e,n]of this.tm.rebase()){let r=JSON.parse(t.operations[e]);r.push(n),t.operations[e]=JSON.stringify(r)}}),(t=>{this.amHandler.skipFwd(t)}))}_maybeAccept(){if(this._outbox&&this.tm.isLinear()){var t=this._outbox;this._outbox=void 0,this._push(t.operation,(()=>t.accept()))}}_maybeReject(){if(this._outbox){var t=this._outbox;this._outbox=void 0,t.reject()}}_initializeEditor(t,e){switch(e.type??t.constructor.name){case"CodeMirror":case"CodeMirror5":let r=n(4631);e.pin&&this._cm5pin(t),t.swapDoc(new r.Doc("",e.mode??t.getOption("mode")));break;case"EditorView":case"CodeMirror6":let{EditorState:i}=n(7040);e.pin&&console.warn("[SyncPad] `opts.pin` not implemented for cm6"),t.setState(i.create({extensions:e.extensions}))}return t}_cm5pin(t){let e=t.getDoc(),n=t.getScrollInfo(),r=t.getCursor();this._restoreUI=()=>{i()(t.getValue()==e.getValue()),t.swapDoc(e),t.setCursor(r),t.scrollTo(n.left,n.top)}}_populate(t,e){i()(!this.tm),i()(this.editor.state?.doc?0===this.editor.state.doc.length:""===this.editor.getValue()),this.tm=_t.FirepadTreeMerge.from(this._withIds(t)),this.firepad.data({operation:this.tm.recompose()});for(let t of Object.values(e))this.firepad.data({cursor:t})}}class Ct{constructor(t=[],e={}){this.$type="FirepadShare",this.operations=t,this.cursors=e}clone(){return new Ct([...this.operations],{...this.cursors})}static from(t){return new Ct(t.operations,t.cursors)}static fromText(t){var e=t?[[{o:(new wt.TextOperation).insert(t)}]]:[];return new Ct(e.map(JSON.stringify))}getValue(){return _t.FirepadTreeMerge.from(this._withIds(this.operations)).getText()}_withIds(t){return Et._operationsWithIds(t)}}function St(t,e){if("_head"===e.elemId)return i()(e.insert),0;var n=t.indexOf(e.elemId);return e.insert&&n++,n}},5321:t=>{"use strict";t.exports=JSON.parse('{"O_RDONLY":0,"O_WRONLY":1,"O_RDWR":2,"S_IFMT":61440,"S_IFREG":32768,"S_IFDIR":16384,"S_IFCHR":8192,"S_IFBLK":24576,"S_IFIFO":4096,"S_IFLNK":40960,"S_IFSOCK":49152,"O_CREAT":512,"O_EXCL":2048,"O_NOCTTY":131072,"O_TRUNC":1024,"O_APPEND":8,"O_DIRECTORY":1048576,"O_NOFOLLOW":256,"O_SYNC":128,"O_SYMLINK":2097152,"O_NONBLOCK":4,"S_IRWXU":448,"S_IRUSR":256,"S_IWUSR":128,"S_IXUSR":64,"S_IRWXG":56,"S_IRGRP":32,"S_IWGRP":16,"S_IXGRP":8,"S_IRWXO":7,"S_IROTH":4,"S_IWOTH":2,"S_IXOTH":1,"E2BIG":7,"EACCES":13,"EADDRINUSE":48,"EADDRNOTAVAIL":49,"EAFNOSUPPORT":47,"EAGAIN":35,"EALREADY":37,"EBADF":9,"EBADMSG":94,"EBUSY":16,"ECANCELED":89,"ECHILD":10,"ECONNABORTED":53,"ECONNREFUSED":61,"ECONNRESET":54,"EDEADLK":11,"EDESTADDRREQ":39,"EDOM":33,"EDQUOT":69,"EEXIST":17,"EFAULT":14,"EFBIG":27,"EHOSTUNREACH":65,"EIDRM":90,"EILSEQ":92,"EINPROGRESS":36,"EINTR":4,"EINVAL":22,"EIO":5,"EISCONN":56,"EISDIR":21,"ELOOP":62,"EMFILE":24,"EMLINK":31,"EMSGSIZE":40,"EMULTIHOP":95,"ENAMETOOLONG":63,"ENETDOWN":50,"ENETRESET":52,"ENETUNREACH":51,"ENFILE":23,"ENOBUFS":55,"ENODATA":96,"ENODEV":19,"ENOENT":2,"ENOEXEC":8,"ENOLCK":77,"ENOLINK":97,"ENOMEM":12,"ENOMSG":91,"ENOPROTOOPT":42,"ENOSPC":28,"ENOSR":98,"ENOSTR":99,"ENOSYS":78,"ENOTCONN":57,"ENOTDIR":20,"ENOTEMPTY":66,"ENOTSOCK":38,"ENOTSUP":45,"ENOTTY":25,"ENXIO":6,"EOPNOTSUPP":102,"EOVERFLOW":84,"EPERM":1,"EPIPE":32,"EPROTO":100,"EPROTONOSUPPORT":43,"EPROTOTYPE":41,"ERANGE":34,"EROFS":30,"ESPIPE":29,"ESRCH":3,"ESTALE":70,"ETIME":101,"ETIMEDOUT":60,"ETXTBSY":26,"EWOULDBLOCK":35,"EXDEV":18,"SIGHUP":1,"SIGINT":2,"SIGQUIT":3,"SIGILL":4,"SIGTRAP":5,"SIGABRT":6,"SIGIOT":6,"SIGBUS":10,"SIGFPE":8,"SIGKILL":9,"SIGUSR1":30,"SIGSEGV":11,"SIGUSR2":31,"SIGPIPE":13,"SIGALRM":14,"SIGTERM":15,"SIGCHLD":20,"SIGCONT":19,"SIGSTOP":17,"SIGTSTP":18,"SIGTTIN":21,"SIGTTOU":22,"SIGURG":16,"SIGXCPU":24,"SIGXFSZ":25,"SIGVTALRM":26,"SIGPROF":27,"SIGWINCH":28,"SIGIO":23,"SIGSYS":12,"SSL_OP_ALL":2147486719,"SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION":262144,"SSL_OP_CIPHER_SERVER_PREFERENCE":4194304,"SSL_OP_CISCO_ANYCONNECT":32768,"SSL_OP_COOKIE_EXCHANGE":8192,"SSL_OP_CRYPTOPRO_TLSEXT_BUG":2147483648,"SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS":2048,"SSL_OP_EPHEMERAL_RSA":0,"SSL_OP_LEGACY_SERVER_CONNECT":4,"SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER":32,"SSL_OP_MICROSOFT_SESS_ID_BUG":1,"SSL_OP_MSIE_SSLV2_RSA_PADDING":0,"SSL_OP_NETSCAPE_CA_DN_BUG":536870912,"SSL_OP_NETSCAPE_CHALLENGE_BUG":2,"SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG":1073741824,"SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG":8,"SSL_OP_NO_COMPRESSION":131072,"SSL_OP_NO_QUERY_MTU":4096,"SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION":65536,"SSL_OP_NO_SSLv2":16777216,"SSL_OP_NO_SSLv3":33554432,"SSL_OP_NO_TICKET":16384,"SSL_OP_NO_TLSv1":67108864,"SSL_OP_NO_TLSv1_1":268435456,"SSL_OP_NO_TLSv1_2":134217728,"SSL_OP_PKCS1_CHECK_1":0,"SSL_OP_PKCS1_CHECK_2":0,"SSL_OP_SINGLE_DH_USE":1048576,"SSL_OP_SINGLE_ECDH_USE":524288,"SSL_OP_SSLEAY_080_CLIENT_DH_BUG":128,"SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG":0,"SSL_OP_TLS_BLOCK_PADDING_BUG":512,"SSL_OP_TLS_D5_BUG":256,"SSL_OP_TLS_ROLLBACK_BUG":8388608,"ENGINE_METHOD_DSA":2,"ENGINE_METHOD_DH":4,"ENGINE_METHOD_RAND":8,"ENGINE_METHOD_ECDH":16,"ENGINE_METHOD_ECDSA":32,"ENGINE_METHOD_CIPHERS":64,"ENGINE_METHOD_DIGESTS":128,"ENGINE_METHOD_STORE":256,"ENGINE_METHOD_PKEY_METHS":512,"ENGINE_METHOD_PKEY_ASN1_METHS":1024,"ENGINE_METHOD_ALL":65535,"ENGINE_METHOD_NONE":0,"DH_CHECK_P_NOT_SAFE_PRIME":2,"DH_CHECK_P_NOT_PRIME":1,"DH_UNABLE_TO_CHECK_GENERATOR":4,"DH_NOT_SUITABLE_GENERATOR":8,"NPN_ENABLED":1,"RSA_PKCS1_PADDING":1,"RSA_SSLV23_PADDING":2,"RSA_NO_PADDING":3,"RSA_PKCS1_OAEP_PADDING":4,"RSA_X931_PADDING":5,"RSA_PKCS1_PSS_PADDING":6,"POINT_CONVERSION_COMPRESSED":2,"POINT_CONVERSION_UNCOMPRESSED":4,"POINT_CONVERSION_HYBRID":6,"F_OK":0,"R_OK":4,"W_OK":2,"X_OK":1,"UV_UDP_REUSEADDR":4}')},9794:t=>{"use strict";t.exports={version:"1.0.34"}}}]);